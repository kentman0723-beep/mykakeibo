(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function nT(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Jd={exports:{}},wl={};var lv;function Db(){if(lv)return wl;lv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:u}}return wl.Fragment=e,wl.jsx=n,wl.jsxs=n,wl}var uv;function Nb(){return uv||(uv=1,Jd.exports=Db()),Jd.exports}var te=Nb(),Wd={exports:{}},Ee={};var cv;function Ob(){if(cv)return Ee;cv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),w=Symbol.iterator;function U(V){return V===null||typeof V!="object"?null:(V=w&&V[w]||V["@@iterator"],typeof V=="function"?V:null)}var J={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},X=Object.assign,K={};function ne(V,$,ae){this.props=V,this.context=$,this.refs=K,this.updater=ae||J}ne.prototype.isReactComponent={},ne.prototype.setState=function(V,$){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,$,"setState")},ne.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function ee(){}ee.prototype=ne.prototype;function re(V,$,ae){this.props=V,this.context=$,this.refs=K,this.updater=ae||J}var Ce=re.prototype=new ee;Ce.constructor=re,X(Ce,ne.prototype),Ce.isPureReactComponent=!0;var Ie=Array.isArray;function Re(){}var D={H:null,A:null,T:null,S:null},b=Object.prototype.hasOwnProperty;function R(V,$,ae){var ue=ae.ref;return{$$typeof:r,type:V,key:$,ref:ue!==void 0?ue:null,props:ae}}function M(V,$){return R(V.type,$,V.props)}function O(V){return typeof V=="object"&&V!==null&&V.$$typeof===r}function L(V){var $={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(ae){return $[ae]})}var C=/\/+/g;function rt(V,$){return typeof V=="object"&&V!==null&&V.key!=null?L(""+V.key):$.toString(36)}function Dt(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(Re,Re):(V.status="pending",V.then(function($){V.status==="pending"&&(V.status="fulfilled",V.value=$)},function($){V.status==="pending"&&(V.status="rejected",V.reason=$)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function G(V,$,ae,ue,_e){var be=typeof V;(be==="undefined"||be==="boolean")&&(V=null);var Ue=!1;if(V===null)Ue=!0;else switch(be){case"bigint":case"string":case"number":Ue=!0;break;case"object":switch(V.$$typeof){case r:case e:Ue=!0;break;case E:return Ue=V._init,G(Ue(V._payload),$,ae,ue,_e)}}if(Ue)return _e=_e(V),Ue=ue===""?"."+rt(V,0):ue,Ie(_e)?(ae="",Ue!=null&&(ae=Ue.replace(C,"$&/")+"/"),G(_e,$,ae,"",function(os){return os})):_e!=null&&(O(_e)&&(_e=M(_e,ae+(_e.key==null||V&&V.key===_e.key?"":(""+_e.key).replace(C,"$&/")+"/")+Ue)),$.push(_e)),1;Ue=0;var Nt=ue===""?".":ue+":";if(Ie(V))for(var st=0;st<V.length;st++)ue=V[st],be=Nt+rt(ue,st),Ue+=G(ue,$,ae,be,_e);else if(st=U(V),typeof st=="function")for(V=st.call(V),st=0;!(ue=V.next()).done;)ue=ue.value,be=Nt+rt(ue,st++),Ue+=G(ue,$,ae,be,_e);else if(be==="object"){if(typeof V.then=="function")return G(Dt(V),$,ae,ue,_e);throw $=String(V),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.")}return Ue}function se(V,$,ae){if(V==null)return V;var ue=[],_e=0;return G(V,ue,"","",function(be){return $.call(ae,be,_e++)}),ue}function me(V){if(V._status===-1){var $=V._result;$=$(),$.then(function(ae){(V._status===0||V._status===-1)&&(V._status=1,V._result=ae)},function(ae){(V._status===0||V._status===-1)&&(V._status=2,V._result=ae)}),V._status===-1&&(V._status=0,V._result=$)}if(V._status===1)return V._result.default;throw V._result}var ze=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var $=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent($))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)},Ge={map:se,forEach:function(V,$,ae){se(V,function(){$.apply(this,arguments)},ae)},count:function(V){var $=0;return se(V,function(){$++}),$},toArray:function(V){return se(V,function($){return $})||[]},only:function(V){if(!O(V))throw Error("React.Children.only expected to receive a single React element child.");return V}};return Ee.Activity=S,Ee.Children=Ge,Ee.Component=ne,Ee.Fragment=n,Ee.Profiler=o,Ee.PureComponent=re,Ee.StrictMode=s,Ee.Suspense=g,Ee.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,Ee.__COMPILER_RUNTIME={__proto__:null,c:function(V){return D.H.useMemoCache(V)}},Ee.cache=function(V){return function(){return V.apply(null,arguments)}},Ee.cacheSignal=function(){return null},Ee.cloneElement=function(V,$,ae){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var ue=X({},V.props),_e=V.key;if($!=null)for(be in $.key!==void 0&&(_e=""+$.key),$)!b.call($,be)||be==="key"||be==="__self"||be==="__source"||be==="ref"&&$.ref===void 0||(ue[be]=$[be]);var be=arguments.length-2;if(be===1)ue.children=ae;else if(1<be){for(var Ue=Array(be),Nt=0;Nt<be;Nt++)Ue[Nt]=arguments[Nt+2];ue.children=Ue}return R(V.type,_e,ue)},Ee.createContext=function(V){return V={$$typeof:f,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:u,_context:V},V},Ee.createElement=function(V,$,ae){var ue,_e={},be=null;if($!=null)for(ue in $.key!==void 0&&(be=""+$.key),$)b.call($,ue)&&ue!=="key"&&ue!=="__self"&&ue!=="__source"&&(_e[ue]=$[ue]);var Ue=arguments.length-2;if(Ue===1)_e.children=ae;else if(1<Ue){for(var Nt=Array(Ue),st=0;st<Ue;st++)Nt[st]=arguments[st+2];_e.children=Nt}if(V&&V.defaultProps)for(ue in Ue=V.defaultProps,Ue)_e[ue]===void 0&&(_e[ue]=Ue[ue]);return R(V,be,_e)},Ee.createRef=function(){return{current:null}},Ee.forwardRef=function(V){return{$$typeof:m,render:V}},Ee.isValidElement=O,Ee.lazy=function(V){return{$$typeof:E,_payload:{_status:-1,_result:V},_init:me}},Ee.memo=function(V,$){return{$$typeof:y,type:V,compare:$===void 0?null:$}},Ee.startTransition=function(V){var $=D.T,ae={};D.T=ae;try{var ue=V(),_e=D.S;_e!==null&&_e(ae,ue),typeof ue=="object"&&ue!==null&&typeof ue.then=="function"&&ue.then(Re,ze)}catch(be){ze(be)}finally{$!==null&&ae.types!==null&&($.types=ae.types),D.T=$}},Ee.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},Ee.use=function(V){return D.H.use(V)},Ee.useActionState=function(V,$,ae){return D.H.useActionState(V,$,ae)},Ee.useCallback=function(V,$){return D.H.useCallback(V,$)},Ee.useContext=function(V){return D.H.useContext(V)},Ee.useDebugValue=function(){},Ee.useDeferredValue=function(V,$){return D.H.useDeferredValue(V,$)},Ee.useEffect=function(V,$){return D.H.useEffect(V,$)},Ee.useEffectEvent=function(V){return D.H.useEffectEvent(V)},Ee.useId=function(){return D.H.useId()},Ee.useImperativeHandle=function(V,$,ae){return D.H.useImperativeHandle(V,$,ae)},Ee.useInsertionEffect=function(V,$){return D.H.useInsertionEffect(V,$)},Ee.useLayoutEffect=function(V,$){return D.H.useLayoutEffect(V,$)},Ee.useMemo=function(V,$){return D.H.useMemo(V,$)},Ee.useOptimistic=function(V,$){return D.H.useOptimistic(V,$)},Ee.useReducer=function(V,$,ae){return D.H.useReducer(V,$,ae)},Ee.useRef=function(V){return D.H.useRef(V)},Ee.useState=function(V){return D.H.useState(V)},Ee.useSyncExternalStore=function(V,$,ae){return D.H.useSyncExternalStore(V,$,ae)},Ee.useTransition=function(){return D.H.useTransition()},Ee.version="19.2.4",Ee}var hv;function Km(){return hv||(hv=1,Wd.exports=Ob()),Wd.exports}var q=Km();const Vb=nT(q);var Zd={exports:{}},Rl={},em={exports:{}},tm={};var fv;function Mb(){return fv||(fv=1,(function(r){function e(G,se){var me=G.length;G.push(se);e:for(;0<me;){var ze=me-1>>>1,Ge=G[ze];if(0<o(Ge,se))G[ze]=se,G[me]=Ge,me=ze;else break e}}function n(G){return G.length===0?null:G[0]}function s(G){if(G.length===0)return null;var se=G[0],me=G.pop();if(me!==se){G[0]=me;e:for(var ze=0,Ge=G.length,V=Ge>>>1;ze<V;){var $=2*(ze+1)-1,ae=G[$],ue=$+1,_e=G[ue];if(0>o(ae,me))ue<Ge&&0>o(_e,ae)?(G[ze]=_e,G[ue]=me,ze=ue):(G[ze]=ae,G[$]=me,ze=$);else if(ue<Ge&&0>o(_e,me))G[ze]=_e,G[ue]=me,ze=ue;else break e}}return se}function o(G,se){var me=G.sortIndex-se.sortIndex;return me!==0?me:G.id-se.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var g=[],y=[],E=1,S=null,w=3,U=!1,J=!1,X=!1,K=!1,ne=typeof setTimeout=="function"?setTimeout:null,ee=typeof clearTimeout=="function"?clearTimeout:null,re=typeof setImmediate<"u"?setImmediate:null;function Ce(G){for(var se=n(y);se!==null;){if(se.callback===null)s(y);else if(se.startTime<=G)s(y),se.sortIndex=se.expirationTime,e(g,se);else break;se=n(y)}}function Ie(G){if(X=!1,Ce(G),!J)if(n(g)!==null)J=!0,Re||(Re=!0,L());else{var se=n(y);se!==null&&Dt(Ie,se.startTime-G)}}var Re=!1,D=-1,b=5,R=-1;function M(){return K?!0:!(r.unstable_now()-R<b)}function O(){if(K=!1,Re){var G=r.unstable_now();R=G;var se=!0;try{e:{J=!1,X&&(X=!1,ee(D),D=-1),U=!0;var me=w;try{t:{for(Ce(G),S=n(g);S!==null&&!(S.expirationTime>G&&M());){var ze=S.callback;if(typeof ze=="function"){S.callback=null,w=S.priorityLevel;var Ge=ze(S.expirationTime<=G);if(G=r.unstable_now(),typeof Ge=="function"){S.callback=Ge,Ce(G),se=!0;break t}S===n(g)&&s(g),Ce(G)}else s(g);S=n(g)}if(S!==null)se=!0;else{var V=n(y);V!==null&&Dt(Ie,V.startTime-G),se=!1}}break e}finally{S=null,w=me,U=!1}se=void 0}}finally{se?L():Re=!1}}}var L;if(typeof re=="function")L=function(){re(O)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,rt=C.port2;C.port1.onmessage=O,L=function(){rt.postMessage(null)}}else L=function(){ne(O,0)};function Dt(G,se){D=ne(function(){G(r.unstable_now())},se)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(G){G.callback=null},r.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<G?Math.floor(1e3/G):5},r.unstable_getCurrentPriorityLevel=function(){return w},r.unstable_next=function(G){switch(w){case 1:case 2:case 3:var se=3;break;default:se=w}var me=w;w=se;try{return G()}finally{w=me}},r.unstable_requestPaint=function(){K=!0},r.unstable_runWithPriority=function(G,se){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var me=w;w=G;try{return se()}finally{w=me}},r.unstable_scheduleCallback=function(G,se,me){var ze=r.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?ze+me:ze):me=ze,G){case 1:var Ge=-1;break;case 2:Ge=250;break;case 5:Ge=1073741823;break;case 4:Ge=1e4;break;default:Ge=5e3}return Ge=me+Ge,G={id:E++,callback:se,priorityLevel:G,startTime:me,expirationTime:Ge,sortIndex:-1},me>ze?(G.sortIndex=me,e(y,G),n(g)===null&&G===n(y)&&(X?(ee(D),D=-1):X=!0,Dt(Ie,me-ze))):(G.sortIndex=Ge,e(g,G),J||U||(J=!0,Re||(Re=!0,L()))),G},r.unstable_shouldYield=M,r.unstable_wrapCallback=function(G){var se=w;return function(){var me=w;w=se;try{return G.apply(this,arguments)}finally{w=me}}}})(tm)),tm}var dv;function xb(){return dv||(dv=1,em.exports=Mb()),em.exports}var nm={exports:{}},Qt={};var mv;function Lb(){if(mv)return Qt;mv=1;var r=Km();function e(g){var y="https://react.dev/errors/"+g;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)y+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(g,y,E){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:g,containerInfo:y,implementation:E}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,y){if(g==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Qt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Qt.createPortal=function(g,y){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return u(g,y,null,E)},Qt.flushSync=function(g){var y=f.T,E=s.p;try{if(f.T=null,s.p=2,g)return g()}finally{f.T=y,s.p=E,s.d.f()}},Qt.preconnect=function(g,y){typeof g=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(g,y))},Qt.prefetchDNS=function(g){typeof g=="string"&&s.d.D(g)},Qt.preinit=function(g,y){if(typeof g=="string"&&y&&typeof y.as=="string"){var E=y.as,S=m(E,y.crossOrigin),w=typeof y.integrity=="string"?y.integrity:void 0,U=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;E==="style"?s.d.S(g,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:S,integrity:w,fetchPriority:U}):E==="script"&&s.d.X(g,{crossOrigin:S,integrity:w,fetchPriority:U,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Qt.preinitModule=function(g,y){if(typeof g=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var E=m(y.as,y.crossOrigin);s.d.M(g,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(g)},Qt.preload=function(g,y){if(typeof g=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var E=y.as,S=m(E,y.crossOrigin);s.d.L(g,E,{crossOrigin:S,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Qt.preloadModule=function(g,y){if(typeof g=="string")if(y){var E=m(y.as,y.crossOrigin);s.d.m(g,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(g)},Qt.requestFormReset=function(g){s.d.r(g)},Qt.unstable_batchedUpdates=function(g,y){return g(y)},Qt.useFormState=function(g,y,E){return f.H.useFormState(g,y,E)},Qt.useFormStatus=function(){return f.H.useHostTransitionStatus()},Qt.version="19.2.4",Qt}var pv;function Pb(){if(pv)return nm.exports;pv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),nm.exports=Lb(),nm.exports}var gv;function Ub(){if(gv)return Rl;gv=1;var r=xb(),e=Km(),n=Pb();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function f(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function m(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function g(t){if(u(t)!==t)throw Error(s(188))}function y(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return g(h),t;if(d===l)return g(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var _=!1,T=h.child;T;){if(T===a){_=!0,a=h,l=d;break}if(T===l){_=!0,l=h,a=d;break}T=T.sibling}if(!_){for(T=d.child;T;){if(T===a){_=!0,a=d,l=h;break}if(T===l){_=!0,l=d,a=h;break}T=T.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function E(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=E(t),i!==null)return i;t=t.sibling}return null}var S=Object.assign,w=Symbol.for("react.element"),U=Symbol.for("react.transitional.element"),J=Symbol.for("react.portal"),X=Symbol.for("react.fragment"),K=Symbol.for("react.strict_mode"),ne=Symbol.for("react.profiler"),ee=Symbol.for("react.consumer"),re=Symbol.for("react.context"),Ce=Symbol.for("react.forward_ref"),Ie=Symbol.for("react.suspense"),Re=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function L(t){return t===null||typeof t!="object"?null:(t=O&&t[O]||t["@@iterator"],typeof t=="function"?t:null)}var C=Symbol.for("react.client.reference");function rt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===C?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case X:return"Fragment";case ne:return"Profiler";case K:return"StrictMode";case Ie:return"Suspense";case Re:return"SuspenseList";case R:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case J:return"Portal";case re:return t.displayName||"Context";case ee:return(t._context.displayName||"Context")+".Consumer";case Ce:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case D:return i=t.displayName||null,i!==null?i:rt(t.type)||"Memo";case b:i=t._payload,t=t._init;try{return rt(t(i))}catch{}}return null}var Dt=Array.isArray,G=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me={pending:!1,data:null,method:null,action:null},ze=[],Ge=-1;function V(t){return{current:t}}function $(t){0>Ge||(t.current=ze[Ge],ze[Ge]=null,Ge--)}function ae(t,i){Ge++,ze[Ge]=t.current,t.current=i}var ue=V(null),_e=V(null),be=V(null),Ue=V(null);function Nt(t,i){switch(ae(be,i),ae(_e,t),ae(ue,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?O_(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=O_(i),t=V_(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}$(ue),ae(ue,t)}function st(){$(ue),$(_e),$(be)}function os(t){t.memoizedState!==null&&ae(Ue,t);var i=ue.current,a=V_(i,t.type);i!==a&&(ae(_e,t),ae(ue,a))}function ea(t){_e.current===t&&($(ue),$(_e)),Ue.current===t&&($(Ue),Tl._currentValue=me)}var ta,na;function ni(t){if(ta===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);ta=i&&i[1]||"",na=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ta+t+na}var To=!1;function ls(t,i){if(!t||To)return"";To=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var Q=function(){throw Error()};if(Object.defineProperty(Q.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Q,[])}catch(H){var B=H}Reflect.construct(t,[],Q)}else{try{Q.call()}catch(H){B=H}t.call(Q.prototype)}}else{try{throw Error()}catch(H){B=H}(Q=t())&&typeof Q.catch=="function"&&Q.catch(function(){})}}catch(H){if(H&&B&&typeof H.stack=="string")return[H.stack,B.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],T=d[1];if(_&&T){var I=_.split(`
`),z=T.split(`
`);for(h=l=0;l<I.length&&!I[l].includes("DetermineComponentFrameRoot");)l++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(l===I.length||h===z.length)for(l=I.length-1,h=z.length-1;1<=l&&0<=h&&I[l]!==z[h];)h--;for(;1<=l&&0<=h;l--,h--)if(I[l]!==z[h]){if(l!==1||h!==1)do if(l--,h--,0>h||I[l]!==z[h]){var F=`
`+I[l].replace(" at new "," at ");return t.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",t.displayName)),F}while(1<=l&&0<=h);break}}}finally{To=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?ni(a):""}function So(t,i){switch(t.tag){case 26:case 27:case 5:return ni(t.type);case 16:return ni("Lazy");case 13:return t.child!==i&&i!==null?ni("Suspense Fallback"):ni("Suspense");case 19:return ni("SuspenseList");case 0:case 15:return ls(t.type,!1);case 11:return ls(t.type.render,!1);case 1:return ls(t.type,!0);case 31:return ni("Activity");default:return""}}function Ao(t){try{var i="",a=null;do i+=So(t,a),a=t,t=t.return;while(t);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var yt=Object.prototype.hasOwnProperty,Ot=r.unstable_scheduleCallback,lr=r.unstable_cancelCallback,Wh=r.unstable_shouldYield,mu=r.unstable_requestPaint,en=r.unstable_now,us=r.unstable_getCurrentPriorityLevel,bo=r.unstable_ImmediatePriority,wo=r.unstable_UserBlockingPriority,ur=r.unstable_NormalPriority,Zh=r.unstable_LowPriority,pu=r.unstable_IdlePriority,gu=r.log,yu=r.unstable_setDisableYieldValue,kn=null,zt=null;function Sn(t){if(typeof gu=="function"&&yu(t),zt&&typeof zt.setStrictMode=="function")try{zt.setStrictMode(kn,t)}catch{}}var ft=Math.clz32?Math.clz32:vu,_u=Math.log,ia=Math.LN2;function vu(t){return t>>>=0,t===0?32:31-(_u(t)/ia|0)|0}var ii=256,cs=262144,_t=4194304;function ri(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function si(t,i,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var T=l&134217727;return T!==0?(l=T&~d,l!==0?h=ri(l):(_&=T,_!==0?h=ri(_):a||(a=T&~t,a!==0&&(h=ri(a))))):(T=l&~d,T!==0?h=ri(T):_!==0?h=ri(_):a||(a=l&~t,a!==0&&(h=ri(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function zn(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function ef(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Eu(){var t=_t;return _t<<=1,(_t&62914560)===0&&(_t=4194304),t}function ai(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function hs(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function tf(t,i,a,l,h,d){var _=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var T=t.entanglements,I=t.expirationTimes,z=t.hiddenUpdates;for(a=_&~a;0<a;){var F=31-ft(a),Q=1<<F;T[F]=0,I[F]=-1;var B=z[F];if(B!==null)for(z[F]=null,F=0;F<B.length;F++){var H=B[F];H!==null&&(H.lane&=-536870913)}a&=~Q}l!==0&&fs(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(_&~i))}function fs(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-ft(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function Ro(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-ft(a),h=1<<l;h&i|t[l]&i&&(t[l]|=i),a&=~h}}function Co(t,i){var a=i&-i;return a=(a&42)!==0?1:ds(a),(a&(t.suspendedLanes|i))!==0?0:a}function ds(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Mi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Tu(){var t=se.p;return t!==0?t:(t=window.event,t===void 0?32:tv(t.type))}function Bn(t,i){var a=se.p;try{return se.p=t,i()}finally{se.p=a}}var jn=Math.random().toString(36).slice(2),vt="__reactFiber$"+jn,Lt="__reactProps$"+jn,oi="__reactContainer$"+jn,ra="__reactEvents$"+jn,nf="__reactListeners$"+jn,Su="__reactHandles$"+jn,Au="__reactResources$"+jn,li="__reactMarker$"+jn;function sa(t){delete t[vt],delete t[Lt],delete t[ra],delete t[nf],delete t[Su]}function ui(t){var i=t[vt];if(i)return i;for(var a=t.parentNode;a;){if(i=a[oi]||a[vt]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=z_(t);t!==null;){if(a=t[vt])return a;t=z_(t)}return i}t=a,a=t.parentNode}return null}function An(t){if(t=t[vt]||t[oi]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function fn(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function ci(t){var i=t[Au];return i||(i=t[Au]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Et(t){t[li]=!0}var Io=new Set,Do={};function hi(t,i){fi(t,i),fi(t+"Capture",i)}function fi(t,i){for(Do[t]=i,t=0;t<i.length;t++)Io.add(i[t])}var No=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Oo={},Vo={};function bu(t){return yt.call(Vo,t)?!0:yt.call(Oo,t)?!1:No.test(t)?Vo[t]=!0:(Oo[t]=!0,!1)}function aa(t,i,a){if(bu(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function dn(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function Tt(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}function Pt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function cr(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Mo(t,i,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,d=l.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(_){a=""+_,d.call(this,_)}}),Object.defineProperty(t,i,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Ke(t){if(!t._valueTracker){var i=cr(t)?"checked":"value";t._valueTracker=Mo(t,i,""+t[i])}}function ms(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=cr(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function di(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var ps=/[\n"\\]/g;function rn(t){return t.replace(ps,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function oa(t,i,a,l,h,d,_,T){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),i!=null?_==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+Pt(i)):t.value!==""+Pt(i)&&(t.value=""+Pt(i)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),i!=null?xo(t,_,Pt(i)):a!=null?xo(t,_,Pt(a)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+Pt(T):t.removeAttribute("name")}function wu(t,i,a,l,h,d,_,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null)){Ke(t);return}a=a!=null?""+Pt(a):"",i=i!=null?""+Pt(i):a,T||i===t.value||(t.value=i),t.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_),Ke(t)}function xo(t,i,a){i==="number"&&di(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function hr(t,i,a,l){if(t=t.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=i.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Pt(a),i=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function Ru(t,i,a){if(i!=null&&(i=""+Pt(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+Pt(a):""}function fr(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(Dt(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=Pt(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),Ke(t)}function sn(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var Cu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Lo(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||Cu.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function Po(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&Lo(t,h,l)}else for(var d in i)i.hasOwnProperty(d)&&Lo(t,d,i[d])}function la(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Iu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),dr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ua(t){return dr.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function qn(){}var Uo=null;function bn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var mr=null,mi=null;function gs(t){var i=An(t);if(i&&(t=i.stateNode)){var a=t[Lt]||null;e:switch(t=i.stateNode,i.type){case"input":if(oa(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+rn(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var h=l[Lt]||null;if(!h)throw Error(s(90));oa(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&ms(l)}break e;case"textarea":Ru(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&hr(t,!!a.multiple,i,!1)}}}var ca=!1;function pr(t,i,a){if(ca)return t(i,a);ca=!0;try{var l=t(i);return l}finally{if(ca=!1,(mr!==null||mi!==null)&&(Tc(),mr&&(i=mr,t=mi,mi=mr=null,gs(i),t)))for(i=0;i<t.length;i++)gs(t[i])}}function Hn(t,i){var a=t.stateNode;if(a===null)return null;var l=a[Lt]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var wn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ys=!1;if(wn)try{var Xe={};Object.defineProperty(Xe,"passive",{get:function(){ys=!0}}),window.addEventListener("test",Xe,Xe),window.removeEventListener("test",Xe,Xe)}catch{ys=!1}var pi=null,ko=null,_s=null;function zo(){if(_s)return _s;var t,i=ko,a=i.length,l,h="value"in pi?pi.value:pi.textContent,d=h.length;for(t=0;t<a&&i[t]===h[t];t++);var _=a-t;for(l=1;l<=_&&i[a-l]===h[d-l];l++);return _s=h.slice(t,1<l?1-l:void 0)}function vs(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function xi(){return!0}function Fn(){return!1}function Bt(t){function i(a,l,h,d,_){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(a=t[T],this[T]=a?a(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?xi:Fn,this.isPropagationStopped=Fn,this}return S(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=xi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=xi)},persist:function(){},isPersistent:xi}),i}var Li={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},gi=Bt(Li),gr=S({},Li,{view:0,detail:0}),Bo=Bt(gr),yr,ha,yi,fa=S({},gr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_r,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==yi&&(yi&&t.type==="mousemove"?(yr=t.screenX-yi.screenX,ha=t.screenY-yi.screenY):ha=yr=0,yi=t),yr)},movementY:function(t){return"movementY"in t?t.movementY:ha}}),jo=Bt(fa),Es=S({},fa,{dataTransfer:0}),Du=Bt(Es),Nu=S({},gr,{relatedTarget:0}),Ts=Bt(Nu),qo=S({},Li,{animationName:0,elapsedTime:0,pseudoElement:0}),Ou=Bt(qo),da=S({},Li,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Vu=Bt(da),Mu=S({},Li,{data:0}),_i=Bt(Mu),xu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Lu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Pu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Uu(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Pu[t])?!!i[t]:!1}function _r(){return Uu}var tn=S({},gr,{key:function(t){if(t.key){var i=xu[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=vs(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Lu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_r,charCode:function(t){return t.type==="keypress"?vs(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?vs(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),ku=Bt(tn),zu=S({},fa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Pi=Bt(zu),c=S({},gr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_r}),p=Bt(c),v=S({},Li,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=Bt(v),P=S({},fa,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),j=Bt(P),ie=S({},Li,{newState:0,oldState:0}),Se=Bt(ie),dt=[9,13,27,32],qe=wn&&"CompositionEvent"in window,at=null;wn&&"documentMode"in document&&(at=document.documentMode);var Rn=wn&&"TextEvent"in window&&!at,vi=wn&&(!qe||at&&8<at&&11>=at),Gn=" ",Kn=!1;function Ss(t,i){switch(t){case"keyup":return dt.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ma(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var pa=!1;function ZS(t,i){switch(t){case"compositionend":return ma(i);case"keypress":return i.which!==32?null:(Kn=!0,Gn);case"textInput":return t=i.data,t===Gn&&Kn?null:t;default:return null}}function eA(t,i){if(pa)return t==="compositionend"||!qe&&Ss(t,i)?(t=zo(),_s=ko=pi=null,pa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return vi&&i.locale!=="ko"?null:i.data;default:return null}}var tA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qp(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!tA[t.type]:i==="textarea"}function Hp(t,i,a,l){mr?mi?mi.push(l):mi=[l]:mr=l,i=Ic(i,"onChange"),0<i.length&&(a=new gi("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var Ho=null,Fo=null;function nA(t){w_(t,0)}function Bu(t){var i=fn(t);if(ms(i))return t}function Fp(t,i){if(t==="change")return i}var Gp=!1;if(wn){var rf;if(wn){var sf="oninput"in document;if(!sf){var Kp=document.createElement("div");Kp.setAttribute("oninput","return;"),sf=typeof Kp.oninput=="function"}rf=sf}else rf=!1;Gp=rf&&(!document.documentMode||9<document.documentMode)}function Yp(){Ho&&(Ho.detachEvent("onpropertychange",Qp),Fo=Ho=null)}function Qp(t){if(t.propertyName==="value"&&Bu(Fo)){var i=[];Hp(i,Fo,t,bn(t)),pr(nA,i)}}function iA(t,i,a){t==="focusin"?(Yp(),Ho=i,Fo=a,Ho.attachEvent("onpropertychange",Qp)):t==="focusout"&&Yp()}function rA(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Bu(Fo)}function sA(t,i){if(t==="click")return Bu(i)}function aA(t,i){if(t==="input"||t==="change")return Bu(i)}function oA(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var mn=typeof Object.is=="function"?Object.is:oA;function Go(t,i){if(mn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!yt.call(i,h)||!mn(t[h],i[h]))return!1}return!0}function Xp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function $p(t,i){var a=Xp(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Xp(a)}}function Jp(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?Jp(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function Wp(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=di(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=di(t.document)}return i}function af(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var lA=wn&&"documentMode"in document&&11>=document.documentMode,ga=null,of=null,Ko=null,lf=!1;function Zp(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;lf||ga==null||ga!==di(l)||(l=ga,"selectionStart"in l&&af(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Ko&&Go(Ko,l)||(Ko=l,l=Ic(of,"onSelect"),0<l.length&&(i=new gi("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=ga)))}function As(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var ya={animationend:As("Animation","AnimationEnd"),animationiteration:As("Animation","AnimationIteration"),animationstart:As("Animation","AnimationStart"),transitionrun:As("Transition","TransitionRun"),transitionstart:As("Transition","TransitionStart"),transitioncancel:As("Transition","TransitionCancel"),transitionend:As("Transition","TransitionEnd")},uf={},eg={};wn&&(eg=document.createElement("div").style,"AnimationEvent"in window||(delete ya.animationend.animation,delete ya.animationiteration.animation,delete ya.animationstart.animation),"TransitionEvent"in window||delete ya.transitionend.transition);function bs(t){if(uf[t])return uf[t];if(!ya[t])return t;var i=ya[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in eg)return uf[t]=i[a];return t}var tg=bs("animationend"),ng=bs("animationiteration"),ig=bs("animationstart"),uA=bs("transitionrun"),cA=bs("transitionstart"),hA=bs("transitioncancel"),rg=bs("transitionend"),sg=new Map,cf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");cf.push("scrollEnd");function Yn(t,i){sg.set(t,i),hi(i,[t])}var ju=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Cn=[],_a=0,hf=0;function qu(){for(var t=_a,i=hf=_a=0;i<t;){var a=Cn[i];Cn[i++]=null;var l=Cn[i];Cn[i++]=null;var h=Cn[i];Cn[i++]=null;var d=Cn[i];if(Cn[i++]=null,l!==null&&h!==null){var _=l.pending;_===null?h.next=h:(h.next=_.next,_.next=h),l.pending=h}d!==0&&ag(a,h,d)}}function Hu(t,i,a,l){Cn[_a++]=t,Cn[_a++]=i,Cn[_a++]=a,Cn[_a++]=l,hf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function ff(t,i,a,l){return Hu(t,i,a,l),Fu(t)}function ws(t,i){return Hu(t,null,null,i),Fu(t)}function ag(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&i!==null&&(h=31-ft(a),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[i]:l.push(i),i.lane=a|536870912),d):null}function Fu(t){if(50<ml)throw ml=0,Td=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var va={};function fA(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pn(t,i,a,l){return new fA(t,i,a,l)}function df(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ui(t,i){var a=t.alternate;return a===null?(a=pn(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function og(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function Gu(t,i,a,l,h,d){var _=0;if(l=t,typeof t=="function")df(t)&&(_=1);else if(typeof t=="string")_=yb(t,a,ue.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case R:return t=pn(31,a,i,h),t.elementType=R,t.lanes=d,t;case X:return Rs(a.children,h,d,i);case K:_=8,h|=24;break;case ne:return t=pn(12,a,i,h|2),t.elementType=ne,t.lanes=d,t;case Ie:return t=pn(13,a,i,h),t.elementType=Ie,t.lanes=d,t;case Re:return t=pn(19,a,i,h),t.elementType=Re,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case re:_=10;break e;case ee:_=9;break e;case Ce:_=11;break e;case D:_=14;break e;case b:_=16,l=null;break e}_=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return i=pn(_,a,i,h),i.elementType=t,i.type=l,i.lanes=d,i}function Rs(t,i,a,l){return t=pn(7,t,l,i),t.lanes=a,t}function mf(t,i,a){return t=pn(6,t,null,i),t.lanes=a,t}function lg(t){var i=pn(18,null,null,0);return i.stateNode=t,i}function pf(t,i,a){return i=pn(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var ug=new WeakMap;function In(t,i){if(typeof t=="object"&&t!==null){var a=ug.get(t);return a!==void 0?a:(i={value:t,source:i,stack:Ao(i)},ug.set(t,i),i)}return{value:t,source:i,stack:Ao(i)}}var Ea=[],Ta=0,Ku=null,Yo=0,Dn=[],Nn=0,vr=null,Ei=1,Ti="";function ki(t,i){Ea[Ta++]=Yo,Ea[Ta++]=Ku,Ku=t,Yo=i}function cg(t,i,a){Dn[Nn++]=Ei,Dn[Nn++]=Ti,Dn[Nn++]=vr,vr=t;var l=Ei;t=Ti;var h=32-ft(l)-1;l&=~(1<<h),a+=1;var d=32-ft(i)+h;if(30<d){var _=h-h%5;d=(l&(1<<_)-1).toString(32),l>>=_,h-=_,Ei=1<<32-ft(i)+h|a<<h|l,Ti=d+t}else Ei=1<<d|a<<h|l,Ti=t}function gf(t){t.return!==null&&(ki(t,1),cg(t,1,0))}function yf(t){for(;t===Ku;)Ku=Ea[--Ta],Ea[Ta]=null,Yo=Ea[--Ta],Ea[Ta]=null;for(;t===vr;)vr=Dn[--Nn],Dn[Nn]=null,Ti=Dn[--Nn],Dn[Nn]=null,Ei=Dn[--Nn],Dn[Nn]=null}function hg(t,i){Dn[Nn++]=Ei,Dn[Nn++]=Ti,Dn[Nn++]=vr,Ei=i.id,Ti=i.overflow,vr=t}var jt=null,nt=null,Pe=!1,Er=null,On=!1,_f=Error(s(519));function Tr(t){var i=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Qo(In(i,t)),_f}function fg(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[vt]=t,i[Lt]=l,a){case"dialog":Ne("cancel",i),Ne("close",i);break;case"iframe":case"object":case"embed":Ne("load",i);break;case"video":case"audio":for(a=0;a<gl.length;a++)Ne(gl[a],i);break;case"source":Ne("error",i);break;case"img":case"image":case"link":Ne("error",i),Ne("load",i);break;case"details":Ne("toggle",i);break;case"input":Ne("invalid",i),wu(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Ne("invalid",i);break;case"textarea":Ne("invalid",i),fr(i,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||D_(i.textContent,a)?(l.popover!=null&&(Ne("beforetoggle",i),Ne("toggle",i)),l.onScroll!=null&&Ne("scroll",i),l.onScrollEnd!=null&&Ne("scrollend",i),l.onClick!=null&&(i.onclick=qn),i=!0):i=!1,i||Tr(t,!0)}function dg(t){for(jt=t.return;jt;)switch(jt.tag){case 5:case 31:case 13:On=!1;return;case 27:case 3:On=!0;return;default:jt=jt.return}}function Sa(t){if(t!==jt)return!1;if(!Pe)return dg(t),Pe=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Pd(t.type,t.memoizedProps)),a=!a),a&&nt&&Tr(t),dg(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));nt=k_(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));nt=k_(t)}else i===27?(i=nt,Lr(t.type)?(t=jd,jd=null,nt=t):nt=i):nt=jt?Mn(t.stateNode.nextSibling):null;return!0}function Cs(){nt=jt=null,Pe=!1}function vf(){var t=Er;return t!==null&&(un===null?un=t:un.push.apply(un,t),Er=null),t}function Qo(t){Er===null?Er=[t]:Er.push(t)}var Ef=V(null),Is=null,zi=null;function Sr(t,i,a){ae(Ef,i._currentValue),i._currentValue=a}function Bi(t){t._currentValue=Ef.current,$(Ef)}function Tf(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function Sf(t,i,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var _=h.child;d=d.firstContext;e:for(;d!==null;){var T=d;d=h;for(var I=0;I<i.length;I++)if(T.context===i[I]){d.lanes|=a,T=d.alternate,T!==null&&(T.lanes|=a),Tf(d.return,a,t),l||(_=null);break e}d=T.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(s(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),Tf(_,a,t),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===t){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function Aa(t,i,a,l){t=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var T=h.type;mn(h.pendingProps.value,_.value)||(t!==null?t.push(T):t=[T])}}else if(h===Ue.current){if(_=h.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Tl):t=[Tl])}h=h.return}t!==null&&Sf(i,t,a,l),i.flags|=262144}function Yu(t){for(t=t.firstContext;t!==null;){if(!mn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Ds(t){Is=t,zi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function qt(t){return mg(Is,t)}function Qu(t,i){return Is===null&&Ds(t),mg(t,i)}function mg(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},zi===null){if(t===null)throw Error(s(308));zi=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else zi=zi.next=i;return a}var dA=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},mA=r.unstable_scheduleCallback,pA=r.unstable_NormalPriority,St={$$typeof:re,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Af(){return{controller:new dA,data:new Map,refCount:0}}function Xo(t){t.refCount--,t.refCount===0&&mA(pA,function(){t.controller.abort()})}var $o=null,bf=0,ba=0,wa=null;function gA(t,i){if($o===null){var a=$o=[];bf=0,ba=Cd(),wa={status:"pending",value:void 0,then:function(l){a.push(l)}}}return bf++,i.then(pg,pg),i}function pg(){if(--bf===0&&$o!==null){wa!==null&&(wa.status="fulfilled");var t=$o;$o=null,ba=0,wa=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function yA(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var gg=G.S;G.S=function(t,i){Zy=en(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&gA(t,i),gg!==null&&gg(t,i)};var Ns=V(null);function wf(){var t=Ns.current;return t!==null?t:Ze.pooledCache}function Xu(t,i){i===null?ae(Ns,Ns.current):ae(Ns,i.pool)}function yg(){var t=wf();return t===null?null:{parent:St._currentValue,pool:t}}var Ra=Error(s(460)),Rf=Error(s(474)),$u=Error(s(542)),Ju={then:function(){}};function _g(t){return t=t.status,t==="fulfilled"||t==="rejected"}function vg(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(qn,qn),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Tg(t),t;default:if(typeof i.status=="string")i.then(qn,qn);else{if(t=Ze,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Tg(t),t}throw Vs=i,Ra}}function Os(t){try{var i=t._init;return i(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Vs=a,Ra):a}}var Vs=null;function Eg(){if(Vs===null)throw Error(s(459));var t=Vs;return Vs=null,t}function Tg(t){if(t===Ra||t===$u)throw Error(s(483))}var Ca=null,Jo=0;function Wu(t){var i=Jo;return Jo+=1,Ca===null&&(Ca=[]),vg(Ca,t,i)}function Wo(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function Zu(t,i){throw i.$$typeof===w?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function Sg(t){function i(x,N){if(t){var k=x.deletions;k===null?(x.deletions=[N],x.flags|=16):k.push(N)}}function a(x,N){if(!t)return null;for(;N!==null;)i(x,N),N=N.sibling;return null}function l(x){for(var N=new Map;x!==null;)x.key!==null?N.set(x.key,x):N.set(x.index,x),x=x.sibling;return N}function h(x,N){return x=Ui(x,N),x.index=0,x.sibling=null,x}function d(x,N,k){return x.index=k,t?(k=x.alternate,k!==null?(k=k.index,k<N?(x.flags|=67108866,N):k):(x.flags|=67108866,N)):(x.flags|=1048576,N)}function _(x){return t&&x.alternate===null&&(x.flags|=67108866),x}function T(x,N,k,Y){return N===null||N.tag!==6?(N=mf(k,x.mode,Y),N.return=x,N):(N=h(N,k),N.return=x,N)}function I(x,N,k,Y){var fe=k.type;return fe===X?F(x,N,k.props.children,Y,k.key):N!==null&&(N.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===b&&Os(fe)===N.type)?(N=h(N,k.props),Wo(N,k),N.return=x,N):(N=Gu(k.type,k.key,k.props,null,x.mode,Y),Wo(N,k),N.return=x,N)}function z(x,N,k,Y){return N===null||N.tag!==4||N.stateNode.containerInfo!==k.containerInfo||N.stateNode.implementation!==k.implementation?(N=pf(k,x.mode,Y),N.return=x,N):(N=h(N,k.children||[]),N.return=x,N)}function F(x,N,k,Y,fe){return N===null||N.tag!==7?(N=Rs(k,x.mode,Y,fe),N.return=x,N):(N=h(N,k),N.return=x,N)}function Q(x,N,k){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=mf(""+N,x.mode,k),N.return=x,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case U:return k=Gu(N.type,N.key,N.props,null,x.mode,k),Wo(k,N),k.return=x,k;case J:return N=pf(N,x.mode,k),N.return=x,N;case b:return N=Os(N),Q(x,N,k)}if(Dt(N)||L(N))return N=Rs(N,x.mode,k,null),N.return=x,N;if(typeof N.then=="function")return Q(x,Wu(N),k);if(N.$$typeof===re)return Q(x,Qu(x,N),k);Zu(x,N)}return null}function B(x,N,k,Y){var fe=N!==null?N.key:null;if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return fe!==null?null:T(x,N,""+k,Y);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case U:return k.key===fe?I(x,N,k,Y):null;case J:return k.key===fe?z(x,N,k,Y):null;case b:return k=Os(k),B(x,N,k,Y)}if(Dt(k)||L(k))return fe!==null?null:F(x,N,k,Y,null);if(typeof k.then=="function")return B(x,N,Wu(k),Y);if(k.$$typeof===re)return B(x,N,Qu(x,k),Y);Zu(x,k)}return null}function H(x,N,k,Y,fe){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return x=x.get(k)||null,T(N,x,""+Y,fe);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case U:return x=x.get(Y.key===null?k:Y.key)||null,I(N,x,Y,fe);case J:return x=x.get(Y.key===null?k:Y.key)||null,z(N,x,Y,fe);case b:return Y=Os(Y),H(x,N,k,Y,fe)}if(Dt(Y)||L(Y))return x=x.get(k)||null,F(N,x,Y,fe,null);if(typeof Y.then=="function")return H(x,N,k,Wu(Y),fe);if(Y.$$typeof===re)return H(x,N,k,Qu(N,Y),fe);Zu(N,Y)}return null}function ce(x,N,k,Y){for(var fe=null,Be=null,he=N,we=N=0,Ve=null;he!==null&&we<k.length;we++){he.index>we?(Ve=he,he=null):Ve=he.sibling;var je=B(x,he,k[we],Y);if(je===null){he===null&&(he=Ve);break}t&&he&&je.alternate===null&&i(x,he),N=d(je,N,we),Be===null?fe=je:Be.sibling=je,Be=je,he=Ve}if(we===k.length)return a(x,he),Pe&&ki(x,we),fe;if(he===null){for(;we<k.length;we++)he=Q(x,k[we],Y),he!==null&&(N=d(he,N,we),Be===null?fe=he:Be.sibling=he,Be=he);return Pe&&ki(x,we),fe}for(he=l(he);we<k.length;we++)Ve=H(he,x,we,k[we],Y),Ve!==null&&(t&&Ve.alternate!==null&&he.delete(Ve.key===null?we:Ve.key),N=d(Ve,N,we),Be===null?fe=Ve:Be.sibling=Ve,Be=Ve);return t&&he.forEach(function(Br){return i(x,Br)}),Pe&&ki(x,we),fe}function pe(x,N,k,Y){if(k==null)throw Error(s(151));for(var fe=null,Be=null,he=N,we=N=0,Ve=null,je=k.next();he!==null&&!je.done;we++,je=k.next()){he.index>we?(Ve=he,he=null):Ve=he.sibling;var Br=B(x,he,je.value,Y);if(Br===null){he===null&&(he=Ve);break}t&&he&&Br.alternate===null&&i(x,he),N=d(Br,N,we),Be===null?fe=Br:Be.sibling=Br,Be=Br,he=Ve}if(je.done)return a(x,he),Pe&&ki(x,we),fe;if(he===null){for(;!je.done;we++,je=k.next())je=Q(x,je.value,Y),je!==null&&(N=d(je,N,we),Be===null?fe=je:Be.sibling=je,Be=je);return Pe&&ki(x,we),fe}for(he=l(he);!je.done;we++,je=k.next())je=H(he,x,we,je.value,Y),je!==null&&(t&&je.alternate!==null&&he.delete(je.key===null?we:je.key),N=d(je,N,we),Be===null?fe=je:Be.sibling=je,Be=je);return t&&he.forEach(function(Ib){return i(x,Ib)}),Pe&&ki(x,we),fe}function We(x,N,k,Y){if(typeof k=="object"&&k!==null&&k.type===X&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case U:e:{for(var fe=k.key;N!==null;){if(N.key===fe){if(fe=k.type,fe===X){if(N.tag===7){a(x,N.sibling),Y=h(N,k.props.children),Y.return=x,x=Y;break e}}else if(N.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===b&&Os(fe)===N.type){a(x,N.sibling),Y=h(N,k.props),Wo(Y,k),Y.return=x,x=Y;break e}a(x,N);break}else i(x,N);N=N.sibling}k.type===X?(Y=Rs(k.props.children,x.mode,Y,k.key),Y.return=x,x=Y):(Y=Gu(k.type,k.key,k.props,null,x.mode,Y),Wo(Y,k),Y.return=x,x=Y)}return _(x);case J:e:{for(fe=k.key;N!==null;){if(N.key===fe)if(N.tag===4&&N.stateNode.containerInfo===k.containerInfo&&N.stateNode.implementation===k.implementation){a(x,N.sibling),Y=h(N,k.children||[]),Y.return=x,x=Y;break e}else{a(x,N);break}else i(x,N);N=N.sibling}Y=pf(k,x.mode,Y),Y.return=x,x=Y}return _(x);case b:return k=Os(k),We(x,N,k,Y)}if(Dt(k))return ce(x,N,k,Y);if(L(k)){if(fe=L(k),typeof fe!="function")throw Error(s(150));return k=fe.call(k),pe(x,N,k,Y)}if(typeof k.then=="function")return We(x,N,Wu(k),Y);if(k.$$typeof===re)return We(x,N,Qu(x,k),Y);Zu(x,k)}return typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint"?(k=""+k,N!==null&&N.tag===6?(a(x,N.sibling),Y=h(N,k),Y.return=x,x=Y):(a(x,N),Y=mf(k,x.mode,Y),Y.return=x,x=Y),_(x)):a(x,N)}return function(x,N,k,Y){try{Jo=0;var fe=We(x,N,k,Y);return Ca=null,fe}catch(he){if(he===Ra||he===$u)throw he;var Be=pn(29,he,null,x.mode);return Be.lanes=Y,Be.return=x,Be}}}var Ms=Sg(!0),Ag=Sg(!1),Ar=!1;function Cf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function If(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function br(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function wr(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(He&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=Fu(t),ag(t,null,a),i}return Hu(t,l,i,a),Fu(t)}function Zo(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Ro(t,a)}}function Df(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var Nf=!1;function el(){if(Nf){var t=wa;if(t!==null)throw t}}function tl(t,i,a,l){Nf=!1;var h=t.updateQueue;Ar=!1;var d=h.firstBaseUpdate,_=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var I=T,z=I.next;I.next=null,_===null?d=z:_.next=z,_=I;var F=t.alternate;F!==null&&(F=F.updateQueue,T=F.lastBaseUpdate,T!==_&&(T===null?F.firstBaseUpdate=z:T.next=z,F.lastBaseUpdate=I))}if(d!==null){var Q=h.baseState;_=0,F=z=I=null,T=d;do{var B=T.lane&-536870913,H=B!==T.lane;if(H?(Oe&B)===B:(l&B)===B){B!==0&&B===ba&&(Nf=!0),F!==null&&(F=F.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var ce=t,pe=T;B=i;var We=a;switch(pe.tag){case 1:if(ce=pe.payload,typeof ce=="function"){Q=ce.call(We,Q,B);break e}Q=ce;break e;case 3:ce.flags=ce.flags&-65537|128;case 0:if(ce=pe.payload,B=typeof ce=="function"?ce.call(We,Q,B):ce,B==null)break e;Q=S({},Q,B);break e;case 2:Ar=!0}}B=T.callback,B!==null&&(t.flags|=64,H&&(t.flags|=8192),H=h.callbacks,H===null?h.callbacks=[B]:H.push(B))}else H={lane:B,tag:T.tag,payload:T.payload,callback:T.callback,next:null},F===null?(z=F=H,I=Q):F=F.next=H,_|=B;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;H=T,T=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);F===null&&(I=Q),h.baseState=I,h.firstBaseUpdate=z,h.lastBaseUpdate=F,d===null&&(h.shared.lanes=0),Nr|=_,t.lanes=_,t.memoizedState=Q}}function bg(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function wg(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)bg(a[t],i)}var Ia=V(null),ec=V(0);function Rg(t,i){t=Xi,ae(ec,t),ae(Ia,i),Xi=t|i.baseLanes}function Of(){ae(ec,Xi),ae(Ia,Ia.current)}function Vf(){Xi=ec.current,$(Ia),$(ec)}var gn=V(null),Vn=null;function Rr(t){var i=t.alternate;ae(mt,mt.current&1),ae(gn,t),Vn===null&&(i===null||Ia.current!==null||i.memoizedState!==null)&&(Vn=t)}function Mf(t){ae(mt,mt.current),ae(gn,t),Vn===null&&(Vn=t)}function Cg(t){t.tag===22?(ae(mt,mt.current),ae(gn,t),Vn===null&&(Vn=t)):Cr()}function Cr(){ae(mt,mt.current),ae(gn,gn.current)}function yn(t){$(gn),Vn===t&&(Vn=null),$(mt)}var mt=V(0);function tc(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||zd(a)||Bd(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var ji=0,Ae=null,$e=null,At=null,nc=!1,Da=!1,xs=!1,ic=0,nl=0,Na=null,_A=0;function ct(){throw Error(s(321))}function xf(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!mn(t[a],i[a]))return!1;return!0}function Lf(t,i,a,l,h,d){return ji=d,Ae=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,G.H=t===null||t.memoizedState===null?cy:$f,xs=!1,d=a(l,h),xs=!1,Da&&(d=Dg(i,a,l,h)),Ig(t),d}function Ig(t){G.H=sl;var i=$e!==null&&$e.next!==null;if(ji=0,At=$e=Ae=null,nc=!1,nl=0,Na=null,i)throw Error(s(300));t===null||bt||(t=t.dependencies,t!==null&&Yu(t)&&(bt=!0))}function Dg(t,i,a,l){Ae=t;var h=0;do{if(Da&&(Na=null),nl=0,Da=!1,25<=h)throw Error(s(301));if(h+=1,At=$e=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}G.H=hy,d=i(a,l)}while(Da);return d}function vA(){var t=G.H,i=t.useState()[0];return i=typeof i.then=="function"?il(i):i,t=t.useState()[0],($e!==null?$e.memoizedState:null)!==t&&(Ae.flags|=1024),i}function Pf(){var t=ic!==0;return ic=0,t}function Uf(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function kf(t){if(nc){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}nc=!1}ji=0,At=$e=Ae=null,Da=!1,nl=ic=0,Na=null}function nn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return At===null?Ae.memoizedState=At=t:At=At.next=t,At}function pt(){if($e===null){var t=Ae.alternate;t=t!==null?t.memoizedState:null}else t=$e.next;var i=At===null?Ae.memoizedState:At.next;if(i!==null)At=i,$e=t;else{if(t===null)throw Ae.alternate===null?Error(s(467)):Error(s(310));$e=t,t={memoizedState:$e.memoizedState,baseState:$e.baseState,baseQueue:$e.baseQueue,queue:$e.queue,next:null},At===null?Ae.memoizedState=At=t:At=At.next=t}return At}function rc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function il(t){var i=nl;return nl+=1,Na===null&&(Na=[]),t=vg(Na,t,i),i=Ae,(At===null?i.memoizedState:At.next)===null&&(i=i.alternate,G.H=i===null||i.memoizedState===null?cy:$f),t}function sc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return il(t);if(t.$$typeof===re)return qt(t)}throw Error(s(438,String(t)))}function zf(t){var i=null,a=Ae.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Ae.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=rc(),Ae.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=M;return i.index++,a}function qi(t,i){return typeof i=="function"?i(t):i}function ac(t){var i=pt();return Bf(i,$e,t)}function Bf(t,i,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var _=h.next;h.next=d.next,d.next=_}i.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{i=h.next;var T=_=null,I=null,z=i,F=!1;do{var Q=z.lane&-536870913;if(Q!==z.lane?(Oe&Q)===Q:(ji&Q)===Q){var B=z.revertLane;if(B===0)I!==null&&(I=I.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),Q===ba&&(F=!0);else if((ji&B)===B){z=z.next,B===ba&&(F=!0);continue}else Q={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},I===null?(T=I=Q,_=d):I=I.next=Q,Ae.lanes|=B,Nr|=B;Q=z.action,xs&&a(d,Q),d=z.hasEagerState?z.eagerState:a(d,Q)}else B={lane:Q,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},I===null?(T=I=B,_=d):I=I.next=B,Ae.lanes|=Q,Nr|=Q;z=z.next}while(z!==null&&z!==i);if(I===null?_=d:I.next=T,!mn(d,t.memoizedState)&&(bt=!0,F&&(a=wa,a!==null)))throw a;t.memoizedState=d,t.baseState=_,t.baseQueue=I,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function jf(t){var i=pt(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var _=h=h.next;do d=t(d,_.action),_=_.next;while(_!==h);mn(d,i.memoizedState)||(bt=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function Ng(t,i,a){var l=Ae,h=pt(),d=Pe;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var _=!mn(($e||h).memoizedState,a);if(_&&(h.memoizedState=a,bt=!0),h=h.queue,Ff(Mg.bind(null,l,h,t),[t]),h.getSnapshot!==i||_||At!==null&&At.memoizedState.tag&1){if(l.flags|=2048,Oa(9,{destroy:void 0},Vg.bind(null,l,h,a,i),null),Ze===null)throw Error(s(349));d||(ji&127)!==0||Og(l,i,a)}return a}function Og(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=Ae.updateQueue,i===null?(i=rc(),Ae.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function Vg(t,i,a,l){i.value=a,i.getSnapshot=l,xg(i)&&Lg(t)}function Mg(t,i,a){return a(function(){xg(i)&&Lg(t)})}function xg(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!mn(t,a)}catch{return!0}}function Lg(t){var i=ws(t,2);i!==null&&cn(i,t,2)}function qf(t){var i=nn();if(typeof t=="function"){var a=t;if(t=a(),xs){Sn(!0);try{a()}finally{Sn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qi,lastRenderedState:t},i}function Pg(t,i,a,l){return t.baseState=a,Bf(t,$e,typeof l=="function"?l:qi)}function EA(t,i,a,l,h){if(uc(t))throw Error(s(485));if(t=i.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};G.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,Ug(i,d)):(d.next=a.next,i.pending=a.next=d)}}function Ug(t,i){var a=i.action,l=i.payload,h=t.state;if(i.isTransition){var d=G.T,_={};G.T=_;try{var T=a(h,l),I=G.S;I!==null&&I(_,T),kg(t,i,T)}catch(z){Hf(t,i,z)}finally{d!==null&&_.types!==null&&(d.types=_.types),G.T=d}}else try{d=a(h,l),kg(t,i,d)}catch(z){Hf(t,i,z)}}function kg(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){zg(t,i,l)},function(l){return Hf(t,i,l)}):zg(t,i,a)}function zg(t,i,a){i.status="fulfilled",i.value=a,Bg(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,Ug(t,a)))}function Hf(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,Bg(i),i=i.next;while(i!==l)}t.action=null}function Bg(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function jg(t,i){return i}function qg(t,i){if(Pe){var a=Ze.formState;if(a!==null){e:{var l=Ae;if(Pe){if(nt){t:{for(var h=nt,d=On;h.nodeType!==8;){if(!d){h=null;break t}if(h=Mn(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){nt=Mn(h.nextSibling),l=h.data==="F!";break e}}Tr(l)}l=!1}l&&(i=a[0])}}return a=nn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:jg,lastRenderedState:i},a.queue=l,a=oy.bind(null,Ae,l),l.dispatch=a,l=qf(!1),d=Xf.bind(null,Ae,!1,l.queue),l=nn(),h={state:i,dispatch:null,action:t,pending:null},l.queue=h,a=EA.bind(null,Ae,h,d,a),h.dispatch=a,l.memoizedState=t,[i,a,!1]}function Hg(t){var i=pt();return Fg(i,$e,t)}function Fg(t,i,a){if(i=Bf(t,i,jg)[0],t=ac(qi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=il(i)}catch(_){throw _===Ra?$u:_}else l=i;i=pt();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(Ae.flags|=2048,Oa(9,{destroy:void 0},TA.bind(null,h,a),null)),[l,d,t]}function TA(t,i){t.action=i}function Gg(t){var i=pt(),a=$e;if(a!==null)return Fg(i,a,t);pt(),i=i.memoizedState,a=pt();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function Oa(t,i,a,l){return t={tag:t,create:a,deps:l,inst:i,next:null},i=Ae.updateQueue,i===null&&(i=rc(),Ae.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function Kg(){return pt().memoizedState}function oc(t,i,a,l){var h=nn();Ae.flags|=t,h.memoizedState=Oa(1|i,{destroy:void 0},a,l===void 0?null:l)}function lc(t,i,a,l){var h=pt();l=l===void 0?null:l;var d=h.memoizedState.inst;$e!==null&&l!==null&&xf(l,$e.memoizedState.deps)?h.memoizedState=Oa(i,d,a,l):(Ae.flags|=t,h.memoizedState=Oa(1|i,d,a,l))}function Yg(t,i){oc(8390656,8,t,i)}function Ff(t,i){lc(2048,8,t,i)}function SA(t){Ae.flags|=4;var i=Ae.updateQueue;if(i===null)i=rc(),Ae.updateQueue=i,i.events=[t];else{var a=i.events;a===null?i.events=[t]:a.push(t)}}function Qg(t){var i=pt().memoizedState;return SA({ref:i,nextImpl:t}),function(){if((He&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}function Xg(t,i){return lc(4,2,t,i)}function $g(t,i){return lc(4,4,t,i)}function Jg(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function Wg(t,i,a){a=a!=null?a.concat([t]):null,lc(4,4,Jg.bind(null,i,t),a)}function Gf(){}function Zg(t,i){var a=pt();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&xf(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function ey(t,i){var a=pt();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&xf(i,l[1]))return l[0];if(l=t(),xs){Sn(!0);try{t()}finally{Sn(!1)}}return a.memoizedState=[l,i],l}function Kf(t,i,a){return a===void 0||(ji&1073741824)!==0&&(Oe&261930)===0?t.memoizedState=i:(t.memoizedState=a,t=t_(),Ae.lanes|=t,Nr|=t,a)}function ty(t,i,a,l){return mn(a,i)?a:Ia.current!==null?(t=Kf(t,a,l),mn(t,i)||(bt=!0),t):(ji&42)===0||(ji&1073741824)!==0&&(Oe&261930)===0?(bt=!0,t.memoizedState=a):(t=t_(),Ae.lanes|=t,Nr|=t,i)}function ny(t,i,a,l,h){var d=se.p;se.p=d!==0&&8>d?d:8;var _=G.T,T={};G.T=T,Xf(t,!1,i,a);try{var I=h(),z=G.S;if(z!==null&&z(T,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var F=yA(I,l);rl(t,i,F,En(t))}else rl(t,i,l,En(t))}catch(Q){rl(t,i,{then:function(){},status:"rejected",reason:Q},En())}finally{se.p=d,_!==null&&T.types!==null&&(_.types=T.types),G.T=_}}function AA(){}function Yf(t,i,a,l){if(t.tag!==5)throw Error(s(476));var h=iy(t).queue;ny(t,h,i,me,a===null?AA:function(){return ry(t),a(l)})}function iy(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:me,baseState:me,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qi,lastRenderedState:me},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qi,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function ry(t){var i=iy(t);i.next===null&&(i=t.alternate.memoizedState),rl(t,i.next.queue,{},En())}function Qf(){return qt(Tl)}function sy(){return pt().memoizedState}function ay(){return pt().memoizedState}function bA(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=En();t=br(a);var l=wr(i,t,a);l!==null&&(cn(l,i,a),Zo(l,i,a)),i={cache:Af()},t.payload=i;return}i=i.return}}function wA(t,i,a){var l=En();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},uc(t)?ly(i,a):(a=ff(t,i,a,l),a!==null&&(cn(a,t,l),uy(a,i,l)))}function oy(t,i,a){var l=En();rl(t,i,a,l)}function rl(t,i,a,l){var h={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(uc(t))ly(i,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var _=i.lastRenderedState,T=d(_,a);if(h.hasEagerState=!0,h.eagerState=T,mn(T,_))return Hu(t,i,h,0),Ze===null&&qu(),!1}catch{}if(a=ff(t,i,h,l),a!==null)return cn(a,t,l),uy(a,i,l),!0}return!1}function Xf(t,i,a,l){if(l={lane:2,revertLane:Cd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},uc(t)){if(i)throw Error(s(479))}else i=ff(t,a,l,2),i!==null&&cn(i,t,2)}function uc(t){var i=t.alternate;return t===Ae||i!==null&&i===Ae}function ly(t,i){Da=nc=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function uy(t,i,a){if((a&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Ro(t,a)}}var sl={readContext:qt,use:sc,useCallback:ct,useContext:ct,useEffect:ct,useImperativeHandle:ct,useLayoutEffect:ct,useInsertionEffect:ct,useMemo:ct,useReducer:ct,useRef:ct,useState:ct,useDebugValue:ct,useDeferredValue:ct,useTransition:ct,useSyncExternalStore:ct,useId:ct,useHostTransitionStatus:ct,useFormState:ct,useActionState:ct,useOptimistic:ct,useMemoCache:ct,useCacheRefresh:ct};sl.useEffectEvent=ct;var cy={readContext:qt,use:sc,useCallback:function(t,i){return nn().memoizedState=[t,i===void 0?null:i],t},useContext:qt,useEffect:Yg,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,oc(4194308,4,Jg.bind(null,i,t),a)},useLayoutEffect:function(t,i){return oc(4194308,4,t,i)},useInsertionEffect:function(t,i){oc(4,2,t,i)},useMemo:function(t,i){var a=nn();i=i===void 0?null:i;var l=t();if(xs){Sn(!0);try{t()}finally{Sn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=nn();if(a!==void 0){var h=a(i);if(xs){Sn(!0);try{a(i)}finally{Sn(!1)}}}else h=i;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=wA.bind(null,Ae,t),[l.memoizedState,t]},useRef:function(t){var i=nn();return t={current:t},i.memoizedState=t},useState:function(t){t=qf(t);var i=t.queue,a=oy.bind(null,Ae,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:Gf,useDeferredValue:function(t,i){var a=nn();return Kf(a,t,i)},useTransition:function(){var t=qf(!1);return t=ny.bind(null,Ae,t.queue,!0,!1),nn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=Ae,h=nn();if(Pe){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),Ze===null)throw Error(s(349));(Oe&127)!==0||Og(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,Yg(Mg.bind(null,l,d,t),[t]),l.flags|=2048,Oa(9,{destroy:void 0},Vg.bind(null,l,d,a,i),null),a},useId:function(){var t=nn(),i=Ze.identifierPrefix;if(Pe){var a=Ti,l=Ei;a=(l&~(1<<32-ft(l)-1)).toString(32)+a,i="_"+i+"R_"+a,a=ic++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=_A++,i="_"+i+"r_"+a.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:Qf,useFormState:qg,useActionState:qg,useOptimistic:function(t){var i=nn();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Xf.bind(null,Ae,!0,a),a.dispatch=i,[t,i]},useMemoCache:zf,useCacheRefresh:function(){return nn().memoizedState=bA.bind(null,Ae)},useEffectEvent:function(t){var i=nn(),a={impl:t};return i.memoizedState=a,function(){if((He&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},$f={readContext:qt,use:sc,useCallback:Zg,useContext:qt,useEffect:Ff,useImperativeHandle:Wg,useInsertionEffect:Xg,useLayoutEffect:$g,useMemo:ey,useReducer:ac,useRef:Kg,useState:function(){return ac(qi)},useDebugValue:Gf,useDeferredValue:function(t,i){var a=pt();return ty(a,$e.memoizedState,t,i)},useTransition:function(){var t=ac(qi)[0],i=pt().memoizedState;return[typeof t=="boolean"?t:il(t),i]},useSyncExternalStore:Ng,useId:sy,useHostTransitionStatus:Qf,useFormState:Hg,useActionState:Hg,useOptimistic:function(t,i){var a=pt();return Pg(a,$e,t,i)},useMemoCache:zf,useCacheRefresh:ay};$f.useEffectEvent=Qg;var hy={readContext:qt,use:sc,useCallback:Zg,useContext:qt,useEffect:Ff,useImperativeHandle:Wg,useInsertionEffect:Xg,useLayoutEffect:$g,useMemo:ey,useReducer:jf,useRef:Kg,useState:function(){return jf(qi)},useDebugValue:Gf,useDeferredValue:function(t,i){var a=pt();return $e===null?Kf(a,t,i):ty(a,$e.memoizedState,t,i)},useTransition:function(){var t=jf(qi)[0],i=pt().memoizedState;return[typeof t=="boolean"?t:il(t),i]},useSyncExternalStore:Ng,useId:sy,useHostTransitionStatus:Qf,useFormState:Gg,useActionState:Gg,useOptimistic:function(t,i){var a=pt();return $e!==null?Pg(a,$e,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:zf,useCacheRefresh:ay};hy.useEffectEvent=Qg;function Jf(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:S({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Wf={enqueueSetState:function(t,i,a){t=t._reactInternals;var l=En(),h=br(l);h.payload=i,a!=null&&(h.callback=a),i=wr(t,h,l),i!==null&&(cn(i,t,l),Zo(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=En(),h=br(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=wr(t,h,l),i!==null&&(cn(i,t,l),Zo(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=En(),l=br(a);l.tag=2,i!=null&&(l.callback=i),i=wr(t,l,a),i!==null&&(cn(i,t,a),Zo(i,t,a))}};function fy(t,i,a,l,h,d,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,_):i.prototype&&i.prototype.isPureReactComponent?!Go(a,l)||!Go(h,d):!0}function dy(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&Wf.enqueueReplaceState(i,i.state,null)}function Ls(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=S({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function my(t){ju(t)}function py(t){console.error(t)}function gy(t){ju(t)}function cc(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function yy(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Zf(t,i,a){return a=br(a),a.tag=3,a.payload={element:null},a.callback=function(){cc(t,i)},a}function _y(t){return t=br(t),t.tag=3,t}function vy(t,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){yy(i,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){yy(i,a,l),typeof h!="function"&&(Or===null?Or=new Set([this]):Or.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function RA(t,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&Aa(i,a,h,!0),a=gn.current,a!==null){switch(a.tag){case 31:case 13:return Vn===null?Sc():a.alternate===null&&ht===0&&(ht=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===Ju?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),bd(t,l,h)),!1;case 22:return a.flags|=65536,l===Ju?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),bd(t,l,h)),!1}throw Error(s(435,a.tag))}return bd(t,l,h),Sc(),!1}if(Pe)return i=gn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==_f&&(t=Error(s(422),{cause:l}),Qo(In(t,a)))):(l!==_f&&(i=Error(s(423),{cause:l}),Qo(In(i,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=In(l,a),h=Zf(t.stateNode,l,h),Df(t,h),ht!==4&&(ht=2)),!1;var d=Error(s(520),{cause:l});if(d=In(d,a),dl===null?dl=[d]:dl.push(d),ht!==4&&(ht=2),i===null)return!0;l=In(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=Zf(a.stateNode,l,t),Df(a,t),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Or===null||!Or.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=_y(h),vy(h,t,a,l),Df(a,h),!1}a=a.return}while(a!==null);return!1}var ed=Error(s(461)),bt=!1;function Ht(t,i,a,l){i.child=t===null?Ag(i,null,a,l):Ms(i,t.child,a,l)}function Ey(t,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var _={};for(var T in l)T!=="ref"&&(_[T]=l[T])}else _=l;return Ds(i),l=Lf(t,i,a,_,d,h),T=Pf(),t!==null&&!bt?(Uf(t,i,h),Hi(t,i,h)):(Pe&&T&&gf(i),i.flags|=1,Ht(t,i,l,h),i.child)}function Ty(t,i,a,l,h){if(t===null){var d=a.type;return typeof d=="function"&&!df(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,Sy(t,i,d,l,h)):(t=Gu(a.type,null,l,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!ld(t,h)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:Go,a(_,l)&&t.ref===i.ref)return Hi(t,i,h)}return i.flags|=1,t=Ui(d,l),t.ref=i.ref,t.return=i,i.child=t}function Sy(t,i,a,l,h){if(t!==null){var d=t.memoizedProps;if(Go(d,l)&&t.ref===i.ref)if(bt=!1,i.pendingProps=l=d,ld(t,h))(t.flags&131072)!==0&&(bt=!0);else return i.lanes=t.lanes,Hi(t,i,h)}return td(t,i,a,l,h)}function Ay(t,i,a,l){var h=l.children,d=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,t!==null){for(l=i.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~d}else l=0,i.child=null;return by(t,i,d,a,l)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&Xu(i,d!==null?d.cachePool:null),d!==null?Rg(i,d):Of(),Cg(i);else return l=i.lanes=536870912,by(t,i,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(Xu(i,d.cachePool),Rg(i,d),Cr(),i.memoizedState=null):(t!==null&&Xu(i,null),Of(),Cr());return Ht(t,i,h,a),i.child}function al(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function by(t,i,a,l,h){var d=wf();return d=d===null?null:{parent:St._currentValue,pool:d},i.memoizedState={baseLanes:a,cachePool:d},t!==null&&Xu(i,null),Of(),Cg(i),t!==null&&Aa(t,i,l,!0),i.childLanes=h,null}function hc(t,i){return i=dc({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function wy(t,i,a){return Ms(i,t.child,null,a),t=hc(i,i.pendingProps),t.flags|=2,yn(i),i.memoizedState=null,t}function CA(t,i,a){var l=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(Pe){if(l.mode==="hidden")return t=hc(i,l),i.lanes=536870912,al(null,t);if(Mf(i),(t=nt)?(t=U_(t,On),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:vr!==null?{id:Ei,overflow:Ti}:null,retryLane:536870912,hydrationErrors:null},a=lg(t),a.return=i,i.child=a,jt=i,nt=null)):t=null,t===null)throw Tr(i);return i.lanes=536870912,null}return hc(i,l)}var d=t.memoizedState;if(d!==null){var _=d.dehydrated;if(Mf(i),h)if(i.flags&256)i.flags&=-257,i=wy(t,i,a);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(s(558));else if(bt||Aa(t,i,a,!1),h=(a&t.childLanes)!==0,bt||h){if(l=Ze,l!==null&&(_=Co(l,a),_!==0&&_!==d.retryLane))throw d.retryLane=_,ws(t,_),cn(l,t,_),ed;Sc(),i=wy(t,i,a)}else t=d.treeContext,nt=Mn(_.nextSibling),jt=i,Pe=!0,Er=null,On=!1,t!==null&&hg(i,t),i=hc(i,l),i.flags|=4096;return i}return t=Ui(t.child,{mode:l.mode,children:l.children}),t.ref=i.ref,i.child=t,t.return=i,t}function fc(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function td(t,i,a,l,h){return Ds(i),a=Lf(t,i,a,l,void 0,h),l=Pf(),t!==null&&!bt?(Uf(t,i,h),Hi(t,i,h)):(Pe&&l&&gf(i),i.flags|=1,Ht(t,i,a,h),i.child)}function Ry(t,i,a,l,h,d){return Ds(i),i.updateQueue=null,a=Dg(i,l,a,h),Ig(t),l=Pf(),t!==null&&!bt?(Uf(t,i,d),Hi(t,i,d)):(Pe&&l&&gf(i),i.flags|=1,Ht(t,i,a,d),i.child)}function Cy(t,i,a,l,h){if(Ds(i),i.stateNode===null){var d=va,_=a.contextType;typeof _=="object"&&_!==null&&(d=qt(_)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Wf,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},Cf(i),_=a.contextType,d.context=typeof _=="object"&&_!==null?qt(_):va,d.state=i.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(Jf(i,a,_,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&Wf.enqueueReplaceState(d,d.state,null),tl(i,l,d,h),el(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var T=i.memoizedProps,I=Ls(a,T);d.props=I;var z=d.context,F=a.contextType;_=va,typeof F=="object"&&F!==null&&(_=qt(F));var Q=a.getDerivedStateFromProps;F=typeof Q=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=i.pendingProps!==T,F||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||z!==_)&&dy(i,d,l,_),Ar=!1;var B=i.memoizedState;d.state=B,tl(i,l,d,h),el(),z=i.memoizedState,T||B!==z||Ar?(typeof Q=="function"&&(Jf(i,a,Q,l),z=i.memoizedState),(I=Ar||fy(i,a,I,l,B,z,_))?(F||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=z),d.props=l,d.state=z,d.context=_,l=I):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,If(t,i),_=i.memoizedProps,F=Ls(a,_),d.props=F,Q=i.pendingProps,B=d.context,z=a.contextType,I=va,typeof z=="object"&&z!==null&&(I=qt(z)),T=a.getDerivedStateFromProps,(z=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==Q||B!==I)&&dy(i,d,l,I),Ar=!1,B=i.memoizedState,d.state=B,tl(i,l,d,h),el();var H=i.memoizedState;_!==Q||B!==H||Ar||t!==null&&t.dependencies!==null&&Yu(t.dependencies)?(typeof T=="function"&&(Jf(i,a,T,l),H=i.memoizedState),(F=Ar||fy(i,a,F,l,B,H,I)||t!==null&&t.dependencies!==null&&Yu(t.dependencies))?(z||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,H,I),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,H,I)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&B===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&B===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=H),d.props=l,d.state=H,d.context=I,l=F):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&B===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&B===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,fc(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=Ms(i,t.child,null,h),i.child=Ms(i,null,a,h)):Ht(t,i,a,h),i.memoizedState=d.state,t=i.child):t=Hi(t,i,h),t}function Iy(t,i,a,l){return Cs(),i.flags|=256,Ht(t,i,a,l),i.child}var nd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function id(t){return{baseLanes:t,cachePool:yg()}}function rd(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=vn),t}function Dy(t,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,_;if((_=d)||(_=t!==null&&t.memoizedState===null?!1:(mt.current&2)!==0),_&&(h=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,t===null){if(Pe){if(h?Rr(i):Cr(),(t=nt)?(t=U_(t,On),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:vr!==null?{id:Ei,overflow:Ti}:null,retryLane:536870912,hydrationErrors:null},a=lg(t),a.return=i,i.child=a,jt=i,nt=null)):t=null,t===null)throw Tr(i);return Bd(t)?i.lanes=32:i.lanes=536870912,null}var T=l.children;return l=l.fallback,h?(Cr(),h=i.mode,T=dc({mode:"hidden",children:T},h),l=Rs(l,h,a,null),T.return=i,l.return=i,T.sibling=l,i.child=T,l=i.child,l.memoizedState=id(a),l.childLanes=rd(t,_,a),i.memoizedState=nd,al(null,l)):(Rr(i),sd(i,T))}var I=t.memoizedState;if(I!==null&&(T=I.dehydrated,T!==null)){if(d)i.flags&256?(Rr(i),i.flags&=-257,i=ad(t,i,a)):i.memoizedState!==null?(Cr(),i.child=t.child,i.flags|=128,i=null):(Cr(),T=l.fallback,h=i.mode,l=dc({mode:"visible",children:l.children},h),T=Rs(T,h,a,null),T.flags|=2,l.return=i,T.return=i,l.sibling=T,i.child=l,Ms(i,t.child,null,a),l=i.child,l.memoizedState=id(a),l.childLanes=rd(t,_,a),i.memoizedState=nd,i=al(null,l));else if(Rr(i),Bd(T)){if(_=T.nextSibling&&T.nextSibling.dataset,_)var z=_.dgst;_=z,l=Error(s(419)),l.stack="",l.digest=_,Qo({value:l,source:null,stack:null}),i=ad(t,i,a)}else if(bt||Aa(t,i,a,!1),_=(a&t.childLanes)!==0,bt||_){if(_=Ze,_!==null&&(l=Co(_,a),l!==0&&l!==I.retryLane))throw I.retryLane=l,ws(t,l),cn(_,t,l),ed;zd(T)||Sc(),i=ad(t,i,a)}else zd(T)?(i.flags|=192,i.child=t.child,i=null):(t=I.treeContext,nt=Mn(T.nextSibling),jt=i,Pe=!0,Er=null,On=!1,t!==null&&hg(i,t),i=sd(i,l.children),i.flags|=4096);return i}return h?(Cr(),T=l.fallback,h=i.mode,I=t.child,z=I.sibling,l=Ui(I,{mode:"hidden",children:l.children}),l.subtreeFlags=I.subtreeFlags&65011712,z!==null?T=Ui(z,T):(T=Rs(T,h,a,null),T.flags|=2),T.return=i,l.return=i,l.sibling=T,i.child=l,al(null,l),l=i.child,T=t.child.memoizedState,T===null?T=id(a):(h=T.cachePool,h!==null?(I=St._currentValue,h=h.parent!==I?{parent:I,pool:I}:h):h=yg(),T={baseLanes:T.baseLanes|a,cachePool:h}),l.memoizedState=T,l.childLanes=rd(t,_,a),i.memoizedState=nd,al(t.child,l)):(Rr(i),a=t.child,t=a.sibling,a=Ui(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(_=i.deletions,_===null?(i.deletions=[t],i.flags|=16):_.push(t)),i.child=a,i.memoizedState=null,a)}function sd(t,i){return i=dc({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function dc(t,i){return t=pn(22,t,null,i),t.lanes=0,t}function ad(t,i,a){return Ms(i,t.child,null,a),t=sd(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function Ny(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),Tf(t.return,i,a)}function od(t,i,a,l,h,d){var _=t.memoizedState;_===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h,treeForkCount:d}:(_.isBackwards=i,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=a,_.tailMode=h,_.treeForkCount=d)}function Oy(t,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;l=l.children;var _=mt.current,T=(_&2)!==0;if(T?(_=_&1|2,i.flags|=128):_&=1,ae(mt,_),Ht(t,i,l,a),l=Pe?Yo:0,!T&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ny(t,a,i);else if(t.tag===19)Ny(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=i.child,h=null;a!==null;)t=a.alternate,t!==null&&tc(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),od(i,!1,h,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&tc(t)===null){i.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}od(i,!0,a,null,d,l);break;case"together":od(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function Hi(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),Nr|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(Aa(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=Ui(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=Ui(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function ld(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&Yu(t)))}function IA(t,i,a){switch(i.tag){case 3:Nt(i,i.stateNode.containerInfo),Sr(i,St,t.memoizedState.cache),Cs();break;case 27:case 5:os(i);break;case 4:Nt(i,i.stateNode.containerInfo);break;case 10:Sr(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Mf(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Rr(i),i.flags|=128,null):(a&i.child.childLanes)!==0?Dy(t,i,a):(Rr(i),t=Hi(t,i,a),t!==null?t.sibling:null);Rr(i);break;case 19:var h=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(Aa(t,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return Oy(t,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ae(mt,mt.current),l)break;return null;case 22:return i.lanes=0,Ay(t,i,a,i.pendingProps);case 24:Sr(i,St,t.memoizedState.cache)}return Hi(t,i,a)}function Vy(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)bt=!0;else{if(!ld(t,a)&&(i.flags&128)===0)return bt=!1,IA(t,i,a);bt=(t.flags&131072)!==0}else bt=!1,Pe&&(i.flags&1048576)!==0&&cg(i,Yo,i.index);switch(i.lanes=0,i.tag){case 16:e:{var l=i.pendingProps;if(t=Os(i.elementType),i.type=t,typeof t=="function")df(t)?(l=Ls(t,l),i.tag=1,i=Cy(null,i,t,l,a)):(i.tag=0,i=td(null,i,t,l,a));else{if(t!=null){var h=t.$$typeof;if(h===Ce){i.tag=11,i=Ey(null,i,t,l,a);break e}else if(h===D){i.tag=14,i=Ty(null,i,t,l,a);break e}}throw i=rt(t)||t,Error(s(306,i,""))}}return i;case 0:return td(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=Ls(l,i.pendingProps),Cy(t,i,l,h,a);case 3:e:{if(Nt(i,i.stateNode.containerInfo),t===null)throw Error(s(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,If(t,i),tl(i,l,null,a);var _=i.memoizedState;if(l=_.cache,Sr(i,St,l),l!==d.cache&&Sf(i,[St],a,!0),el(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=Iy(t,i,l,a);break e}else if(l!==h){h=In(Error(s(424)),i),Qo(h),i=Iy(t,i,l,a);break e}else for(t=i.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,nt=Mn(t.firstChild),jt=i,Pe=!0,Er=null,On=!0,a=Ag(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Cs(),l===h){i=Hi(t,i,a);break e}Ht(t,i,l,a)}i=i.child}return i;case 26:return fc(t,i),t===null?(a=H_(i.type,null,i.pendingProps,null))?i.memoizedState=a:Pe||(a=i.type,t=i.pendingProps,l=Dc(be.current).createElement(a),l[vt]=i,l[Lt]=t,Ft(l,a,t),Et(l),i.stateNode=l):i.memoizedState=H_(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return os(i),t===null&&Pe&&(l=i.stateNode=B_(i.type,i.pendingProps,be.current),jt=i,On=!0,h=nt,Lr(i.type)?(jd=h,nt=Mn(l.firstChild)):nt=h),Ht(t,i,i.pendingProps.children,a),fc(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&Pe&&((h=l=nt)&&(l=rb(l,i.type,i.pendingProps,On),l!==null?(i.stateNode=l,jt=i,nt=Mn(l.firstChild),On=!1,h=!0):h=!1),h||Tr(i)),os(i),h=i.type,d=i.pendingProps,_=t!==null?t.memoizedProps:null,l=d.children,Pd(h,d)?l=null:_!==null&&Pd(h,_)&&(i.flags|=32),i.memoizedState!==null&&(h=Lf(t,i,vA,null,null,a),Tl._currentValue=h),fc(t,i),Ht(t,i,l,a),i.child;case 6:return t===null&&Pe&&((t=a=nt)&&(a=sb(a,i.pendingProps,On),a!==null?(i.stateNode=a,jt=i,nt=null,t=!0):t=!1),t||Tr(i)),null;case 13:return Dy(t,i,a);case 4:return Nt(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=Ms(i,null,l,a):Ht(t,i,l,a),i.child;case 11:return Ey(t,i,i.type,i.pendingProps,a);case 7:return Ht(t,i,i.pendingProps,a),i.child;case 8:return Ht(t,i,i.pendingProps.children,a),i.child;case 12:return Ht(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,Sr(i,i.type,l.value),Ht(t,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,Ds(i),h=qt(h),l=l(h),i.flags|=1,Ht(t,i,l,a),i.child;case 14:return Ty(t,i,i.type,i.pendingProps,a);case 15:return Sy(t,i,i.type,i.pendingProps,a);case 19:return Oy(t,i,a);case 31:return CA(t,i,a);case 22:return Ay(t,i,a,i.pendingProps);case 24:return Ds(i),l=qt(St),t===null?(h=wf(),h===null&&(h=Ze,d=Af(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},Cf(i),Sr(i,St,h)):((t.lanes&a)!==0&&(If(t,i),tl(i,null,null,a),el()),h=t.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),Sr(i,St,l)):(l=d.cache,Sr(i,St,l),l!==h.cache&&Sf(i,[St],a,!0))),Ht(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function Fi(t){t.flags|=4}function ud(t,i,a,l,h){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(s_())t.flags|=8192;else throw Vs=Ju,Rf}else t.flags&=-16777217}function My(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Q_(i))if(s_())t.flags|=8192;else throw Vs=Ju,Rf}function mc(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?Eu():536870912,t.lanes|=i,La|=i)}function ol(t,i){if(!Pe)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function it(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function DA(t,i,a){var l=i.pendingProps;switch(yf(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return it(i),null;case 1:return it(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Bi(St),st(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Sa(i)?Fi(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,vf())),it(i),null;case 26:var h=i.type,d=i.memoizedState;return t===null?(Fi(i),d!==null?(it(i),My(i,d)):(it(i),ud(i,h,null,l,a))):d?d!==t.memoizedState?(Fi(i),it(i),My(i,d)):(it(i),i.flags&=-16777217):(t=t.memoizedProps,t!==l&&Fi(i),it(i),ud(i,h,t,l,a)),null;case 27:if(ea(i),a=be.current,h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Fi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return it(i),null}t=ue.current,Sa(i)?fg(i):(t=B_(h,l,a),i.stateNode=t,Fi(i))}return it(i),null;case 5:if(ea(i),h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Fi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return it(i),null}if(d=ue.current,Sa(i))fg(i);else{var _=Dc(be.current);switch(d){case 1:d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":d=_.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?_.createElement(h,{is:l.is}):_.createElement(h)}}d[vt]=i,d[Lt]=l;e:for(_=i.child;_!==null;){if(_.tag===5||_.tag===6)d.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===i)break e;for(;_.sibling===null;){if(_.return===null||_.return===i)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}i.stateNode=d;e:switch(Ft(d,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&Fi(i)}}return it(i),ud(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,a),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&Fi(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(t=be.current,Sa(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,h=jt,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[vt]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||D_(t.nodeValue,a)),t||Tr(i,!0)}else t=Dc(t).createTextNode(l),t[vt]=i,i.stateNode=t}return it(i),null;case 31:if(a=i.memoizedState,t===null||t.memoizedState!==null){if(l=Sa(i),a!==null){if(t===null){if(!l)throw Error(s(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[vt]=i}else Cs(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;it(i),t=!1}else a=vf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return i.flags&256?(yn(i),i):(yn(i),null);if((i.flags&128)!==0)throw Error(s(558))}return it(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Sa(i),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[vt]=i}else Cs(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;it(i),h=!1}else h=vf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(yn(i),i):(yn(i),null)}return yn(i),(i.flags&128)!==0?(i.lanes=a,i):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)),a!==t&&a&&(i.child.flags|=8192),mc(i,i.updateQueue),it(i),null);case 4:return st(),t===null&&Od(i.stateNode.containerInfo),it(i),null;case 10:return Bi(i.type),it(i),null;case 19:if($(mt),l=i.memoizedState,l===null)return it(i),null;if(h=(i.flags&128)!==0,d=l.rendering,d===null)if(h)ol(l,!1);else{if(ht!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=tc(t),d!==null){for(i.flags|=128,ol(l,!1),t=d.updateQueue,i.updateQueue=t,mc(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)og(a,t),a=a.sibling;return ae(mt,mt.current&1|2),Pe&&ki(i,l.treeForkCount),i.child}t=t.sibling}l.tail!==null&&en()>vc&&(i.flags|=128,h=!0,ol(l,!1),i.lanes=4194304)}else{if(!h)if(t=tc(d),t!==null){if(i.flags|=128,h=!0,t=t.updateQueue,i.updateQueue=t,mc(i,t),ol(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!Pe)return it(i),null}else 2*en()-l.renderingStartTime>vc&&a!==536870912&&(i.flags|=128,h=!0,ol(l,!1),i.lanes=4194304);l.isBackwards?(d.sibling=i.child,i.child=d):(t=l.last,t!==null?t.sibling=d:i.child=d,l.last=d)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=en(),t.sibling=null,a=mt.current,ae(mt,h?a&1|2:a&1),Pe&&ki(i,l.treeForkCount),t):(it(i),null);case 22:case 23:return yn(i),Vf(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(it(i),i.subtreeFlags&6&&(i.flags|=8192)):it(i),a=i.updateQueue,a!==null&&mc(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&$(Ns),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Bi(St),it(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function NA(t,i){switch(yf(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Bi(St),st(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return ea(i),null;case 31:if(i.memoizedState!==null){if(yn(i),i.alternate===null)throw Error(s(340));Cs()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(yn(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Cs()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return $(mt),null;case 4:return st(),null;case 10:return Bi(i.type),null;case 22:case 23:return yn(i),Vf(),t!==null&&$(Ns),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return Bi(St),null;case 25:return null;default:return null}}function xy(t,i){switch(yf(i),i.tag){case 3:Bi(St),st();break;case 26:case 27:case 5:ea(i);break;case 4:st();break;case 31:i.memoizedState!==null&&yn(i);break;case 13:yn(i);break;case 19:$(mt);break;case 10:Bi(i.type);break;case 22:case 23:yn(i),Vf(),t!==null&&$(Ns);break;case 24:Bi(St)}}function ll(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var d=a.create,_=a.inst;l=d(),_.destroy=l}a=a.next}while(a!==h)}}catch(T){Qe(i,i.return,T)}}function Ir(t,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var _=l.inst,T=_.destroy;if(T!==void 0){_.destroy=void 0,h=i;var I=a,z=T;try{z()}catch(F){Qe(h,I,F)}}}l=l.next}while(l!==d)}}catch(F){Qe(i,i.return,F)}}function Ly(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{wg(i,a)}catch(l){Qe(t,t.return,l)}}}function Py(t,i,a){a.props=Ls(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Qe(t,i,l)}}function ul(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){Qe(t,i,h)}}function Si(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){Qe(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Qe(t,i,h)}else a.current=null}function Uy(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){Qe(t,t.return,h)}}function cd(t,i,a){try{var l=t.stateNode;WA(l,t.type,a,i),l[Lt]=i}catch(h){Qe(t,t.return,h)}}function ky(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Lr(t.type)||t.tag===4}function hd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||ky(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Lr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function fd(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=qn));else if(l!==4&&(l===27&&Lr(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(fd(t,i,a),t=t.sibling;t!==null;)fd(t,i,a),t=t.sibling}function pc(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&(l===27&&Lr(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(pc(t,i,a),t=t.sibling;t!==null;)pc(t,i,a),t=t.sibling}function zy(t){var i=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Ft(i,l,a),i[vt]=t,i[Lt]=a}catch(d){Qe(t,t.return,d)}}var Gi=!1,wt=!1,dd=!1,By=typeof WeakSet=="function"?WeakSet:Set,Ut=null;function OA(t,i){if(t=t.containerInfo,xd=Pc,t=Wp(t),af(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var _=0,T=-1,I=-1,z=0,F=0,Q=t,B=null;t:for(;;){for(var H;Q!==a||h!==0&&Q.nodeType!==3||(T=_+h),Q!==d||l!==0&&Q.nodeType!==3||(I=_+l),Q.nodeType===3&&(_+=Q.nodeValue.length),(H=Q.firstChild)!==null;)B=Q,Q=H;for(;;){if(Q===t)break t;if(B===a&&++z===h&&(T=_),B===d&&++F===l&&(I=_),(H=Q.nextSibling)!==null)break;Q=B,B=Q.parentNode}Q=H}a=T===-1||I===-1?null:{start:T,end:I}}else a=null}a=a||{start:0,end:0}}else a=null;for(Ld={focusedElem:t,selectionRange:a},Pc=!1,Ut=i;Ut!==null;)if(i=Ut,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,Ut=t;else for(;Ut!==null;){switch(i=Ut,d=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var ce=Ls(a.type,h);t=l.getSnapshotBeforeUpdate(ce,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(pe){Qe(a,a.return,pe)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)kd(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":kd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,Ut=t;break}Ut=i.return}}function jy(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Yi(t,a),l&4&&ll(5,a);break;case 1:if(Yi(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(_){Qe(a,a.return,_)}else{var h=Ls(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(_){Qe(a,a.return,_)}}l&64&&Ly(a),l&512&&ul(a,a.return);break;case 3:if(Yi(t,a),l&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{wg(t,i)}catch(_){Qe(a,a.return,_)}}break;case 27:i===null&&l&4&&zy(a);case 26:case 5:Yi(t,a),i===null&&l&4&&Uy(a),l&512&&ul(a,a.return);break;case 12:Yi(t,a);break;case 31:Yi(t,a),l&4&&Fy(t,a);break;case 13:Yi(t,a),l&4&&Gy(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=BA.bind(null,a),ab(t,a))));break;case 22:if(l=a.memoizedState!==null||Gi,!l){i=i!==null&&i.memoizedState!==null||wt,h=Gi;var d=wt;Gi=l,(wt=i)&&!d?Qi(t,a,(a.subtreeFlags&8772)!==0):Yi(t,a),Gi=h,wt=d}break;case 30:break;default:Yi(t,a)}}function qy(t){var i=t.alternate;i!==null&&(t.alternate=null,qy(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&sa(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ot=null,an=!1;function Ki(t,i,a){for(a=a.child;a!==null;)Hy(t,i,a),a=a.sibling}function Hy(t,i,a){if(zt&&typeof zt.onCommitFiberUnmount=="function")try{zt.onCommitFiberUnmount(kn,a)}catch{}switch(a.tag){case 26:wt||Si(a,i),Ki(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:wt||Si(a,i);var l=ot,h=an;Lr(a.type)&&(ot=a.stateNode,an=!1),Ki(t,i,a),_l(a.stateNode),ot=l,an=h;break;case 5:wt||Si(a,i);case 6:if(l=ot,h=an,ot=null,Ki(t,i,a),ot=l,an=h,ot!==null)if(an)try{(ot.nodeType===9?ot.body:ot.nodeName==="HTML"?ot.ownerDocument.body:ot).removeChild(a.stateNode)}catch(d){Qe(a,i,d)}else try{ot.removeChild(a.stateNode)}catch(d){Qe(a,i,d)}break;case 18:ot!==null&&(an?(t=ot,L_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Ha(t)):L_(ot,a.stateNode));break;case 4:l=ot,h=an,ot=a.stateNode.containerInfo,an=!0,Ki(t,i,a),ot=l,an=h;break;case 0:case 11:case 14:case 15:Ir(2,a,i),wt||Ir(4,a,i),Ki(t,i,a);break;case 1:wt||(Si(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Py(a,i,l)),Ki(t,i,a);break;case 21:Ki(t,i,a);break;case 22:wt=(l=wt)||a.memoizedState!==null,Ki(t,i,a),wt=l;break;default:Ki(t,i,a)}}function Fy(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Ha(t)}catch(a){Qe(i,i.return,a)}}}function Gy(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Ha(t)}catch(a){Qe(i,i.return,a)}}function VA(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new By),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new By),i;default:throw Error(s(435,t.tag))}}function gc(t,i){var a=VA(t);i.forEach(function(l){if(!a.has(l)){a.add(l);var h=jA.bind(null,t,l);l.then(h,h)}})}function on(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=t,_=i,T=_;e:for(;T!==null;){switch(T.tag){case 27:if(Lr(T.type)){ot=T.stateNode,an=!1;break e}break;case 5:ot=T.stateNode,an=!1;break e;case 3:case 4:ot=T.stateNode.containerInfo,an=!0;break e}T=T.return}if(ot===null)throw Error(s(160));Hy(d,_,h),ot=null,an=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)Ky(i,t),i=i.sibling}var Qn=null;function Ky(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:on(i,t),ln(t),l&4&&(Ir(3,t,t.return),ll(3,t),Ir(5,t,t.return));break;case 1:on(i,t),ln(t),l&512&&(wt||a===null||Si(a,a.return)),l&64&&Gi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Qn;if(on(i,t),ln(t),l&512&&(wt||a===null||Si(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[li]||d[vt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),Ft(d,l,a),d[vt]=t,Et(d),l=d;break e;case"link":var _=K_("link","href",h).get(l+(a.href||""));if(_){for(var T=0;T<_.length;T++)if(d=_[T],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(T,1);break t}}d=h.createElement(l),Ft(d,l,a),h.head.appendChild(d);break;case"meta":if(_=K_("meta","content",h).get(l+(a.content||""))){for(T=0;T<_.length;T++)if(d=_[T],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(T,1);break t}}d=h.createElement(l),Ft(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[vt]=t,Et(d),l=d}t.stateNode=l}else Y_(h,t.type,t.stateNode);else t.stateNode=G_(h,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?Y_(h,t.type,t.stateNode):G_(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&cd(t,t.memoizedProps,a.memoizedProps)}break;case 27:on(i,t),ln(t),l&512&&(wt||a===null||Si(a,a.return)),a!==null&&l&4&&cd(t,t.memoizedProps,a.memoizedProps);break;case 5:if(on(i,t),ln(t),l&512&&(wt||a===null||Si(a,a.return)),t.flags&32){h=t.stateNode;try{sn(h,"")}catch(ce){Qe(t,t.return,ce)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,cd(t,h,a!==null?a.memoizedProps:h)),l&1024&&(dd=!0);break;case 6:if(on(i,t),ln(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(ce){Qe(t,t.return,ce)}}break;case 3:if(Vc=null,h=Qn,Qn=Nc(i.containerInfo),on(i,t),Qn=h,ln(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Ha(i.containerInfo)}catch(ce){Qe(t,t.return,ce)}dd&&(dd=!1,Yy(t));break;case 4:l=Qn,Qn=Nc(t.stateNode.containerInfo),on(i,t),ln(t),Qn=l;break;case 12:on(i,t),ln(t);break;case 31:on(i,t),ln(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,gc(t,l)));break;case 13:on(i,t),ln(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(_c=en()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,gc(t,l)));break;case 22:h=t.memoizedState!==null;var I=a!==null&&a.memoizedState!==null,z=Gi,F=wt;if(Gi=z||h,wt=F||I,on(i,t),wt=F,Gi=z,ln(t),l&8192)e:for(i=t.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||I||Gi||wt||Ps(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){I=a=i;try{if(d=I.stateNode,h)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{T=I.stateNode;var Q=I.memoizedProps.style,B=Q!=null&&Q.hasOwnProperty("display")?Q.display:null;T.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(ce){Qe(I,I.return,ce)}}}else if(i.tag===6){if(a===null){I=i;try{I.stateNode.nodeValue=h?"":I.memoizedProps}catch(ce){Qe(I,I.return,ce)}}}else if(i.tag===18){if(a===null){I=i;try{var H=I.stateNode;h?P_(H,!0):P_(I.stateNode,!1)}catch(ce){Qe(I,I.return,ce)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,gc(t,a))));break;case 19:on(i,t),ln(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,gc(t,l)));break;case 30:break;case 21:break;default:on(i,t),ln(t)}}function ln(t){var i=t.flags;if(i&2){try{for(var a,l=t.return;l!==null;){if(ky(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=hd(t);pc(t,d,h);break;case 5:var _=a.stateNode;a.flags&32&&(sn(_,""),a.flags&=-33);var T=hd(t);pc(t,T,_);break;case 3:case 4:var I=a.stateNode.containerInfo,z=hd(t);fd(t,z,I);break;default:throw Error(s(161))}}catch(F){Qe(t,t.return,F)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function Yy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;Yy(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function Yi(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)jy(t,i.alternate,i),i=i.sibling}function Ps(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Ir(4,i,i.return),Ps(i);break;case 1:Si(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&Py(i,i.return,a),Ps(i);break;case 27:_l(i.stateNode);case 26:case 5:Si(i,i.return),Ps(i);break;case 22:i.memoizedState===null&&Ps(i);break;case 30:Ps(i);break;default:Ps(i)}t=t.sibling}}function Qi(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=t,d=i,_=d.flags;switch(d.tag){case 0:case 11:case 15:Qi(h,d,a),ll(4,d);break;case 1:if(Qi(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){Qe(l,l.return,z)}if(l=d,h=l.updateQueue,h!==null){var T=l.stateNode;try{var I=h.shared.hiddenCallbacks;if(I!==null)for(h.shared.hiddenCallbacks=null,h=0;h<I.length;h++)bg(I[h],T)}catch(z){Qe(l,l.return,z)}}a&&_&64&&Ly(d),ul(d,d.return);break;case 27:zy(d);case 26:case 5:Qi(h,d,a),a&&l===null&&_&4&&Uy(d),ul(d,d.return);break;case 12:Qi(h,d,a);break;case 31:Qi(h,d,a),a&&_&4&&Fy(h,d);break;case 13:Qi(h,d,a),a&&_&4&&Gy(h,d);break;case 22:d.memoizedState===null&&Qi(h,d,a),ul(d,d.return);break;case 30:break;default:Qi(h,d,a)}i=i.sibling}}function md(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Xo(a))}function pd(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Xo(t))}function Xn(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Qy(t,i,a,l),i=i.sibling}function Qy(t,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:Xn(t,i,a,l),h&2048&&ll(9,i);break;case 1:Xn(t,i,a,l);break;case 3:Xn(t,i,a,l),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Xo(t)));break;case 12:if(h&2048){Xn(t,i,a,l),t=i.stateNode;try{var d=i.memoizedProps,_=d.id,T=d.onPostCommit;typeof T=="function"&&T(_,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(I){Qe(i,i.return,I)}}else Xn(t,i,a,l);break;case 31:Xn(t,i,a,l);break;case 13:Xn(t,i,a,l);break;case 23:break;case 22:d=i.stateNode,_=i.alternate,i.memoizedState!==null?d._visibility&2?Xn(t,i,a,l):cl(t,i):d._visibility&2?Xn(t,i,a,l):(d._visibility|=2,Va(t,i,a,l,(i.subtreeFlags&10256)!==0||!1)),h&2048&&md(_,i);break;case 24:Xn(t,i,a,l),h&2048&&pd(i.alternate,i);break;default:Xn(t,i,a,l)}}function Va(t,i,a,l,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var d=t,_=i,T=a,I=l,z=_.flags;switch(_.tag){case 0:case 11:case 15:Va(d,_,T,I,h),ll(8,_);break;case 23:break;case 22:var F=_.stateNode;_.memoizedState!==null?F._visibility&2?Va(d,_,T,I,h):cl(d,_):(F._visibility|=2,Va(d,_,T,I,h)),h&&z&2048&&md(_.alternate,_);break;case 24:Va(d,_,T,I,h),h&&z&2048&&pd(_.alternate,_);break;default:Va(d,_,T,I,h)}i=i.sibling}}function cl(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,h=l.flags;switch(l.tag){case 22:cl(a,l),h&2048&&md(l.alternate,l);break;case 24:cl(a,l),h&2048&&pd(l.alternate,l);break;default:cl(a,l)}i=i.sibling}}var hl=8192;function Ma(t,i,a){if(t.subtreeFlags&hl)for(t=t.child;t!==null;)Xy(t,i,a),t=t.sibling}function Xy(t,i,a){switch(t.tag){case 26:Ma(t,i,a),t.flags&hl&&t.memoizedState!==null&&_b(a,Qn,t.memoizedState,t.memoizedProps);break;case 5:Ma(t,i,a);break;case 3:case 4:var l=Qn;Qn=Nc(t.stateNode.containerInfo),Ma(t,i,a),Qn=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=hl,hl=16777216,Ma(t,i,a),hl=l):Ma(t,i,a));break;default:Ma(t,i,a)}}function $y(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function fl(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Ut=l,Wy(l,t)}$y(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Jy(t),t=t.sibling}function Jy(t){switch(t.tag){case 0:case 11:case 15:fl(t),t.flags&2048&&Ir(9,t,t.return);break;case 3:fl(t);break;case 12:fl(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,yc(t)):fl(t);break;default:fl(t)}}function yc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Ut=l,Wy(l,t)}$y(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Ir(8,i,i.return),yc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,yc(i));break;default:yc(i)}t=t.sibling}}function Wy(t,i){for(;Ut!==null;){var a=Ut;switch(a.tag){case 0:case 11:case 15:Ir(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Xo(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Ut=l;else e:for(a=t;Ut!==null;){l=Ut;var h=l.sibling,d=l.return;if(qy(l),l===a){Ut=null;break e}if(h!==null){h.return=d,Ut=h;break e}Ut=d}}}var MA={getCacheForType:function(t){var i=qt(St),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a},cacheSignal:function(){return qt(St).controller.signal}},xA=typeof WeakMap=="function"?WeakMap:Map,He=0,Ze=null,De=null,Oe=0,Ye=0,_n=null,Dr=!1,xa=!1,gd=!1,Xi=0,ht=0,Nr=0,Us=0,yd=0,vn=0,La=0,dl=null,un=null,_d=!1,_c=0,Zy=0,vc=1/0,Ec=null,Or=null,Vt=0,Vr=null,Pa=null,$i=0,vd=0,Ed=null,e_=null,ml=0,Td=null;function En(){return(He&2)!==0&&Oe!==0?Oe&-Oe:G.T!==null?Cd():Tu()}function t_(){if(vn===0)if((Oe&536870912)===0||Pe){var t=cs;cs<<=1,(cs&3932160)===0&&(cs=262144),vn=t}else vn=536870912;return t=gn.current,t!==null&&(t.flags|=32),vn}function cn(t,i,a){(t===Ze&&(Ye===2||Ye===9)||t.cancelPendingCommit!==null)&&(Ua(t,0),Mr(t,Oe,vn,!1)),hs(t,a),((He&2)===0||t!==Ze)&&(t===Ze&&((He&2)===0&&(Us|=a),ht===4&&Mr(t,Oe,vn,!1)),Ai(t))}function n_(t,i,a){if((He&6)!==0)throw Error(s(327));var l=!a&&(i&127)===0&&(i&t.expiredLanes)===0||zn(t,i),h=l?UA(t,i):Ad(t,i,!0),d=l;do{if(h===0){xa&&!l&&Mr(t,i,0,!1);break}else{if(a=t.current.alternate,d&&!LA(a)){h=Ad(t,i,!1),d=!1;continue}if(h===2){if(d=i,t.errorRecoveryDisabledLanes&d)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;e:{var T=t;h=dl;var I=T.current.memoizedState.isDehydrated;if(I&&(Ua(T,_).flags|=256),_=Ad(T,_,!1),_!==2){if(gd&&!I){T.errorRecoveryDisabledLanes|=d,Us|=d,h=4;break e}d=un,un=h,d!==null&&(un===null?un=d:un.push.apply(un,d))}h=_}if(d=!1,h!==2)continue}}if(h===1){Ua(t,0),Mr(t,i,0,!0);break}e:{switch(l=t,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Mr(l,i,vn,!Dr);break e;case 2:un=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=_c+300-en(),10<h)){if(Mr(l,i,vn,!Dr),si(l,0,!0)!==0)break e;$i=i,l.timeoutHandle=M_(i_.bind(null,l,a,un,Ec,_d,i,vn,Us,La,Dr,d,"Throttled",-0,0),h);break e}i_(l,a,un,Ec,_d,i,vn,Us,La,Dr,d,null,-0,0)}}break}while(!0);Ai(t)}function i_(t,i,a,l,h,d,_,T,I,z,F,Q,B,H){if(t.timeoutHandle=-1,Q=i.subtreeFlags,Q&8192||(Q&16785408)===16785408){Q={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:qn},Xy(i,d,Q);var ce=(d&62914560)===d?_c-en():(d&4194048)===d?Zy-en():0;if(ce=vb(Q,ce),ce!==null){$i=d,t.cancelPendingCommit=ce(h_.bind(null,t,i,d,a,l,h,_,T,I,F,Q,null,B,H)),Mr(t,d,_,!z);return}}h_(t,i,d,a,l,h,_,T,I)}function LA(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!mn(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Mr(t,i,a,l){i&=~yd,i&=~Us,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var h=i;0<h;){var d=31-ft(h),_=1<<d;l[d]=-1,h&=~_}a!==0&&fs(t,a,i)}function Tc(){return(He&6)===0?(pl(0),!1):!0}function Sd(){if(De!==null){if(Ye===0)var t=De.return;else t=De,zi=Is=null,kf(t),Ca=null,Jo=0,t=De;for(;t!==null;)xy(t.alternate,t),t=t.return;De=null}}function Ua(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,tb(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),$i=0,Sd(),Ze=t,De=a=Ui(t.current,null),Oe=i,Ye=0,_n=null,Dr=!1,xa=zn(t,i),gd=!1,La=vn=yd=Us=Nr=ht=0,un=dl=null,_d=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var h=31-ft(l),d=1<<h;i|=t[h],l&=~d}return Xi=i,qu(),a}function r_(t,i){Ae=null,G.H=sl,i===Ra||i===$u?(i=Eg(),Ye=3):i===Rf?(i=Eg(),Ye=4):Ye=i===ed?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,_n=i,De===null&&(ht=1,cc(t,In(i,t.current)))}function s_(){var t=gn.current;return t===null?!0:(Oe&4194048)===Oe?Vn===null:(Oe&62914560)===Oe||(Oe&536870912)!==0?t===Vn:!1}function a_(){var t=G.H;return G.H=sl,t===null?sl:t}function o_(){var t=G.A;return G.A=MA,t}function Sc(){ht=4,Dr||(Oe&4194048)!==Oe&&gn.current!==null||(xa=!0),(Nr&134217727)===0&&(Us&134217727)===0||Ze===null||Mr(Ze,Oe,vn,!1)}function Ad(t,i,a){var l=He;He|=2;var h=a_(),d=o_();(Ze!==t||Oe!==i)&&(Ec=null,Ua(t,i)),i=!1;var _=ht;e:do try{if(Ye!==0&&De!==null){var T=De,I=_n;switch(Ye){case 8:Sd(),_=6;break e;case 3:case 2:case 9:case 6:gn.current===null&&(i=!0);var z=Ye;if(Ye=0,_n=null,ka(t,T,I,z),a&&xa){_=0;break e}break;default:z=Ye,Ye=0,_n=null,ka(t,T,I,z)}}PA(),_=ht;break}catch(F){r_(t,F)}while(!0);return i&&t.shellSuspendCounter++,zi=Is=null,He=l,G.H=h,G.A=d,De===null&&(Ze=null,Oe=0,qu()),_}function PA(){for(;De!==null;)l_(De)}function UA(t,i){var a=He;He|=2;var l=a_(),h=o_();Ze!==t||Oe!==i?(Ec=null,vc=en()+500,Ua(t,i)):xa=zn(t,i);e:do try{if(Ye!==0&&De!==null){i=De;var d=_n;t:switch(Ye){case 1:Ye=0,_n=null,ka(t,i,d,1);break;case 2:case 9:if(_g(d)){Ye=0,_n=null,u_(i);break}i=function(){Ye!==2&&Ye!==9||Ze!==t||(Ye=7),Ai(t)},d.then(i,i);break e;case 3:Ye=7;break e;case 4:Ye=5;break e;case 7:_g(d)?(Ye=0,_n=null,u_(i)):(Ye=0,_n=null,ka(t,i,d,7));break;case 5:var _=null;switch(De.tag){case 26:_=De.memoizedState;case 5:case 27:var T=De;if(_?Q_(_):T.stateNode.complete){Ye=0,_n=null;var I=T.sibling;if(I!==null)De=I;else{var z=T.return;z!==null?(De=z,Ac(z)):De=null}break t}}Ye=0,_n=null,ka(t,i,d,5);break;case 6:Ye=0,_n=null,ka(t,i,d,6);break;case 8:Sd(),ht=6;break e;default:throw Error(s(462))}}kA();break}catch(F){r_(t,F)}while(!0);return zi=Is=null,G.H=l,G.A=h,He=a,De!==null?0:(Ze=null,Oe=0,qu(),ht)}function kA(){for(;De!==null&&!Wh();)l_(De)}function l_(t){var i=Vy(t.alternate,t,Xi);t.memoizedProps=t.pendingProps,i===null?Ac(t):De=i}function u_(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=Ry(a,i,i.pendingProps,i.type,void 0,Oe);break;case 11:i=Ry(a,i,i.pendingProps,i.type.render,i.ref,Oe);break;case 5:kf(i);default:xy(a,i),i=De=og(i,Xi),i=Vy(a,i,Xi)}t.memoizedProps=t.pendingProps,i===null?Ac(t):De=i}function ka(t,i,a,l){zi=Is=null,kf(i),Ca=null,Jo=0;var h=i.return;try{if(RA(t,h,i,a,Oe)){ht=1,cc(t,In(a,t.current)),De=null;return}}catch(d){if(h!==null)throw De=h,d;ht=1,cc(t,In(a,t.current)),De=null;return}i.flags&32768?(Pe||l===1?t=!0:xa||(Oe&536870912)!==0?t=!1:(Dr=t=!0,(l===2||l===9||l===3||l===6)&&(l=gn.current,l!==null&&l.tag===13&&(l.flags|=16384))),c_(i,t)):Ac(i)}function Ac(t){var i=t;do{if((i.flags&32768)!==0){c_(i,Dr);return}t=i.return;var a=DA(i.alternate,i,Xi);if(a!==null){De=a;return}if(i=i.sibling,i!==null){De=i;return}De=i=t}while(i!==null);ht===0&&(ht=5)}function c_(t,i){do{var a=NA(t.alternate,t);if(a!==null){a.flags&=32767,De=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){De=t;return}De=t=a}while(t!==null);ht=6,De=null}function h_(t,i,a,l,h,d,_,T,I){t.cancelPendingCommit=null;do bc();while(Vt!==0);if((He&6)!==0)throw Error(s(327));if(i!==null){if(i===t.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=hf,tf(t,a,d,_,T,I),t===Ze&&(De=Ze=null,Oe=0),Pa=i,Vr=t,$i=a,vd=d,Ed=h,e_=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,qA(ur,function(){return g_(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=G.T,G.T=null,h=se.p,se.p=2,_=He,He|=4;try{OA(t,i,a)}finally{He=_,se.p=h,G.T=l}}Vt=1,f_(),d_(),m_()}}function f_(){if(Vt===1){Vt=0;var t=Vr,i=Pa,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=G.T,G.T=null;var l=se.p;se.p=2;var h=He;He|=4;try{Ky(i,t);var d=Ld,_=Wp(t.containerInfo),T=d.focusedElem,I=d.selectionRange;if(_!==T&&T&&T.ownerDocument&&Jp(T.ownerDocument.documentElement,T)){if(I!==null&&af(T)){var z=I.start,F=I.end;if(F===void 0&&(F=z),"selectionStart"in T)T.selectionStart=z,T.selectionEnd=Math.min(F,T.value.length);else{var Q=T.ownerDocument||document,B=Q&&Q.defaultView||window;if(B.getSelection){var H=B.getSelection(),ce=T.textContent.length,pe=Math.min(I.start,ce),We=I.end===void 0?pe:Math.min(I.end,ce);!H.extend&&pe>We&&(_=We,We=pe,pe=_);var x=$p(T,pe),N=$p(T,We);if(x&&N&&(H.rangeCount!==1||H.anchorNode!==x.node||H.anchorOffset!==x.offset||H.focusNode!==N.node||H.focusOffset!==N.offset)){var k=Q.createRange();k.setStart(x.node,x.offset),H.removeAllRanges(),pe>We?(H.addRange(k),H.extend(N.node,N.offset)):(k.setEnd(N.node,N.offset),H.addRange(k))}}}}for(Q=[],H=T;H=H.parentNode;)H.nodeType===1&&Q.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<Q.length;T++){var Y=Q[T];Y.element.scrollLeft=Y.left,Y.element.scrollTop=Y.top}}Pc=!!xd,Ld=xd=null}finally{He=h,se.p=l,G.T=a}}t.current=i,Vt=2}}function d_(){if(Vt===2){Vt=0;var t=Vr,i=Pa,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=G.T,G.T=null;var l=se.p;se.p=2;var h=He;He|=4;try{jy(t,i.alternate,i)}finally{He=h,se.p=l,G.T=a}}Vt=3}}function m_(){if(Vt===4||Vt===3){Vt=0,mu();var t=Vr,i=Pa,a=$i,l=e_;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Vt=5:(Vt=0,Pa=Vr=null,p_(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Or=null),Mi(a),i=i.stateNode,zt&&typeof zt.onCommitFiberRoot=="function")try{zt.onCommitFiberRoot(kn,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=G.T,h=se.p,se.p=2,G.T=null;try{for(var d=t.onRecoverableError,_=0;_<l.length;_++){var T=l[_];d(T.value,{componentStack:T.stack})}}finally{G.T=i,se.p=h}}($i&3)!==0&&bc(),Ai(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===Td?ml++:(ml=0,Td=t):ml=0,pl(0)}}function p_(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,Xo(i)))}function bc(){return f_(),d_(),m_(),g_()}function g_(){if(Vt!==5)return!1;var t=Vr,i=vd;vd=0;var a=Mi($i),l=G.T,h=se.p;try{se.p=32>a?32:a,G.T=null,a=Ed,Ed=null;var d=Vr,_=$i;if(Vt=0,Pa=Vr=null,$i=0,(He&6)!==0)throw Error(s(331));var T=He;if(He|=4,Jy(d.current),Qy(d,d.current,_,a),He=T,pl(0,!1),zt&&typeof zt.onPostCommitFiberRoot=="function")try{zt.onPostCommitFiberRoot(kn,d)}catch{}return!0}finally{se.p=h,G.T=l,p_(t,i)}}function y_(t,i,a){i=In(a,i),i=Zf(t.stateNode,i,2),t=wr(t,i,2),t!==null&&(hs(t,2),Ai(t))}function Qe(t,i,a){if(t.tag===3)y_(t,t,a);else for(;i!==null;){if(i.tag===3){y_(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Or===null||!Or.has(l))){t=In(a,t),a=_y(2),l=wr(i,a,2),l!==null&&(vy(a,l,i,t),hs(l,2),Ai(l));break}}i=i.return}}function bd(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new xA;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(gd=!0,h.add(a),t=zA.bind(null,t,i,a),i.then(t,t))}function zA(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,Ze===t&&(Oe&a)===a&&(ht===4||ht===3&&(Oe&62914560)===Oe&&300>en()-_c?(He&2)===0&&Ua(t,0):yd|=a,La===Oe&&(La=0)),Ai(t)}function __(t,i){i===0&&(i=Eu()),t=ws(t,i),t!==null&&(hs(t,i),Ai(t))}function BA(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),__(t,a)}function jA(t,i){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),__(t,a)}function qA(t,i){return Ot(t,i)}var wc=null,za=null,wd=!1,Rc=!1,Rd=!1,xr=0;function Ai(t){t!==za&&t.next===null&&(za===null?wc=za=t:za=za.next=t),Rc=!0,wd||(wd=!0,FA())}function pl(t,i){if(!Rd&&Rc){Rd=!0;do for(var a=!1,l=wc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var _=l.suspendedLanes,T=l.pingedLanes;d=(1<<31-ft(42|t)+1)-1,d&=h&~(_&~T),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,S_(l,d))}else d=Oe,d=si(l,l===Ze?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||zn(l,d)||(a=!0,S_(l,d));l=l.next}while(a);Rd=!1}}function HA(){v_()}function v_(){Rc=wd=!1;var t=0;xr!==0&&eb()&&(t=xr);for(var i=en(),a=null,l=wc;l!==null;){var h=l.next,d=E_(l,i);d===0?(l.next=null,a===null?wc=h:a.next=h,h===null&&(za=a)):(a=l,(t!==0||(d&3)!==0)&&(Rc=!0)),l=h}Vt!==0&&Vt!==5||pl(t),xr!==0&&(xr=0)}function E_(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var _=31-ft(d),T=1<<_,I=h[_];I===-1?((T&a)===0||(T&l)!==0)&&(h[_]=ef(T,i)):I<=i&&(t.expiredLanes|=T),d&=~T}if(i=Ze,a=Oe,a=si(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===i&&(Ye===2||Ye===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&lr(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||zn(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&lr(l),Mi(a)){case 2:case 8:a=wo;break;case 32:a=ur;break;case 268435456:a=pu;break;default:a=ur}return l=T_.bind(null,t),a=Ot(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&lr(l),t.callbackPriority=2,t.callbackNode=null,2}function T_(t,i){if(Vt!==0&&Vt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(bc()&&t.callbackNode!==a)return null;var l=Oe;return l=si(t,t===Ze?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(n_(t,l,i),E_(t,en()),t.callbackNode!=null&&t.callbackNode===a?T_.bind(null,t):null)}function S_(t,i){if(bc())return null;n_(t,i,!0)}function FA(){nb(function(){(He&6)!==0?Ot(bo,HA):v_()})}function Cd(){if(xr===0){var t=ba;t===0&&(t=ii,ii<<=1,(ii&261888)===0&&(ii=256)),xr=t}return xr}function A_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ua(""+t)}function b_(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function GA(t,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=A_((h[Lt]||null).action),_=l.submitter;_&&(i=(i=_[Lt]||null)?A_(i.formAction):_.getAttribute("formAction"),i!==null&&(d=i,_=null));var T=new gi("action","action",null,l,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(xr!==0){var I=_?b_(h,_):new FormData(h);Yf(a,{pending:!0,data:I,method:h.method,action:d},null,I)}}else typeof d=="function"&&(T.preventDefault(),I=_?b_(h,_):new FormData(h),Yf(a,{pending:!0,data:I,method:h.method,action:d},d,I))},currentTarget:h}]})}}for(var Id=0;Id<cf.length;Id++){var Dd=cf[Id],KA=Dd.toLowerCase(),YA=Dd[0].toUpperCase()+Dd.slice(1);Yn(KA,"on"+YA)}Yn(tg,"onAnimationEnd"),Yn(ng,"onAnimationIteration"),Yn(ig,"onAnimationStart"),Yn("dblclick","onDoubleClick"),Yn("focusin","onFocus"),Yn("focusout","onBlur"),Yn(uA,"onTransitionRun"),Yn(cA,"onTransitionStart"),Yn(hA,"onTransitionCancel"),Yn(rg,"onTransitionEnd"),fi("onMouseEnter",["mouseout","mouseover"]),fi("onMouseLeave",["mouseout","mouseover"]),fi("onPointerEnter",["pointerout","pointerover"]),fi("onPointerLeave",["pointerout","pointerover"]),hi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),hi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),hi("onBeforeInput",["compositionend","keypress","textInput","paste"]),hi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),hi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),hi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var gl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),QA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(gl));function w_(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var _=l.length-1;0<=_;_--){var T=l[_],I=T.instance,z=T.currentTarget;if(T=T.listener,I!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=z;try{d(h)}catch(F){ju(F)}h.currentTarget=null,d=I}else for(_=0;_<l.length;_++){if(T=l[_],I=T.instance,z=T.currentTarget,T=T.listener,I!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=z;try{d(h)}catch(F){ju(F)}h.currentTarget=null,d=I}}}}function Ne(t,i){var a=i[ra];a===void 0&&(a=i[ra]=new Set);var l=t+"__bubble";a.has(l)||(R_(i,t,2,!1),a.add(l))}function Nd(t,i,a){var l=0;i&&(l|=4),R_(a,t,l,i)}var Cc="_reactListening"+Math.random().toString(36).slice(2);function Od(t){if(!t[Cc]){t[Cc]=!0,Io.forEach(function(a){a!=="selectionchange"&&(QA.has(a)||Nd(a,!1,t),Nd(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Cc]||(i[Cc]=!0,Nd("selectionchange",!1,i))}}function R_(t,i,a,l){switch(tv(i)){case 2:var h=Sb;break;case 8:h=Ab;break;default:h=Kd}a=h.bind(null,i,a,t),h=void 0,!ys||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(i,a,{capture:!0,passive:h}):t.addEventListener(i,a,!0):h!==void 0?t.addEventListener(i,a,{passive:h}):t.addEventListener(i,a,!1)}function Vd(t,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var T=l.stateNode.containerInfo;if(T===h)break;if(_===4)for(_=l.return;_!==null;){var I=_.tag;if((I===3||I===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;T!==null;){if(_=ui(T),_===null)return;if(I=_.tag,I===5||I===6||I===26||I===27){l=d=_;continue e}T=T.parentNode}}l=l.return}pr(function(){var z=d,F=bn(a),Q=[];e:{var B=sg.get(t);if(B!==void 0){var H=gi,ce=t;switch(t){case"keypress":if(vs(a)===0)break e;case"keydown":case"keyup":H=ku;break;case"focusin":ce="focus",H=Ts;break;case"focusout":ce="blur",H=Ts;break;case"beforeblur":case"afterblur":H=Ts;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=jo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=Du;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=p;break;case tg:case ng:case ig:H=Ou;break;case rg:H=A;break;case"scroll":case"scrollend":H=Bo;break;case"wheel":H=j;break;case"copy":case"cut":case"paste":H=Vu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=Pi;break;case"toggle":case"beforetoggle":H=Se}var pe=(i&4)!==0,We=!pe&&(t==="scroll"||t==="scrollend"),x=pe?B!==null?B+"Capture":null:B;pe=[];for(var N=z,k;N!==null;){var Y=N;if(k=Y.stateNode,Y=Y.tag,Y!==5&&Y!==26&&Y!==27||k===null||x===null||(Y=Hn(N,x),Y!=null&&pe.push(yl(N,Y,k))),We)break;N=N.return}0<pe.length&&(B=new H(B,ce,null,a,F),Q.push({event:B,listeners:pe}))}}if((i&7)===0){e:{if(B=t==="mouseover"||t==="pointerover",H=t==="mouseout"||t==="pointerout",B&&a!==Uo&&(ce=a.relatedTarget||a.fromElement)&&(ui(ce)||ce[oi]))break e;if((H||B)&&(B=F.window===F?F:(B=F.ownerDocument)?B.defaultView||B.parentWindow:window,H?(ce=a.relatedTarget||a.toElement,H=z,ce=ce?ui(ce):null,ce!==null&&(We=u(ce),pe=ce.tag,ce!==We||pe!==5&&pe!==27&&pe!==6)&&(ce=null)):(H=null,ce=z),H!==ce)){if(pe=jo,Y="onMouseLeave",x="onMouseEnter",N="mouse",(t==="pointerout"||t==="pointerover")&&(pe=Pi,Y="onPointerLeave",x="onPointerEnter",N="pointer"),We=H==null?B:fn(H),k=ce==null?B:fn(ce),B=new pe(Y,N+"leave",H,a,F),B.target=We,B.relatedTarget=k,Y=null,ui(F)===z&&(pe=new pe(x,N+"enter",ce,a,F),pe.target=k,pe.relatedTarget=We,Y=pe),We=Y,H&&ce)t:{for(pe=XA,x=H,N=ce,k=0,Y=x;Y;Y=pe(Y))k++;Y=0;for(var fe=N;fe;fe=pe(fe))Y++;for(;0<k-Y;)x=pe(x),k--;for(;0<Y-k;)N=pe(N),Y--;for(;k--;){if(x===N||N!==null&&x===N.alternate){pe=x;break t}x=pe(x),N=pe(N)}pe=null}else pe=null;H!==null&&C_(Q,B,H,pe,!1),ce!==null&&We!==null&&C_(Q,We,ce,pe,!0)}}e:{if(B=z?fn(z):window,H=B.nodeName&&B.nodeName.toLowerCase(),H==="select"||H==="input"&&B.type==="file")var Be=Fp;else if(qp(B))if(Gp)Be=aA;else{Be=rA;var he=iA}else H=B.nodeName,!H||H.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?z&&la(z.elementType)&&(Be=Fp):Be=sA;if(Be&&(Be=Be(t,z))){Hp(Q,Be,a,F);break e}he&&he(t,B,z),t==="focusout"&&z&&B.type==="number"&&z.memoizedProps.value!=null&&xo(B,"number",B.value)}switch(he=z?fn(z):window,t){case"focusin":(qp(he)||he.contentEditable==="true")&&(ga=he,of=z,Ko=null);break;case"focusout":Ko=of=ga=null;break;case"mousedown":lf=!0;break;case"contextmenu":case"mouseup":case"dragend":lf=!1,Zp(Q,a,F);break;case"selectionchange":if(lA)break;case"keydown":case"keyup":Zp(Q,a,F)}var we;if(qe)e:{switch(t){case"compositionstart":var Ve="onCompositionStart";break e;case"compositionend":Ve="onCompositionEnd";break e;case"compositionupdate":Ve="onCompositionUpdate";break e}Ve=void 0}else pa?Ss(t,a)&&(Ve="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Ve="onCompositionStart");Ve&&(vi&&a.locale!=="ko"&&(pa||Ve!=="onCompositionStart"?Ve==="onCompositionEnd"&&pa&&(we=zo()):(pi=F,ko="value"in pi?pi.value:pi.textContent,pa=!0)),he=Ic(z,Ve),0<he.length&&(Ve=new _i(Ve,t,null,a,F),Q.push({event:Ve,listeners:he}),we?Ve.data=we:(we=ma(a),we!==null&&(Ve.data=we)))),(we=Rn?ZS(t,a):eA(t,a))&&(Ve=Ic(z,"onBeforeInput"),0<Ve.length&&(he=new _i("onBeforeInput","beforeinput",null,a,F),Q.push({event:he,listeners:Ve}),he.data=we)),GA(Q,t,z,a,F)}w_(Q,i)})}function yl(t,i,a){return{instance:t,listener:i,currentTarget:a}}function Ic(t,i){for(var a=i+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=Hn(t,a),h!=null&&l.unshift(yl(t,h,d)),h=Hn(t,i),h!=null&&l.push(yl(t,h,d))),t.tag===3)return l;t=t.return}return[]}function XA(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function C_(t,i,a,l,h){for(var d=i._reactName,_=[];a!==null&&a!==l;){var T=a,I=T.alternate,z=T.stateNode;if(T=T.tag,I!==null&&I===l)break;T!==5&&T!==26&&T!==27||z===null||(I=z,h?(z=Hn(a,d),z!=null&&_.unshift(yl(a,z,I))):h||(z=Hn(a,d),z!=null&&_.push(yl(a,z,I)))),a=a.return}_.length!==0&&t.push({event:i,listeners:_})}var $A=/\r\n?/g,JA=/\u0000|\uFFFD/g;function I_(t){return(typeof t=="string"?t:""+t).replace($A,`
`).replace(JA,"")}function D_(t,i){return i=I_(i),I_(t)===i}function Je(t,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||sn(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&sn(t,""+l);break;case"className":dn(t,"class",l);break;case"tabIndex":dn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":dn(t,a,l);break;case"style":Po(t,l,d);break;case"data":if(i!=="object"){dn(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ua(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&Je(t,i,"name",h.name,h,null),Je(t,i,"formEncType",h.formEncType,h,null),Je(t,i,"formMethod",h.formMethod,h,null),Je(t,i,"formTarget",h.formTarget,h,null)):(Je(t,i,"encType",h.encType,h,null),Je(t,i,"method",h.method,h,null),Je(t,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ua(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=qn);break;case"onScroll":l!=null&&Ne("scroll",t);break;case"onScrollEnd":l!=null&&Ne("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=ua(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Ne("beforetoggle",t),Ne("toggle",t),aa(t,"popover",l);break;case"xlinkActuate":Tt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Tt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Tt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Tt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Tt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Tt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Tt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Tt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Tt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":aa(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Iu.get(a)||a,aa(t,a,l))}}function Md(t,i,a,l,h,d){switch(a){case"style":Po(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?sn(t,l):(typeof l=="number"||typeof l=="bigint")&&sn(t,""+l);break;case"onScroll":l!=null&&Ne("scroll",t);break;case"onScrollEnd":l!=null&&Ne("scrollend",t);break;case"onClick":l!=null&&(t.onclick=qn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Do.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=t[Lt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):aa(t,a,l)}}}function Ft(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ne("error",t),Ne("load",t);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Je(t,i,d,_,a,null)}}h&&Je(t,i,"srcSet",a.srcSet,a,null),l&&Je(t,i,"src",a.src,a,null);return;case"input":Ne("invalid",t);var T=d=_=h=null,I=null,z=null;for(l in a)if(a.hasOwnProperty(l)){var F=a[l];if(F!=null)switch(l){case"name":h=F;break;case"type":_=F;break;case"checked":I=F;break;case"defaultChecked":z=F;break;case"value":d=F;break;case"defaultValue":T=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,i));break;default:Je(t,i,l,F,a,null)}}wu(t,d,T,I,z,_,h,!1);return;case"select":Ne("invalid",t),l=_=d=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":d=T;break;case"defaultValue":_=T;break;case"multiple":l=T;default:Je(t,i,h,T,a,null)}i=d,a=_,t.multiple=!!l,i!=null?hr(t,!!l,i,!1):a!=null&&hr(t,!!l,a,!0);return;case"textarea":Ne("invalid",t),d=h=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(T=a[_],T!=null))switch(_){case"value":l=T;break;case"defaultValue":h=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:Je(t,i,_,T,a,null)}fr(t,l,h,d);return;case"option":for(I in a)a.hasOwnProperty(I)&&(l=a[I],l!=null)&&(I==="selected"?t.selected=l&&typeof l!="function"&&typeof l!="symbol":Je(t,i,I,l,a,null));return;case"dialog":Ne("beforetoggle",t),Ne("toggle",t),Ne("cancel",t),Ne("close",t);break;case"iframe":case"object":Ne("load",t);break;case"video":case"audio":for(l=0;l<gl.length;l++)Ne(gl[l],t);break;case"image":Ne("error",t),Ne("load",t);break;case"details":Ne("toggle",t);break;case"embed":case"source":case"link":Ne("error",t),Ne("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in a)if(a.hasOwnProperty(z)&&(l=a[z],l!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Je(t,i,z,l,a,null)}return;default:if(la(i)){for(F in a)a.hasOwnProperty(F)&&(l=a[F],l!==void 0&&Md(t,i,F,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&Je(t,i,T,l,a,null))}function WA(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,_=null,T=null,I=null,z=null,F=null;for(H in a){var Q=a[H];if(a.hasOwnProperty(H)&&Q!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":I=Q;default:l.hasOwnProperty(H)||Je(t,i,H,null,l,Q)}}for(var B in l){var H=l[B];if(Q=a[B],l.hasOwnProperty(B)&&(H!=null||Q!=null))switch(B){case"type":d=H;break;case"name":h=H;break;case"checked":z=H;break;case"defaultChecked":F=H;break;case"value":_=H;break;case"defaultValue":T=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,i));break;default:H!==Q&&Je(t,i,B,H,l,Q)}}oa(t,_,T,I,z,F,d,h);return;case"select":H=_=T=B=null;for(d in a)if(I=a[d],a.hasOwnProperty(d)&&I!=null)switch(d){case"value":break;case"multiple":H=I;default:l.hasOwnProperty(d)||Je(t,i,d,null,l,I)}for(h in l)if(d=l[h],I=a[h],l.hasOwnProperty(h)&&(d!=null||I!=null))switch(h){case"value":B=d;break;case"defaultValue":T=d;break;case"multiple":_=d;default:d!==I&&Je(t,i,h,d,l,I)}i=T,a=_,l=H,B!=null?hr(t,!!a,B,!1):!!l!=!!a&&(i!=null?hr(t,!!a,i,!0):hr(t,!!a,a?[]:"",!1));return;case"textarea":H=B=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Je(t,i,T,null,l,h)}for(_ in l)if(h=l[_],d=a[_],l.hasOwnProperty(_)&&(h!=null||d!=null))switch(_){case"value":B=h;break;case"defaultValue":H=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&Je(t,i,_,h,l,d)}Ru(t,B,H);return;case"option":for(var ce in a)B=a[ce],a.hasOwnProperty(ce)&&B!=null&&!l.hasOwnProperty(ce)&&(ce==="selected"?t.selected=!1:Je(t,i,ce,null,l,B));for(I in l)B=l[I],H=a[I],l.hasOwnProperty(I)&&B!==H&&(B!=null||H!=null)&&(I==="selected"?t.selected=B&&typeof B!="function"&&typeof B!="symbol":Je(t,i,I,B,l,H));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var pe in a)B=a[pe],a.hasOwnProperty(pe)&&B!=null&&!l.hasOwnProperty(pe)&&Je(t,i,pe,null,l,B);for(z in l)if(B=l[z],H=a[z],l.hasOwnProperty(z)&&B!==H&&(B!=null||H!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(s(137,i));break;default:Je(t,i,z,B,l,H)}return;default:if(la(i)){for(var We in a)B=a[We],a.hasOwnProperty(We)&&B!==void 0&&!l.hasOwnProperty(We)&&Md(t,i,We,void 0,l,B);for(F in l)B=l[F],H=a[F],!l.hasOwnProperty(F)||B===H||B===void 0&&H===void 0||Md(t,i,F,B,l,H);return}}for(var x in a)B=a[x],a.hasOwnProperty(x)&&B!=null&&!l.hasOwnProperty(x)&&Je(t,i,x,null,l,B);for(Q in l)B=l[Q],H=a[Q],!l.hasOwnProperty(Q)||B===H||B==null&&H==null||Je(t,i,Q,B,l,H)}function N_(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function ZA(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var h=a[l],d=h.transferSize,_=h.initiatorType,T=h.duration;if(d&&T&&N_(_)){for(_=0,T=h.responseEnd,l+=1;l<a.length;l++){var I=a[l],z=I.startTime;if(z>T)break;var F=I.transferSize,Q=I.initiatorType;F&&N_(Q)&&(I=I.responseEnd,_+=F*(I<T?1:(T-z)/(I-z)))}if(--l,i+=8*(d+_)/(h.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var xd=null,Ld=null;function Dc(t){return t.nodeType===9?t:t.ownerDocument}function O_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function V_(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Pd(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Ud=null;function eb(){var t=window.event;return t&&t.type==="popstate"?t===Ud?!1:(Ud=t,!0):(Ud=null,!1)}var M_=typeof setTimeout=="function"?setTimeout:void 0,tb=typeof clearTimeout=="function"?clearTimeout:void 0,x_=typeof Promise=="function"?Promise:void 0,nb=typeof queueMicrotask=="function"?queueMicrotask:typeof x_<"u"?function(t){return x_.resolve(null).then(t).catch(ib)}:M_;function ib(t){setTimeout(function(){throw t})}function Lr(t){return t==="head"}function L_(t,i){var a=i,l=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(h),Ha(i);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")_l(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,_l(a);for(var d=a.firstChild;d;){var _=d.nextSibling,T=d.nodeName;d[li]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=_}}else a==="body"&&_l(t.ownerDocument.body);a=h}while(a);Ha(i)}function P_(t,i){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function kd(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":kd(a),sa(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function rb(t,i,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[li])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Mn(t.nextSibling),t===null)break}return null}function sb(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Mn(t.nextSibling),t===null))return null;return t}function U_(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=Mn(t.nextSibling),t===null))return null;return t}function zd(t){return t.data==="$?"||t.data==="$~"}function Bd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function ab(t,i){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||a.readyState!=="loading")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Mn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var jd=null;function k_(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(i===0)return Mn(t.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}t=t.nextSibling}return null}function z_(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return t;i--}else a!=="/$"&&a!=="/&"||i++}t=t.previousSibling}return null}function B_(t,i,a){switch(i=Dc(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function _l(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);sa(t)}var xn=new Map,j_=new Set;function Nc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Ji=se.d;se.d={f:ob,r:lb,D:ub,C:cb,L:hb,m:fb,X:mb,S:db,M:pb};function ob(){var t=Ji.f(),i=Tc();return t||i}function lb(t){var i=An(t);i!==null&&i.tag===5&&i.type==="form"?ry(i):Ji.r(t)}var Ba=typeof document>"u"?null:document;function q_(t,i,a){var l=Ba;if(l&&typeof i=="string"&&i){var h=rn(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),j_.has(h)||(j_.add(h),t={rel:t,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),Ft(i,"link",t),Et(i),l.head.appendChild(i)))}}function ub(t){Ji.D(t),q_("dns-prefetch",t,null)}function cb(t,i){Ji.C(t,i),q_("preconnect",t,i)}function hb(t,i,a){Ji.L(t,i,a);var l=Ba;if(l&&t&&i){var h='link[rel="preload"][as="'+rn(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+rn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+rn(a.imageSizes)+'"]')):h+='[href="'+rn(t)+'"]';var d=h;switch(i){case"style":d=ja(t);break;case"script":d=qa(t)}xn.has(d)||(t=S({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),xn.set(d,t),l.querySelector(h)!==null||i==="style"&&l.querySelector(vl(d))||i==="script"&&l.querySelector(El(d))||(i=l.createElement("link"),Ft(i,"link",t),Et(i),l.head.appendChild(i)))}}function fb(t,i){Ji.m(t,i);var a=Ba;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+rn(l)+'"][href="'+rn(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=qa(t)}if(!xn.has(d)&&(t=S({rel:"modulepreload",href:t},i),xn.set(d,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(El(d)))return}l=a.createElement("link"),Ft(l,"link",t),Et(l),a.head.appendChild(l)}}}function db(t,i,a){Ji.S(t,i,a);var l=Ba;if(l&&t){var h=ci(l).hoistableStyles,d=ja(t);i=i||"default";var _=h.get(d);if(!_){var T={loading:0,preload:null};if(_=l.querySelector(vl(d)))T.loading=5;else{t=S({rel:"stylesheet",href:t,"data-precedence":i},a),(a=xn.get(d))&&qd(t,a);var I=_=l.createElement("link");Et(I),Ft(I,"link",t),I._p=new Promise(function(z,F){I.onload=z,I.onerror=F}),I.addEventListener("load",function(){T.loading|=1}),I.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Oc(_,i,l)}_={type:"stylesheet",instance:_,count:1,state:T},h.set(d,_)}}}function mb(t,i){Ji.X(t,i);var a=Ba;if(a&&t){var l=ci(a).hoistableScripts,h=qa(t),d=l.get(h);d||(d=a.querySelector(El(h)),d||(t=S({src:t,async:!0},i),(i=xn.get(h))&&Hd(t,i),d=a.createElement("script"),Et(d),Ft(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function pb(t,i){Ji.M(t,i);var a=Ba;if(a&&t){var l=ci(a).hoistableScripts,h=qa(t),d=l.get(h);d||(d=a.querySelector(El(h)),d||(t=S({src:t,async:!0,type:"module"},i),(i=xn.get(h))&&Hd(t,i),d=a.createElement("script"),Et(d),Ft(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function H_(t,i,a,l){var h=(h=be.current)?Nc(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=ja(a.href),a=ci(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=ja(a.href);var d=ci(h).hoistableStyles,_=d.get(t);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,_),(d=h.querySelector(vl(t)))&&!d._p&&(_.instance=d,_.state.loading=5),xn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},xn.set(t,a),d||gb(h,t,a,_.state))),i&&l===null)throw Error(s(528,""));return _}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=qa(a),a=ci(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function ja(t){return'href="'+rn(t)+'"'}function vl(t){return'link[rel="stylesheet"]['+t+"]"}function F_(t){return S({},t,{"data-precedence":t.precedence,precedence:null})}function gb(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Ft(i,"link",a),Et(i),t.head.appendChild(i))}function qa(t){return'[src="'+rn(t)+'"]'}function El(t){return"script[async]"+t}function G_(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+rn(a.href)+'"]');if(l)return i.instance=l,Et(l),l;var h=S({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Et(l),Ft(l,"style",h),Oc(l,a.precedence,t),i.instance=l;case"stylesheet":h=ja(a.href);var d=t.querySelector(vl(h));if(d)return i.state.loading|=4,i.instance=d,Et(d),d;l=F_(a),(h=xn.get(h))&&qd(l,h),d=(t.ownerDocument||t).createElement("link"),Et(d);var _=d;return _._p=new Promise(function(T,I){_.onload=T,_.onerror=I}),Ft(d,"link",l),i.state.loading|=4,Oc(d,a.precedence,t),i.instance=d;case"script":return d=qa(a.src),(h=t.querySelector(El(d)))?(i.instance=h,Et(h),h):(l=a,(h=xn.get(d))&&(l=S({},a),Hd(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),Et(h),Ft(h,"link",l),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Oc(l,a.precedence,t));return i.instance}function Oc(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,_=0;_<l.length;_++){var T=l[_];if(T.dataset.precedence===i)d=T;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function qd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function Hd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Vc=null;function K_(t,i,a){if(Vc===null){var l=new Map,h=Vc=new Map;h.set(a,l)}else h=Vc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[li]||d[vt]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(i)||"";_=t+_;var T=l.get(_);T?T.push(d):l.set(_,[d])}}return l}function Y_(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function yb(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;return i.rel==="stylesheet"?(t=i.disabled,typeof i.precedence=="string"&&t==null):!0;case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Q_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function _b(t,i,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=ja(l.href),d=i.querySelector(vl(h));if(d){i=d._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=Mc.bind(t),i.then(t,t)),a.state.loading|=4,a.instance=d,Et(d);return}d=i.ownerDocument||i,l=F_(l),(h=xn.get(h))&&qd(l,h),d=d.createElement("link"),Et(d);var _=d;_._p=new Promise(function(T,I){_.onload=T,_.onerror=I}),Ft(d,"link",l),a.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Mc.bind(t),i.addEventListener("load",a),i.addEventListener("error",a))}}var Fd=0;function vb(t,i){return t.stylesheets&&t.count===0&&Lc(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&Lc(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+i);0<t.imgBytes&&Fd===0&&(Fd=62500*ZA());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Lc(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>Fd?50:800)+i);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function Mc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Lc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var xc=null;function Lc(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,xc=new Map,i.forEach(Eb,t),xc=null,Mc.call(t))}function Eb(t,i){if(!(i.state.loading&4)){var a=xc.get(t);if(a)var l=a.get(null);else{a=new Map,xc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var _=h[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}h=i.instance,_=h.getAttribute("data-precedence"),d=a.get(_)||l,d===l&&a.set(null,h),a.set(_,h),this.count++,l=Mc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var Tl={$$typeof:re,Provider:null,Consumer:null,_currentValue:me,_currentValue2:me,_threadCount:0};function Tb(t,i,a,l,h,d,_,T,I){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ai(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ai(0),this.hiddenUpdates=ai(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function X_(t,i,a,l,h,d,_,T,I,z,F,Q){return t=new Tb(t,i,a,_,I,z,F,Q,T),i=1,d===!0&&(i|=24),d=pn(3,null,null,i),t.current=d,d.stateNode=t,i=Af(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},Cf(d),t}function $_(t){return t?(t=va,t):va}function J_(t,i,a,l,h,d){h=$_(h),l.context===null?l.context=h:l.pendingContext=h,l=br(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=wr(t,l,i),a!==null&&(cn(a,t,i),Zo(a,t,i))}function W_(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function Gd(t,i){W_(t,i),(t=t.alternate)&&W_(t,i)}function Z_(t){if(t.tag===13||t.tag===31){var i=ws(t,67108864);i!==null&&cn(i,t,67108864),Gd(t,67108864)}}function ev(t){if(t.tag===13||t.tag===31){var i=En();i=ds(i);var a=ws(t,i);a!==null&&cn(a,t,i),Gd(t,i)}}var Pc=!0;function Sb(t,i,a,l){var h=G.T;G.T=null;var d=se.p;try{se.p=2,Kd(t,i,a,l)}finally{se.p=d,G.T=h}}function Ab(t,i,a,l){var h=G.T;G.T=null;var d=se.p;try{se.p=8,Kd(t,i,a,l)}finally{se.p=d,G.T=h}}function Kd(t,i,a,l){if(Pc){var h=Yd(l);if(h===null)Vd(t,i,l,Uc,a),nv(t,l);else if(wb(h,t,i,a,l))l.stopPropagation();else if(nv(t,l),i&4&&-1<bb.indexOf(t)){for(;h!==null;){var d=An(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=ri(d.pendingLanes);if(_!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;_;){var I=1<<31-ft(_);T.entanglements[1]|=I,_&=~I}Ai(d),(He&6)===0&&(vc=en()+500,pl(0))}}break;case 31:case 13:T=ws(d,2),T!==null&&cn(T,d,2),Tc(),Gd(d,2)}if(d=Yd(l),d===null&&Vd(t,i,l,Uc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else Vd(t,i,l,null,a)}}function Yd(t){return t=bn(t),Qd(t)}var Uc=null;function Qd(t){if(Uc=null,t=ui(t),t!==null){var i=u(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=f(i),t!==null)return t;t=null}else if(a===31){if(t=m(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Uc=t,null}function tv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(us()){case bo:return 2;case wo:return 8;case ur:case Zh:return 32;case pu:return 268435456;default:return 32}default:return 32}}var Xd=!1,Pr=null,Ur=null,kr=null,Sl=new Map,Al=new Map,zr=[],bb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function nv(t,i){switch(t){case"focusin":case"focusout":Pr=null;break;case"dragenter":case"dragleave":Ur=null;break;case"mouseover":case"mouseout":kr=null;break;case"pointerover":case"pointerout":Sl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Al.delete(i.pointerId)}}function bl(t,i,a,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=An(i),i!==null&&Z_(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function wb(t,i,a,l,h){switch(i){case"focusin":return Pr=bl(Pr,t,i,a,l,h),!0;case"dragenter":return Ur=bl(Ur,t,i,a,l,h),!0;case"mouseover":return kr=bl(kr,t,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return Sl.set(d,bl(Sl.get(d)||null,t,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,Al.set(d,bl(Al.get(d)||null,t,i,a,l,h)),!0}return!1}function iv(t){var i=ui(t.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){t.blockedOn=i,Bn(t.priority,function(){ev(a)});return}}else if(i===31){if(i=m(a),i!==null){t.blockedOn=i,Bn(t.priority,function(){ev(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function kc(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=Yd(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Uo=l,a.target.dispatchEvent(l),Uo=null}else return i=An(a),i!==null&&Z_(i),t.blockedOn=a,!1;i.shift()}return!0}function rv(t,i,a){kc(t)&&a.delete(i)}function Rb(){Xd=!1,Pr!==null&&kc(Pr)&&(Pr=null),Ur!==null&&kc(Ur)&&(Ur=null),kr!==null&&kc(kr)&&(kr=null),Sl.forEach(rv),Al.forEach(rv)}function zc(t,i){t.blockedOn===i&&(t.blockedOn=null,Xd||(Xd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Rb)))}var Bc=null;function sv(t){Bc!==t&&(Bc=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Bc===t&&(Bc=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],h=t[i+2];if(typeof l!="function"){if(Qd(l||a)===null)continue;break}var d=An(a);d!==null&&(t.splice(i,3),i-=3,Yf(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Ha(t){function i(I){return zc(I,t)}Pr!==null&&zc(Pr,t),Ur!==null&&zc(Ur,t),kr!==null&&zc(kr,t),Sl.forEach(i),Al.forEach(i);for(var a=0;a<zr.length;a++){var l=zr[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<zr.length&&(a=zr[0],a.blockedOn===null);)iv(a),a.blockedOn===null&&zr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],_=h[Lt]||null;if(typeof d=="function")_||sv(a);else if(_){var T=null;if(d&&d.hasAttribute("formAction")){if(h=d,_=d[Lt]||null)T=_.formAction;else if(Qd(h)!==null)continue}else T=_.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),sv(a)}}}function av(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(_){return h=_})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function $d(t){this._internalRoot=t}jc.prototype.render=$d.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=En();J_(a,l,t,i,null,null)},jc.prototype.unmount=$d.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;J_(t.current,2,null,t,null,null),Tc(),i[oi]=null}};function jc(t){this._internalRoot=t}jc.prototype.unstable_scheduleHydration=function(t){if(t){var i=Tu();t={blockedOn:null,target:t,priority:i};for(var a=0;a<zr.length&&i!==0&&i<zr[a].priority;a++);zr.splice(a,0,t),a===0&&iv(t)}};var ov=e.version;if(ov!=="19.2.4")throw Error(s(527,ov,"19.2.4"));se.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=y(i),t=t!==null?E(t):null,t=t===null?null:t.stateNode,t};var Cb={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var qc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!qc.isDisabled&&qc.supportsFiber)try{kn=qc.inject(Cb),zt=qc}catch{}}return Rl.createRoot=function(t,i){if(!o(t))throw Error(s(299));var a=!1,l="",h=my,d=py,_=gy;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError)),i=X_(t,1,!1,null,null,a,l,null,h,d,_,av),t[oi]=i.current,Od(t),new $d(i)},Rl.hydrateRoot=function(t,i,a){if(!o(t))throw Error(s(299));var l=!1,h="",d=my,_=py,T=gy,I=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.formState!==void 0&&(I=a.formState)),i=X_(t,1,!0,i,a??null,l,h,I,d,_,T,av),i.context=$_(null),a=i.current,l=En(),l=ds(l),h=br(l),h.callback=null,wr(a,h,l),a=l,i.current.lanes=a,hs(i,a),Ai(i),t[oi]=i.current,Od(t),new jc(i)},Rl.version="19.2.4",Rl}var yv;function kb(){if(yv)return Zd.exports;yv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Zd.exports=Ub(),Zd.exports}var zb=kb();const Bb=nT(zb);var _v="popstate";function jb(r={}){function e(s,o){let{pathname:u,search:f,hash:m}=s.location;return _m("",{pathname:u,search:f,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:jl(o)}return Hb(e,n,null,r)}function lt(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Zn(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function qb(){return Math.random().toString(36).substring(2,10)}function vv(r,e){return{usr:r.state,key:r.key,idx:e}}function _m(r,e,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?uo(e):e,state:n,key:e&&e.key||s||qb()}}function jl({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function uo(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function Hb(r,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,m="POP",g=null,y=E();y==null&&(y=0,f.replaceState({...f.state,idx:y},""));function E(){return(f.state||{idx:null}).idx}function S(){m="POP";let K=E(),ne=K==null?null:K-y;y=K,g&&g({action:m,location:X.location,delta:ne})}function w(K,ne){m="PUSH";let ee=_m(X.location,K,ne);y=E()+1;let re=vv(ee,y),Ce=X.createHref(ee);try{f.pushState(re,"",Ce)}catch(Ie){if(Ie instanceof DOMException&&Ie.name==="DataCloneError")throw Ie;o.location.assign(Ce)}u&&g&&g({action:m,location:X.location,delta:1})}function U(K,ne){m="REPLACE";let ee=_m(X.location,K,ne);y=E();let re=vv(ee,y),Ce=X.createHref(ee);f.replaceState(re,"",Ce),u&&g&&g({action:m,location:X.location,delta:0})}function J(K){return Fb(K)}let X={get action(){return m},get location(){return r(o,f)},listen(K){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener(_v,S),g=K,()=>{o.removeEventListener(_v,S),g=null}},createHref(K){return e(o,K)},createURL:J,encodeLocation(K){let ne=J(K);return{pathname:ne.pathname,search:ne.search,hash:ne.hash}},push:w,replace:U,go(K){return f.go(K)}};return X}function Fb(r,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),lt(n,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:jl(r);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function iT(r,e,n="/"){return Gb(r,e,n,!1)}function Gb(r,e,n,s){let o=typeof e=="string"?uo(e):e,u=nr(o.pathname||"/",n);if(u==null)return null;let f=rT(r);Kb(f);let m=null;for(let g=0;m==null&&g<f.length;++g){let y=i1(u);m=t1(f[g],y,s)}return m}function rT(r,e=[],n=[],s="",o=!1){let u=(f,m,g=o,y)=>{let E={relativePath:y===void 0?f.path||"":y,caseSensitive:f.caseSensitive===!0,childrenIndex:m,route:f};if(E.relativePath.startsWith("/")){if(!E.relativePath.startsWith(s)&&g)return;lt(E.relativePath.startsWith(s),`Absolute route path "${E.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),E.relativePath=E.relativePath.slice(s.length)}let S=er([s,E.relativePath]),w=n.concat(E);f.children&&f.children.length>0&&(lt(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${S}".`),rT(f.children,e,w,S,g)),!(f.path==null&&!f.index)&&e.push({path:S,score:Zb(S,f.index),routesMeta:w})};return r.forEach((f,m)=>{if(f.path===""||!f.path?.includes("?"))u(f,m);else for(let g of sT(f.path))u(f,m,!0,g)}),e}function sT(r){let e=r.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=sT(s.join("/")),m=[];return m.push(...f.map(g=>g===""?u:[u,g].join("/"))),o&&m.push(...f),m.map(g=>r.startsWith("/")&&g===""?"/":g)}function Kb(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:e1(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var Yb=/^:[\w-]+$/,Qb=3,Xb=2,$b=1,Jb=10,Wb=-2,Ev=r=>r==="*";function Zb(r,e){let n=r.split("/"),s=n.length;return n.some(Ev)&&(s+=Wb),e&&(s+=Xb),n.filter(o=>!Ev(o)).reduce((o,u)=>o+(Yb.test(u)?Qb:u===""?$b:Jb),s)}function e1(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function t1(r,e,n=!1){let{routesMeta:s}=r,o={},u="/",f=[];for(let m=0;m<s.length;++m){let g=s[m],y=m===s.length-1,E=u==="/"?e:e.slice(u.length)||"/",S=ch({path:g.relativePath,caseSensitive:g.caseSensitive,end:y},E),w=g.route;if(!S&&y&&n&&!s[s.length-1].route.index&&(S=ch({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},E)),!S)return null;Object.assign(o,S.params),f.push({params:o,pathname:er([u,S.pathname]),pathnameBase:o1(er([u,S.pathnameBase])),route:w}),S.pathnameBase!=="/"&&(u=er([u,S.pathnameBase]))}return f}function ch(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=n1(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((y,{paramName:E,isOptional:S},w)=>{if(E==="*"){let J=m[w]||"";f=u.slice(0,u.length-J.length).replace(/(.)\/+$/,"$1")}const U=m[w];return S&&!U?y[E]=void 0:y[E]=(U||"").replace(/%2F/g,"/"),y},{}),pathname:u,pathnameBase:f,pattern:r}}function n1(r,e=!1,n=!0){Zn(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,g)=>(s.push({paramName:m,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function i1(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Zn(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function nr(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}var r1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function s1(r,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?uo(r):r,u;return n?(n=n.replace(/\/\/+/g,"/"),n.startsWith("/")?u=Tv(n.substring(1),"/"):u=Tv(n,e)):u=e,{pathname:u,search:l1(s),hash:u1(o)}}function Tv(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function im(r,e,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function a1(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Ym(r){let e=a1(r);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function Qm(r,e,n,s=!1){let o;typeof r=="string"?o=uo(r):(o={...r},lt(!o.pathname||!o.pathname.includes("?"),im("?","pathname","search",o)),lt(!o.pathname||!o.pathname.includes("#"),im("#","pathname","hash",o)),lt(!o.search||!o.search.includes("#"),im("#","search","hash",o)));let u=r===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let S=e.length-1;if(!s&&f.startsWith("..")){let w=f.split("/");for(;w[0]==="..";)w.shift(),S-=1;o.pathname=w.join("/")}m=S>=0?e[S]:"/"}let g=s1(o,m),y=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&n.endsWith("/");return!g.pathname.endsWith("/")&&(y||E)&&(g.pathname+="/"),g}var er=r=>r.join("/").replace(/\/\/+/g,"/"),o1=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),l1=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,u1=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r,c1=class{constructor(r,e,n,s=!1){this.status=r,this.statusText=e||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function h1(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}function f1(r){return r.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var aT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function oT(r,e){let n=r;if(typeof n!="string"||!r1.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let s=n,o=!1;if(aT)try{let u=new URL(window.location.href),f=n.startsWith("//")?new URL(u.protocol+n):new URL(n),m=nr(f.pathname,e);f.origin===u.origin&&m!=null?n=m+f.search+f.hash:o=!0}catch{Zn(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:o,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var lT=["POST","PUT","PATCH","DELETE"];new Set(lT);var d1=["GET",...lT];new Set(d1);var co=q.createContext(null);co.displayName="DataRouter";var Nh=q.createContext(null);Nh.displayName="DataRouterState";var m1=q.createContext(!1),uT=q.createContext({isTransitioning:!1});uT.displayName="ViewTransition";var p1=q.createContext(new Map);p1.displayName="Fetchers";var g1=q.createContext(null);g1.displayName="Await";var Tn=q.createContext(null);Tn.displayName="Navigation";var Zl=q.createContext(null);Zl.displayName="Location";var Vi=q.createContext({outlet:null,matches:[],isDataRoute:!1});Vi.displayName="Route";var Xm=q.createContext(null);Xm.displayName="RouteError";var cT="REACT_ROUTER_ERROR",y1="REDIRECT",_1="ROUTE_ERROR_RESPONSE";function v1(r){if(r.startsWith(`${cT}:${y1}:{`))try{let e=JSON.parse(r.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function E1(r){if(r.startsWith(`${cT}:${_1}:{`))try{let e=JSON.parse(r.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new c1(e.status,e.statusText,e.data)}catch{}}function T1(r,{relative:e}={}){lt(ho(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=q.useContext(Tn),{hash:o,pathname:u,search:f}=tu(r,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:er([n,u])),s.createHref({pathname:m,search:f,hash:o})}function ho(){return q.useContext(Zl)!=null}function rs(){return lt(ho(),"useLocation() may be used only in the context of a <Router> component."),q.useContext(Zl).location}var hT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function fT(r){q.useContext(Tn).static||q.useLayoutEffect(r)}function eu(){let{isDataRoute:r}=q.useContext(Vi);return r?x1():S1()}function S1(){lt(ho(),"useNavigate() may be used only in the context of a <Router> component.");let r=q.useContext(co),{basename:e,navigator:n}=q.useContext(Tn),{matches:s}=q.useContext(Vi),{pathname:o}=rs(),u=JSON.stringify(Ym(s)),f=q.useRef(!1);return fT(()=>{f.current=!0}),q.useCallback((g,y={})=>{if(Zn(f.current,hT),!f.current)return;if(typeof g=="number"){n.go(g);return}let E=Qm(g,JSON.parse(u),o,y.relative==="path");r==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:er([e,E.pathname])),(y.replace?n.replace:n.push)(E,y.state,y)},[e,n,u,o,r])}q.createContext(null);function tu(r,{relative:e}={}){let{matches:n}=q.useContext(Vi),{pathname:s}=rs(),o=JSON.stringify(Ym(n));return q.useMemo(()=>Qm(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function A1(r,e){return dT(r,e)}function dT(r,e,n,s,o){lt(ho(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=q.useContext(Tn),{matches:f}=q.useContext(Vi),m=f[f.length-1],g=m?m.params:{},y=m?m.pathname:"/",E=m?m.pathnameBase:"/",S=m&&m.route;{let ee=S&&S.path||"";pT(y,!S||ee.endsWith("*")||ee.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${ee}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${ee}"> to <Route path="${ee==="/"?"*":`${ee}/*`}">.`)}let w=rs(),U;if(e){let ee=typeof e=="string"?uo(e):e;lt(E==="/"||ee.pathname?.startsWith(E),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${ee.pathname}" was given in the \`location\` prop.`),U=ee}else U=w;let J=U.pathname||"/",X=J;if(E!=="/"){let ee=E.replace(/^\//,"").split("/");X="/"+J.replace(/^\//,"").split("/").slice(ee.length).join("/")}let K=iT(r,{pathname:X});Zn(S||K!=null,`No routes matched location "${U.pathname}${U.search}${U.hash}" `),Zn(K==null||K[K.length-1].route.element!==void 0||K[K.length-1].route.Component!==void 0||K[K.length-1].route.lazy!==void 0,`Matched leaf route at location "${U.pathname}${U.search}${U.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let ne=I1(K&&K.map(ee=>Object.assign({},ee,{params:Object.assign({},g,ee.params),pathname:er([E,u.encodeLocation?u.encodeLocation(ee.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:ee.pathname]),pathnameBase:ee.pathnameBase==="/"?E:er([E,u.encodeLocation?u.encodeLocation(ee.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:ee.pathnameBase])})),f,n,s,o);return e&&ne?q.createElement(Zl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...U},navigationType:"POP"}},ne):ne}function b1(){let r=M1(),e=h1(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=q.createElement(q.Fragment,null,q.createElement("p",null," Hey developer "),q.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",q.createElement("code",{style:u},"ErrorBoundary")," or"," ",q.createElement("code",{style:u},"errorElement")," prop on your route.")),q.createElement(q.Fragment,null,q.createElement("h2",null,"Unexpected Application Error!"),q.createElement("h3",{style:{fontStyle:"italic"}},e),n?q.createElement("pre",{style:o},n):null,f)}var w1=q.createElement(b1,null),mT=class extends q.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.onError?this.props.onError(r,e):console.error("React Router caught the following error during render",r)}render(){let r=this.state.error;if(this.context&&typeof r=="object"&&r&&"digest"in r&&typeof r.digest=="string"){const n=E1(r.digest);n&&(r=n)}let e=r!==void 0?q.createElement(Vi.Provider,{value:this.props.routeContext},q.createElement(Xm.Provider,{value:r,children:this.props.component})):this.props.children;return this.context?q.createElement(R1,{error:r},e):e}};mT.contextType=m1;var rm=new WeakMap;function R1({children:r,error:e}){let{basename:n}=q.useContext(Tn);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let s=v1(e.digest);if(s){let o=rm.get(e);if(o)throw o;let u=oT(s.location,n);if(aT&&!rm.get(e))if(u.isExternal||s.reloadDocument)window.location.href=u.absoluteURL||u.to;else{const f=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(u.to,{replace:s.replace}));throw rm.set(e,f),f}return q.createElement("meta",{httpEquiv:"refresh",content:`0;url=${u.absoluteURL||u.to}`})}}return r}function C1({routeContext:r,match:e,children:n}){let s=q.useContext(co);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),q.createElement(Vi.Provider,{value:r},n)}function I1(r,e=[],n=null,s=null,o=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let u=r,f=n?.errors;if(f!=null){let E=u.findIndex(S=>S.route.id&&f?.[S.route.id]!==void 0);lt(E>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),u=u.slice(0,Math.min(u.length,E+1))}let m=!1,g=-1;if(n)for(let E=0;E<u.length;E++){let S=u[E];if((S.route.HydrateFallback||S.route.hydrateFallbackElement)&&(g=E),S.route.id){let{loaderData:w,errors:U}=n,J=S.route.loader&&!w.hasOwnProperty(S.route.id)&&(!U||U[S.route.id]===void 0);if(S.route.lazy||J){m=!0,g>=0?u=u.slice(0,g+1):u=[u[0]];break}}}let y=n&&s?(E,S)=>{s(E,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:f1(n.matches),errorInfo:S})}:void 0;return u.reduceRight((E,S,w)=>{let U,J=!1,X=null,K=null;n&&(U=f&&S.route.id?f[S.route.id]:void 0,X=S.route.errorElement||w1,m&&(g<0&&w===0?(pT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),J=!0,K=null):g===w&&(J=!0,K=S.route.hydrateFallbackElement||null)));let ne=e.concat(u.slice(0,w+1)),ee=()=>{let re;return U?re=X:J?re=K:S.route.Component?re=q.createElement(S.route.Component,null):S.route.element?re=S.route.element:re=E,q.createElement(C1,{match:S,routeContext:{outlet:E,matches:ne,isDataRoute:n!=null},children:re})};return n&&(S.route.ErrorBoundary||S.route.errorElement||w===0)?q.createElement(mT,{location:n.location,revalidation:n.revalidation,component:X,error:U,children:ee(),routeContext:{outlet:null,matches:ne,isDataRoute:!0},onError:y}):ee()},null)}function $m(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function D1(r){let e=q.useContext(co);return lt(e,$m(r)),e}function N1(r){let e=q.useContext(Nh);return lt(e,$m(r)),e}function O1(r){let e=q.useContext(Vi);return lt(e,$m(r)),e}function Jm(r){let e=O1(r),n=e.matches[e.matches.length-1];return lt(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function V1(){return Jm("useRouteId")}function M1(){let r=q.useContext(Xm),e=N1("useRouteError"),n=Jm("useRouteError");return r!==void 0?r:e.errors?.[n]}function x1(){let{router:r}=D1("useNavigate"),e=Jm("useNavigate"),n=q.useRef(!1);return fT(()=>{n.current=!0}),q.useCallback(async(o,u={})=>{Zn(n.current,hT),n.current&&(typeof o=="number"?await r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var Sv={};function pT(r,e,n){!e&&!Sv[r]&&(Sv[r]=!0,Zn(!1,n))}q.memo(L1);function L1({routes:r,future:e,state:n,onError:s}){return dT(r,void 0,n,s,e)}function P1({to:r,replace:e,state:n,relative:s}){lt(ho(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=q.useContext(Tn);Zn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=q.useContext(Vi),{pathname:f}=rs(),m=eu(),g=Qm(r,Ym(u),f,s==="path"),y=JSON.stringify(g);return q.useEffect(()=>{m(JSON.parse(y),{replace:e,state:n,relative:s})},[m,y,s,e,n]),null}function Jc(r){lt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function U1({basename:r="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1,unstable_useTransitions:f}){lt(!ho(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=r.replace(/^\/*/,"/"),g=q.useMemo(()=>({basename:m,navigator:o,static:u,unstable_useTransitions:f,future:{}}),[m,o,u,f]);typeof n=="string"&&(n=uo(n));let{pathname:y="/",search:E="",hash:S="",state:w=null,key:U="default"}=n,J=q.useMemo(()=>{let X=nr(y,m);return X==null?null:{location:{pathname:X,search:E,hash:S,state:w,key:U},navigationType:s}},[m,y,E,S,w,U,s]);return Zn(J!=null,`<Router basename="${m}"> is not able to match the URL "${y}${E}${S}" because it does not start with the basename, so the <Router> won't render anything.`),J==null?null:q.createElement(Tn.Provider,{value:g},q.createElement(Zl.Provider,{children:e,value:J}))}function k1({children:r,location:e}){return A1(vm(r),e)}function vm(r,e=[]){let n=[];return q.Children.forEach(r,(s,o)=>{if(!q.isValidElement(s))return;let u=[...e,o];if(s.type===q.Fragment){n.push.apply(n,vm(s.props.children,u));return}lt(s.type===Jc,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),lt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=vm(s.props.children,u)),n.push(f)}),n}var Wc="get",Zc="application/x-www-form-urlencoded";function Oh(r){return typeof HTMLElement<"u"&&r instanceof HTMLElement}function z1(r){return Oh(r)&&r.tagName.toLowerCase()==="button"}function B1(r){return Oh(r)&&r.tagName.toLowerCase()==="form"}function j1(r){return Oh(r)&&r.tagName.toLowerCase()==="input"}function q1(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function H1(r,e){return r.button===0&&(!e||e==="_self")&&!q1(r)}var Hc=null;function F1(){if(Hc===null)try{new FormData(document.createElement("form"),0),Hc=!1}catch{Hc=!0}return Hc}var G1=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function sm(r){return r!=null&&!G1.has(r)?(Zn(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Zc}"`),null):r}function K1(r,e){let n,s,o,u,f;if(B1(r)){let m=r.getAttribute("action");s=m?nr(m,e):null,n=r.getAttribute("method")||Wc,o=sm(r.getAttribute("enctype"))||Zc,u=new FormData(r)}else if(z1(r)||j1(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=r.getAttribute("formaction")||m.getAttribute("action");if(s=g?nr(g,e):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||Wc,o=sm(r.getAttribute("formenctype"))||sm(m.getAttribute("enctype"))||Zc,u=new FormData(m,r),!F1()){let{name:y,type:E,value:S}=r;if(E==="image"){let w=y?`${y}.`:"";u.append(`${w}x`,"0"),u.append(`${w}y`,"0")}else y&&u.append(y,S)}}else{if(Oh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Wc,s=null,o=Zc,f=r}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Wm(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Y1(r,e,n,s){let o=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return n?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${s}`:o.pathname=`${o.pathname}.${s}`:o.pathname==="/"?o.pathname=`_root.${s}`:e&&nr(o.pathname,e)==="/"?o.pathname=`${e.replace(/\/$/,"")}/_root.${s}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${s}`,o}async function Q1(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function X1(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function $1(r,e,n){let s=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await Q1(u,n);return f.links?f.links():[]}return[]}));return ew(s.flat(1).filter(X1).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Av(r,e,n,s,o,u){let f=(g,y)=>n[y]?g.route.id!==n[y].route.id:!0,m=(g,y)=>n[y].pathname!==g.pathname||n[y].route.path?.endsWith("*")&&n[y].params["*"]!==g.params["*"];return u==="assets"?e.filter((g,y)=>f(g,y)||m(g,y)):u==="data"?e.filter((g,y)=>{let E=s.routes[g.route.id];if(!E||!E.hasLoader)return!1;if(f(g,y)||m(g,y))return!0;if(g.route.shouldRevalidate){let S=g.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof S=="boolean")return S}return!0}):[]}function J1(r,e,{includeHydrateFallback:n}={}){return W1(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function W1(r){return[...new Set(r)]}function Z1(r){let e={},n=Object.keys(r).sort();for(let s of n)e[s]=r[s];return e}function ew(r,e){let n=new Set;return new Set(e),r.reduce((s,o)=>{let u=JSON.stringify(Z1(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function gT(){let r=q.useContext(co);return Wm(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function tw(){let r=q.useContext(Nh);return Wm(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Zm=q.createContext(void 0);Zm.displayName="FrameworkContext";function yT(){let r=q.useContext(Zm);return Wm(r,"You must render this element inside a <HydratedRouter> element"),r}function nw(r,e){let n=q.useContext(Zm),[s,o]=q.useState(!1),[u,f]=q.useState(!1),{onFocus:m,onBlur:g,onMouseEnter:y,onMouseLeave:E,onTouchStart:S}=e,w=q.useRef(null);q.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let X=ne=>{ne.forEach(ee=>{f(ee.isIntersecting)})},K=new IntersectionObserver(X,{threshold:.5});return w.current&&K.observe(w.current),()=>{K.disconnect()}}},[r]),q.useEffect(()=>{if(s){let X=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(X)}}},[s]);let U=()=>{o(!0)},J=()=>{o(!1),f(!1)};return n?r!=="intent"?[u,w,{}]:[u,w,{onFocus:Cl(m,U),onBlur:Cl(g,J),onMouseEnter:Cl(y,U),onMouseLeave:Cl(E,J),onTouchStart:Cl(S,U)}]:[!1,w,{}]}function Cl(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function iw({page:r,...e}){let{router:n}=gT(),s=q.useMemo(()=>iT(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?q.createElement(sw,{page:r,matches:s,...e}):null}function rw(r){let{manifest:e,routeModules:n}=yT(),[s,o]=q.useState([]);return q.useEffect(()=>{let u=!1;return $1(r,e,n).then(f=>{u||o(f)}),()=>{u=!0}},[r,e,n]),s}function sw({page:r,matches:e,...n}){let s=rs(),{future:o,manifest:u,routeModules:f}=yT(),{basename:m}=gT(),{loaderData:g,matches:y}=tw(),E=q.useMemo(()=>Av(r,e,y,u,s,"data"),[r,e,y,u,s]),S=q.useMemo(()=>Av(r,e,y,u,s,"assets"),[r,e,y,u,s]),w=q.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let X=new Set,K=!1;if(e.forEach(ee=>{let re=u.routes[ee.route.id];!re||!re.hasLoader||(!E.some(Ce=>Ce.route.id===ee.route.id)&&ee.route.id in g&&f[ee.route.id]?.shouldRevalidate||re.hasClientLoader?K=!0:X.add(ee.route.id))}),X.size===0)return[];let ne=Y1(r,m,o.unstable_trailingSlashAwareDataRequests,"data");return K&&X.size>0&&ne.searchParams.set("_routes",e.filter(ee=>X.has(ee.route.id)).map(ee=>ee.route.id).join(",")),[ne.pathname+ne.search]},[m,o.unstable_trailingSlashAwareDataRequests,g,s,u,E,e,r,f]),U=q.useMemo(()=>J1(S,u),[S,u]),J=rw(S);return q.createElement(q.Fragment,null,w.map(X=>q.createElement("link",{key:X,rel:"prefetch",as:"fetch",href:X,...n})),U.map(X=>q.createElement("link",{key:X,rel:"modulepreload",href:X,...n})),J.map(({key:X,link:K})=>q.createElement("link",{key:X,nonce:n.nonce,...K,crossOrigin:K.crossOrigin??n.crossOrigin})))}function aw(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var ow=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{ow&&(window.__reactRouterVersion="7.13.0")}catch{}function lw({basename:r,children:e,unstable_useTransitions:n,window:s}){let o=q.useRef();o.current==null&&(o.current=jb({window:s,v5Compat:!0}));let u=o.current,[f,m]=q.useState({action:u.action,location:u.location}),g=q.useCallback(y=>{n===!1?m(y):q.startTransition(()=>m(y))},[n]);return q.useLayoutEffect(()=>u.listen(g),[u,g]),q.createElement(U1,{basename:r,children:e,location:f.location,navigationType:f.action,navigator:u,unstable_useTransitions:n})}var _T=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Vh=q.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:m,target:g,to:y,preventScrollReset:E,viewTransition:S,unstable_defaultShouldRevalidate:w,...U},J){let{basename:X,unstable_useTransitions:K}=q.useContext(Tn),ne=typeof y=="string"&&_T.test(y),ee=oT(y,X);y=ee.to;let re=T1(y,{relative:o}),[Ce,Ie,Re]=nw(s,U),D=fw(y,{replace:f,state:m,target:g,preventScrollReset:E,relative:o,viewTransition:S,unstable_defaultShouldRevalidate:w,unstable_useTransitions:K});function b(M){e&&e(M),M.defaultPrevented||D(M)}let R=q.createElement("a",{...U,...Re,href:ee.absoluteURL||re,onClick:ee.isExternal||u?e:b,ref:aw(J,Ie),target:g,"data-discover":!ne&&n==="render"?"true":void 0});return Ce&&!ne?q.createElement(q.Fragment,null,R,q.createElement(iw,{page:re})):R});Vh.displayName="Link";var uw=q.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:m,children:g,...y},E){let S=tu(f,{relative:y.relative}),w=rs(),U=q.useContext(Nh),{navigator:J,basename:X}=q.useContext(Tn),K=U!=null&&yw(S)&&m===!0,ne=J.encodeLocation?J.encodeLocation(S).pathname:S.pathname,ee=w.pathname,re=U&&U.navigation&&U.navigation.location?U.navigation.location.pathname:null;n||(ee=ee.toLowerCase(),re=re?re.toLowerCase():null,ne=ne.toLowerCase()),re&&X&&(re=nr(re,X)||re);const Ce=ne!=="/"&&ne.endsWith("/")?ne.length-1:ne.length;let Ie=ee===ne||!o&&ee.startsWith(ne)&&ee.charAt(Ce)==="/",Re=re!=null&&(re===ne||!o&&re.startsWith(ne)&&re.charAt(ne.length)==="/"),D={isActive:Ie,isPending:Re,isTransitioning:K},b=Ie?e:void 0,R;typeof s=="function"?R=s(D):R=[s,Ie?"active":null,Re?"pending":null,K?"transitioning":null].filter(Boolean).join(" ");let M=typeof u=="function"?u(D):u;return q.createElement(Vh,{...y,"aria-current":b,className:R,ref:E,style:M,to:f,viewTransition:m},typeof g=="function"?g(D):g)});uw.displayName="NavLink";var cw=q.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:f=Wc,action:m,onSubmit:g,relative:y,preventScrollReset:E,viewTransition:S,unstable_defaultShouldRevalidate:w,...U},J)=>{let{unstable_useTransitions:X}=q.useContext(Tn),K=pw(),ne=gw(m,{relative:y}),ee=f.toLowerCase()==="get"?"get":"post",re=typeof m=="string"&&_T.test(m),Ce=Ie=>{if(g&&g(Ie),Ie.defaultPrevented)return;Ie.preventDefault();let Re=Ie.nativeEvent.submitter,D=Re?.getAttribute("formmethod")||f,b=()=>K(Re||Ie.currentTarget,{fetcherKey:e,method:D,navigate:n,replace:o,state:u,relative:y,preventScrollReset:E,viewTransition:S,unstable_defaultShouldRevalidate:w});X&&n!==!1?q.startTransition(()=>b()):b()};return q.createElement("form",{ref:J,method:ee,action:ne,onSubmit:s?g:Ce,...U,"data-discover":!re&&r==="render"?"true":void 0})});cw.displayName="Form";function hw(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function vT(r){let e=q.useContext(co);return lt(e,hw(r)),e}function fw(r,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:f,unstable_defaultShouldRevalidate:m,unstable_useTransitions:g}={}){let y=eu(),E=rs(),S=tu(r,{relative:u});return q.useCallback(w=>{if(H1(w,e)){w.preventDefault();let U=n!==void 0?n:jl(E)===jl(S),J=()=>y(r,{replace:U,state:s,preventScrollReset:o,relative:u,viewTransition:f,unstable_defaultShouldRevalidate:m});g?q.startTransition(()=>J()):J()}},[E,y,S,n,s,e,r,o,u,f,m,g])}var dw=0,mw=()=>`__${String(++dw)}__`;function pw(){let{router:r}=vT("useSubmit"),{basename:e}=q.useContext(Tn),n=V1(),s=r.fetch,o=r.navigate;return q.useCallback(async(u,f={})=>{let{action:m,method:g,encType:y,formData:E,body:S}=K1(u,e);if(f.navigate===!1){let w=f.fetcherKey||mw();await s(w,n,f.action||m,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:E,body:S,formMethod:f.method||g,formEncType:f.encType||y,flushSync:f.flushSync})}else await o(f.action||m,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:E,body:S,formMethod:f.method||g,formEncType:f.encType||y,replace:f.replace,state:f.state,fromRouteId:n,flushSync:f.flushSync,viewTransition:f.viewTransition})},[s,o,e,n])}function gw(r,{relative:e}={}){let{basename:n}=q.useContext(Tn),s=q.useContext(Vi);lt(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...tu(r||".",{relative:e})},f=rs();if(r==null){u.search=f.search;let m=new URLSearchParams(u.search),g=m.getAll("index");if(g.some(E=>E==="")){m.delete("index"),g.filter(S=>S).forEach(S=>m.append("index",S));let E=m.toString();u.search=E?`?${E}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:er([n,u.pathname])),jl(u)}function yw(r,{relative:e}={}){let n=q.useContext(uT);lt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=vT("useViewTransitionState"),o=tu(r,{relative:e});if(!n.isTransitioning)return!1;let u=nr(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=nr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return ch(o.pathname,f)!=null||ch(o.pathname,u)!=null}const _w=()=>{};var bv={};const ET=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},vw=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],m=r[n++],g=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(g>>10)),e[s++]=String.fromCharCode(56320+(g&1023))}else{const u=r[n++],f=r[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},TT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,m=f?r[o+1]:0,g=o+2<r.length,y=g?r[o+2]:0,E=u>>2,S=(u&3)<<4|m>>4;let w=(m&15)<<2|y>>6,U=y&63;g||(U=64,f||(w=64)),s.push(n[E],n[S],n[w],n[U])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(ET(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):vw(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const y=o<r.length?n[r.charAt(o)]:64;++o;const S=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||y==null||S==null)throw new Ew;const w=u<<2|m>>4;if(s.push(w),y!==64){const U=m<<4&240|y>>2;if(s.push(U),S!==64){const J=y<<6&192|S;s.push(J)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class Ew extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Tw=function(r){const e=ET(r);return TT.encodeByteArray(e,!0)},hh=function(r){return Tw(r).replace(/\./g,"")},ST=function(r){try{return TT.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Sw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Aw=()=>Sw().__FIREBASE_DEFAULTS__,bw=()=>{if(typeof process>"u"||typeof bv>"u")return;const r=bv.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},ww=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&ST(r[1]);return e&&JSON.parse(e)},Mh=()=>{try{return _w()||Aw()||bw()||ww()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},AT=r=>Mh()?.emulatorHosts?.[r],Rw=r=>{const e=AT(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},bT=()=>Mh()?.config,wT=r=>Mh()?.[`_${r}`];class Cw{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}function fo(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function RT(r){return(await fetch(r,{credentials:"include"})).ok}function Iw(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[hh(JSON.stringify(n)),hh(JSON.stringify(f)),""].join(".")}const Ll={};function Dw(){const r={prod:[],emulator:[]};for(const e of Object.keys(Ll))Ll[e]?r.emulator.push(e):r.prod.push(e);return r}function Nw(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let wv=!1;function CT(r,e){if(typeof window>"u"||typeof document>"u"||!fo(window.location.host)||Ll[r]===e||Ll[r]||wv)return;Ll[r]=e;function n(w){return`__firebase__banner__${w}`}const s="__firebase__banner",u=Dw().prod.length>0;function f(){const w=document.getElementById(s);w&&w.remove()}function m(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function g(w,U){w.setAttribute("width","24"),w.setAttribute("id",U),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function y(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{wv=!0,f()},w}function E(w,U){w.setAttribute("id",U),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function S(){const w=Nw(s),U=n("text"),J=document.getElementById(U)||document.createElement("span"),X=n("learnmore"),K=document.getElementById(X)||document.createElement("a"),ne=n("preprendIcon"),ee=document.getElementById(ne)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const re=w.element;m(re),E(K,X);const Ce=y();g(ee,ne),re.append(ee,J,K,Ce),document.body.appendChild(re)}u?(J.innerText="Preview backend disconnected.",ee.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ee.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,J.innerText="Preview backend running in this workspace."),J.setAttribute("id",U)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}function Wt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Ow(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Wt())}function Vw(){const r=Mh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Mw(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function xw(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function Lw(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Pw(){const r=Wt();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function Uw(){return!Vw()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function kw(){try{return typeof indexedDB=="object"}catch{return!1}}function zw(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}const Bw="FirebaseError";class or extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=Bw,Object.setPrototypeOf(this,or.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,nu.prototype.create)}}class nu{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?jw(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new or(o,m,s)}}function jw(r,e){return r.replace(qw,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const qw=/\{\$([^}]+)}/g;function Hw(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function qs(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=r[o],f=e[o];if(Rv(u)&&Rv(f)){if(!qs(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function Rv(r){return r!==null&&typeof r=="object"}function iu(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Dl(r){const e={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function Nl(r){const e=r.indexOf("?");if(!e)return"";const n=r.indexOf("#",e);return r.substring(e,n>0?n:void 0)}function Fw(r,e){const n=new Gw(r,e);return n.subscribe.bind(n)}class Gw{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");Kw(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=am),o.error===void 0&&(o.error=am),o.complete===void 0&&(o.complete=am);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Kw(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function am(){}function Zt(r){return r&&r._delegate?r._delegate:r}class Hs{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ks="[DEFAULT]";class Yw{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new Cw;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Xw(e))try{this.getOrInitializeService({instanceIdentifier:ks})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=ks){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ks){return this.instances.has(e)}getOptions(e=ks){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:Qw(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=ks){return this.component?this.component.multipleInstances?e:ks:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Qw(r){return r===ks?void 0:r}function Xw(r){return r.instantiationMode==="EAGER"}class $w{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Yw(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Me;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Me||(Me={}));const Jw={debug:Me.DEBUG,verbose:Me.VERBOSE,info:Me.INFO,warn:Me.WARN,error:Me.ERROR,silent:Me.SILENT},Ww=Me.INFO,Zw={[Me.DEBUG]:"log",[Me.VERBOSE]:"log",[Me.INFO]:"info",[Me.WARN]:"warn",[Me.ERROR]:"error"},eR=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=Zw[e];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class ep{constructor(e){this.name=e,this._logLevel=Ww,this._logHandler=eR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Jw[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Me.DEBUG,...e),this._logHandler(this,Me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Me.VERBOSE,...e),this._logHandler(this,Me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Me.INFO,...e),this._logHandler(this,Me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Me.WARN,...e),this._logHandler(this,Me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Me.ERROR,...e),this._logHandler(this,Me.ERROR,...e)}}const tR=(r,e)=>e.some(n=>r instanceof n);let Cv,Iv;function nR(){return Cv||(Cv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function iR(){return Iv||(Iv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const IT=new WeakMap,Em=new WeakMap,DT=new WeakMap,om=new WeakMap,tp=new WeakMap;function rR(r){const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(Yr(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&IT.set(n,r)}).catch(()=>{}),tp.set(e,r),e}function sR(r){if(Em.has(r))return;const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});Em.set(r,e)}let Tm={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return Em.get(r);if(e==="objectStoreNames")return r.objectStoreNames||DT.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Yr(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function aR(r){Tm=r(Tm)}function oR(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(lm(this),e,...n);return DT.set(s,e.sort?e.sort():[e]),Yr(s)}:iR().includes(r)?function(...e){return r.apply(lm(this),e),Yr(IT.get(this))}:function(...e){return Yr(r.apply(lm(this),e))}}function lR(r){return typeof r=="function"?oR(r):(r instanceof IDBTransaction&&sR(r),tR(r,nR())?new Proxy(r,Tm):r)}function Yr(r){if(r instanceof IDBRequest)return rR(r);if(om.has(r))return om.get(r);const e=lR(r);return e!==r&&(om.set(r,e),tp.set(e,r)),e}const lm=r=>tp.get(r);function uR(r,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(r,e),m=Yr(f);return s&&f.addEventListener("upgradeneeded",g=>{s(Yr(f.result),g.oldVersion,g.newVersion,Yr(f.transaction),g)}),n&&f.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),m.then(g=>{u&&g.addEventListener("close",()=>u()),o&&g.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),m}const cR=["get","getKey","getAll","getAllKeys","count"],hR=["put","add","delete","clear"],um=new Map;function Dv(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(um.get(e))return um.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=hR.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||cR.includes(n)))return;const u=async function(f,...m){const g=this.transaction(f,o?"readwrite":"readonly");let y=g.store;return s&&(y=y.index(m.shift())),(await Promise.all([y[n](...m),o&&g.done]))[0]};return um.set(e,u),u}aR(r=>({...r,get:(e,n,s)=>Dv(e,n)||r.get(e,n,s),has:(e,n)=>!!Dv(e,n)||r.has(e,n)}));class fR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(dR(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function dR(r){return r.getComponent()?.type==="VERSION"}const Sm="@firebase/app",Nv="0.14.7";const ir=new ep("@firebase/app"),mR="@firebase/app-compat",pR="@firebase/analytics-compat",gR="@firebase/analytics",yR="@firebase/app-check-compat",_R="@firebase/app-check",vR="@firebase/auth",ER="@firebase/auth-compat",TR="@firebase/database",SR="@firebase/data-connect",AR="@firebase/database-compat",bR="@firebase/functions",wR="@firebase/functions-compat",RR="@firebase/installations",CR="@firebase/installations-compat",IR="@firebase/messaging",DR="@firebase/messaging-compat",NR="@firebase/performance",OR="@firebase/performance-compat",VR="@firebase/remote-config",MR="@firebase/remote-config-compat",xR="@firebase/storage",LR="@firebase/storage-compat",PR="@firebase/firestore",UR="@firebase/ai",kR="@firebase/firestore-compat",zR="firebase",BR="12.8.0";const Am="[DEFAULT]",jR={[Sm]:"fire-core",[mR]:"fire-core-compat",[gR]:"fire-analytics",[pR]:"fire-analytics-compat",[_R]:"fire-app-check",[yR]:"fire-app-check-compat",[vR]:"fire-auth",[ER]:"fire-auth-compat",[TR]:"fire-rtdb",[SR]:"fire-data-connect",[AR]:"fire-rtdb-compat",[bR]:"fire-fn",[wR]:"fire-fn-compat",[RR]:"fire-iid",[CR]:"fire-iid-compat",[IR]:"fire-fcm",[DR]:"fire-fcm-compat",[NR]:"fire-perf",[OR]:"fire-perf-compat",[VR]:"fire-rc",[MR]:"fire-rc-compat",[xR]:"fire-gcs",[LR]:"fire-gcs-compat",[PR]:"fire-fst",[kR]:"fire-fst-compat",[UR]:"fire-vertex","fire-js":"fire-js",[zR]:"fire-js-all"};const fh=new Map,qR=new Map,bm=new Map;function Ov(r,e){try{r.container.addComponent(e)}catch(n){ir.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function no(r){const e=r.name;if(bm.has(e))return ir.debug(`There were multiple attempts to register component ${e}.`),!1;bm.set(e,r);for(const n of fh.values())Ov(n,r);for(const n of qR.values())Ov(n,r);return!0}function np(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function Ln(r){return r==null?!1:r.settings!==void 0}const HR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Qr=new nu("app","Firebase",HR);class FR{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Hs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Qr.create("app-deleted",{appName:this._name})}}const mo=BR;function NT(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s={name:Am,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw Qr.create("bad-app-name",{appName:String(o)});if(n||(n=bT()),!n)throw Qr.create("no-options");const u=fh.get(o);if(u){if(qs(n,u.options)&&qs(s,u.config))return u;throw Qr.create("duplicate-app",{appName:o})}const f=new $w(o);for(const g of bm.values())f.addComponent(g);const m=new FR(n,s,f);return fh.set(o,m),m}function OT(r=Am){const e=fh.get(r);if(!e&&r===Am&&bT())return NT();if(!e)throw Qr.create("no-app",{appName:r});return e}function Xr(r,e,n){let s=jR[r]??r;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const f=[`Unable to register library "${s}" with version "${e}":`];o&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ir.warn(f.join(" "));return}no(new Hs(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const GR="firebase-heartbeat-database",KR=1,ql="firebase-heartbeat-store";let cm=null;function VT(){return cm||(cm=uR(GR,KR,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(ql)}catch(n){console.warn(n)}}}}).catch(r=>{throw Qr.create("idb-open",{originalErrorMessage:r.message})})),cm}async function YR(r){try{const n=(await VT()).transaction(ql),s=await n.objectStore(ql).get(MT(r));return await n.done,s}catch(e){if(e instanceof or)ir.warn(e.message);else{const n=Qr.create("idb-get",{originalErrorMessage:e?.message});ir.warn(n.message)}}}async function Vv(r,e){try{const s=(await VT()).transaction(ql,"readwrite");await s.objectStore(ql).put(e,MT(r)),await s.done}catch(n){if(n instanceof or)ir.warn(n.message);else{const s=Qr.create("idb-set",{originalErrorMessage:n?.message});ir.warn(s.message)}}}function MT(r){return`${r.name}!${r.options.appId}`}const QR=1024,XR=30;class $R{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new WR(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Mv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>XR){const o=ZR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){ir.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Mv(),{heartbeatsToSend:n,unsentEntries:s}=JR(this._heartbeatsCache.heartbeats),o=hh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return ir.warn(e),""}}}function Mv(){return new Date().toISOString().substring(0,10)}function JR(r,e=QR){const n=[];let s=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),xv(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),xv(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class WR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return kw()?zw().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await YR(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Vv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Vv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function xv(r){return hh(JSON.stringify({version:2,heartbeats:r})).length}function ZR(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,e=s);return e}function eC(r){no(new Hs("platform-logger",e=>new fR(e),"PRIVATE")),no(new Hs("heartbeat",e=>new $R(e),"PRIVATE")),Xr(Sm,Nv,r),Xr(Sm,Nv,"esm2020"),Xr("fire-js","")}eC("");function xT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const tC=xT,LT=new nu("auth","Firebase",xT());const dh=new ep("@firebase/auth");function nC(r,...e){dh.logLevel<=Me.WARN&&dh.warn(`Auth (${mo}): ${r}`,...e)}function eh(r,...e){dh.logLevel<=Me.ERROR&&dh.error(`Auth (${mo}): ${r}`,...e)}function ei(r,...e){throw ip(r,...e)}function wi(r,...e){return ip(r,...e)}function PT(r,e,n){const s={...tC(),[e]:n};return new nu("auth","Firebase",s).create(e,{appName:r.name})}function tr(r){return PT(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ip(r,...e){if(typeof r!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return LT.create(r,...e)}function ge(r,e,...n){if(!r)throw ip(e,...n)}function Wi(r){const e="INTERNAL ASSERTION FAILED: "+r;throw eh(e),new Error(e)}function rr(r,e){r||Wi(e)}function wm(){return typeof self<"u"&&self.location?.href||""}function iC(){return Lv()==="http:"||Lv()==="https:"}function Lv(){return typeof self<"u"&&self.location?.protocol||null}function rC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(iC()||xw()||"connection"in navigator)?navigator.onLine:!0}function sC(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class ru{constructor(e,n){this.shortDelay=e,this.longDelay=n,rr(n>e,"Short delay should be less than long delay!"),this.isMobile=Ow()||Lw()}get(){return rC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function rp(r,e){rr(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class UT{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Wi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Wi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Wi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const aC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const oC=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],lC=new ru(3e4,6e4);function ss(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function as(r,e,n,s,o={}){return kT(r,o,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const m=iu({key:r.config.apiKey,...f}).slice(1),g=await r._getAdditionalHeaders();g["Content-Type"]="application/json",r.languageCode&&(g["X-Firebase-Locale"]=r.languageCode);const y={method:e,headers:g,...u};return Mw()||(y.referrerPolicy="no-referrer"),r.emulatorConfig&&fo(r.emulatorConfig.host)&&(y.credentials="include"),UT.fetch()(await zT(r,r.config.apiHost,n,m),y)})}async function kT(r,e,n){r._canInitEmulator=!1;const s={...aC,...e};try{const o=new cC(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Fc(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[g,y]=m.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw Fc(r,"credential-already-in-use",f);if(g==="EMAIL_EXISTS")throw Fc(r,"email-already-in-use",f);if(g==="USER_DISABLED")throw Fc(r,"user-disabled",f);const E=s[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw PT(r,E,y);ei(r,E)}}catch(o){if(o instanceof or)throw o;ei(r,"network-request-failed",{message:String(o)})}}async function su(r,e,n,s,o={}){const u=await as(r,e,n,s,o);return"mfaPendingCredential"in u&&ei(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function zT(r,e,n,s){const o=`${e}${n}?${s}`,u=r,f=u.config.emulator?rp(r.config,o):`${r.config.apiScheme}://${o}`;return oC.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function uC(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class cC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(wi(this.auth,"network-request-failed")),lC.get())})}}function Fc(r,e,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=wi(r,e,s);return o.customData._tokenResponse=n,o}function Pv(r){return r!==void 0&&r.enterprise!==void 0}class hC{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return uC(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function fC(r,e){return as(r,"GET","/v2/recaptchaConfig",ss(r,e))}async function dC(r,e){return as(r,"POST","/v1/accounts:delete",e)}async function mh(r,e){return as(r,"POST","/v1/accounts:lookup",e)}function Pl(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function mC(r,e=!1){const n=Zt(r),s=await n.getIdToken(e),o=sp(s);ge(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u?.sign_in_provider;return{claims:o,token:s,authTime:Pl(hm(o.auth_time)),issuedAtTime:Pl(hm(o.iat)),expirationTime:Pl(hm(o.exp)),signInProvider:f||null,signInSecondFactor:u?.sign_in_second_factor||null}}function hm(r){return Number(r)*1e3}function sp(r){const[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return eh("JWT malformed, contained fewer than 3 sections"),null;try{const o=ST(n);return o?JSON.parse(o):(eh("Failed to decode base64 JWT payload"),null)}catch(o){return eh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function Uv(r){const e=sp(r);return ge(e,"internal-error"),ge(typeof e.exp<"u","internal-error"),ge(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Hl(r,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof or&&pC(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function pC({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class gC{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Rm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Pl(this.lastLoginAt),this.creationTime=Pl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function ph(r){const e=r.auth,n=await r.getIdToken(),s=await Hl(r,mh(e,{idToken:n}));ge(s?.users.length,e,"internal-error");const o=s.users[0];r._notifyReloadListener(o);const u=o.providerUserInfo?.length?BT(o.providerUserInfo):[],f=_C(r.providerData,u),m=r.isAnonymous,g=!(r.email&&o.passwordHash)&&!f?.length,y=m?g:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new Rm(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(r,E)}async function yC(r){const e=Zt(r);await ph(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function _C(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function BT(r){return r.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function vC(r,e){const n=await kT(r,{},async()=>{const s=iu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=await zT(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:m,body:s};return r.emulatorConfig&&fo(r.emulatorConfig.host)&&(g.credentials="include"),UT.fetch()(f,g)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function EC(r,e){return as(r,"POST","/v2/accounts:revokeToken",ss(r,e))}class Xa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ge(e.idToken,"internal-error"),ge(typeof e.idToken<"u","internal-error"),ge(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Uv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ge(e.length!==0,"internal-error");const n=Uv(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ge(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await vC(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new Xa;return s&&(ge(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),o&&(ge(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(ge(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Xa,this.toJSON())}_performRefresh(){return Wi("not implemented")}}function jr(r,e){ge(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class $n{constructor({uid:e,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new gC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Rm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Hl(this,this.stsTokenManager.getToken(this.auth,e));return ge(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return mC(this,e)}reload(){return yC(this)}_assign(e){this!==e&&(ge(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new $n({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){ge(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await ph(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ln(this.auth.app))return Promise.reject(tr(this.auth));const e=await this.getIdToken();return await Hl(this,dC(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,f=n.photoURL??void 0,m=n.tenantId??void 0,g=n._redirectEventId??void 0,y=n.createdAt??void 0,E=n.lastLoginAt??void 0,{uid:S,emailVerified:w,isAnonymous:U,providerData:J,stsTokenManager:X}=n;ge(S&&X,e,"internal-error");const K=Xa.fromJSON(this.name,X);ge(typeof S=="string",e,"internal-error"),jr(s,e.name),jr(o,e.name),ge(typeof w=="boolean",e,"internal-error"),ge(typeof U=="boolean",e,"internal-error"),jr(u,e.name),jr(f,e.name),jr(m,e.name),jr(g,e.name),jr(y,e.name),jr(E,e.name);const ne=new $n({uid:S,auth:e,email:o,emailVerified:w,displayName:s,isAnonymous:U,photoURL:f,phoneNumber:u,tenantId:m,stsTokenManager:K,createdAt:y,lastLoginAt:E});return J&&Array.isArray(J)&&(ne.providerData=J.map(ee=>({...ee}))),g&&(ne._redirectEventId=g),ne}static async _fromIdTokenResponse(e,n,s=!1){const o=new Xa;o.updateFromServerResponse(n);const u=new $n({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await ph(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];ge(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?BT(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!u?.length,m=new Xa;m.updateFromIdToken(s);const g=new $n({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Rm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(g,y),g}}const kv=new Map;function Zi(r){rr(r instanceof Function,"Expected a class definition");let e=kv.get(r);return e?(rr(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,kv.set(r,e),e)}class jT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}jT.type="NONE";const zv=jT;function th(r,e,n){return`firebase:${r}:${e}:${n}`}class $a{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=th(this.userKey,o.apiKey,u),this.fullPersistenceKey=th("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await mh(this.auth,{idToken:e}).catch(()=>{});return n?$n._fromGetAccountInfoResponse(this.auth,n,e):null}return $n._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new $a(Zi(zv),e,s);const o=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let u=o[0]||Zi(zv);const f=th(s,e.config.apiKey,e.name);let m=null;for(const y of n)try{const E=await y._get(f);if(E){let S;if(typeof E=="string"){const w=await mh(e,{idToken:E}).catch(()=>{});if(!w)break;S=await $n._fromGetAccountInfoResponse(e,w,E)}else S=$n._fromJSON(e,E);y!==u&&(m=S),u=y;break}}catch{}const g=o.filter(y=>y._shouldAllowMigration);return!u._shouldAllowMigration||!g.length?new $a(u,e,s):(u=g[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async y=>{if(y!==u)try{await y._remove(f)}catch{}})),new $a(u,e,s))}}function Bv(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(GT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(qT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(YT(e))return"Blackberry";if(QT(e))return"Webos";if(HT(e))return"Safari";if((e.includes("chrome/")||FT(e))&&!e.includes("edge/"))return"Chrome";if(KT(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if(s?.length===2)return s[1]}return"Other"}function qT(r=Wt()){return/firefox\//i.test(r)}function HT(r=Wt()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function FT(r=Wt()){return/crios\//i.test(r)}function GT(r=Wt()){return/iemobile/i.test(r)}function KT(r=Wt()){return/android/i.test(r)}function YT(r=Wt()){return/blackberry/i.test(r)}function QT(r=Wt()){return/webos/i.test(r)}function ap(r=Wt()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function TC(r=Wt()){return ap(r)&&!!window.navigator?.standalone}function SC(){return Pw()&&document.documentMode===10}function XT(r=Wt()){return ap(r)||KT(r)||QT(r)||YT(r)||/windows phone/i.test(r)||GT(r)}function $T(r,e=[]){let n;switch(r){case"Browser":n=Bv(Wt());break;case"Worker":n=`${Bv(Wt())}-${r}`;break;default:n=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${mo}/${s}`}class AC{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((f,m)=>{try{const g=e(u);f(g)}catch(g){m(g)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function bC(r,e={}){return as(r,"GET","/v2/passwordPolicy",ss(r,e))}const wC=6;class RC{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??wC,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}class CC{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new jv(this),this.idTokenSubscription=new jv(this),this.beforeStateQueue=new AC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=LT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Zi(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await $a.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await mh(this,{idToken:e}),s=await $n._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Ln(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,f=s?._redirectEventId,m=await this.tryRedirectSignIn(e);(!u||u===f)&&m?.user&&(s=m.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return ge(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await ph(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=sC()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ln(this.app))return Promise.reject(tr(this));const n=e?Zt(e):null;return n&&ge(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ge(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ln(this.app)?Promise.reject(tr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ln(this.app)?Promise.reject(tr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Zi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await bC(this),n=new RC(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new nu("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await EC(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Zi(e)||this._popupRedirectResolver;ge(n,this,"argument-error"),this.redirectPersistenceManager=await $a.create(this,[Zi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(ge(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const g=e.addObserver(n,s,o);return()=>{f=!0,g()}}else{const g=e.addObserver(n);return()=>{f=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ge(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=$T(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(Ln(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&nC(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Qs(r){return Zt(r)}class jv{constructor(e){this.auth=e,this.observer=null,this.addObserver=Fw(n=>this.observer=n)}get next(){return ge(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let xh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function IC(r){xh=r}function JT(r){return xh.loadJS(r)}function DC(){return xh.recaptchaEnterpriseScript}function NC(){return xh.gapiScript}function OC(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class VC{constructor(){this.enterprise=new MC}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class MC{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const xC="recaptcha-enterprise",WT="NO_RECAPTCHA";class LC{constructor(e){this.type=xC,this.auth=Qs(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,m)=>{fC(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const y=new hC(g);return u.tenantId==null?u._agentRecaptchaConfig=y:u._tenantRecaptchaConfigs[u.tenantId]=y,f(y.siteKey)}}).catch(g=>{m(g)})})}function o(u,f,m){const g=window.grecaptcha;Pv(g)?g.enterprise.ready(()=>{g.enterprise.execute(u,{action:e}).then(y=>{f(y)}).catch(()=>{f(WT)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new VC().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{s(this.auth).then(m=>{if(!n&&Pv(window.grecaptcha))o(m,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let g=DC();g.length!==0&&(g+=m),JT(g).then(()=>{o(m,u,f)}).catch(y=>{f(y)})}}).catch(m=>{f(m)})})}}async function qv(r,e,n,s=!1,o=!1){const u=new LC(r);let f;if(o)f=WT;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const m={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const g=m.phoneEnrollmentInfo.phoneNumber,y=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:y,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const g=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:g,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:f}):Object.assign(m,{captchaResponse:f}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function Cm(r,e,n,s,o){if(r._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await qv(r,e,n,n==="getOobCode");return s(r,u)}else return s(r,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await qv(r,e,n,n==="getOobCode");return s(r,f)}else return Promise.reject(u)})}function PC(r,e){const n=np(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(qs(u,e??{}))return o;ei(o,"already-initialized")}return n.initialize({options:e})}function UC(r,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(Zi);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e?.popupRedirectResolver)}function kC(r,e,n){const s=Qs(r);ge(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=ZT(e),{host:f,port:m}=zC(e),g=m===null?"":`:${m}`,y={url:`${u}//${f}${g}/`},E=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){ge(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),ge(qs(y,s.config.emulator)&&qs(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=y,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,fo(f)?(RT(`${u}//${f}${g}`),CT("Auth",!0)):BC()}function ZT(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function zC(r){const e=ZT(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:Hv(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:Hv(f)}}}function Hv(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function BC(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class op{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Wi("not implemented")}_getIdTokenResponse(e){return Wi("not implemented")}_linkToIdToken(e,n){return Wi("not implemented")}_getReauthenticationResolver(e){return Wi("not implemented")}}async function jC(r,e){return as(r,"POST","/v1/accounts:signUp",e)}async function qC(r,e){return su(r,"POST","/v1/accounts:signInWithPassword",ss(r,e))}async function HC(r,e){return su(r,"POST","/v1/accounts:signInWithEmailLink",ss(r,e))}async function FC(r,e){return su(r,"POST","/v1/accounts:signInWithEmailLink",ss(r,e))}class Fl extends op{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new Fl(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new Fl(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Cm(e,n,"signInWithPassword",qC);case"emailLink":return HC(e,{email:this._email,oobCode:this._password});default:ei(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Cm(e,s,"signUpPassword",jC);case"emailLink":return FC(e,{idToken:n,email:this._email,oobCode:this._password});default:ei(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Ja(r,e){return su(r,"POST","/v1/accounts:signInWithIdp",ss(r,e))}const GC="http://localhost";class Fs extends op{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Fs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ei("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const f=new Fs(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return Ja(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,Ja(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ja(e,n)}buildRequest(){const e={requestUri:GC,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=iu(n)}return e}}function KC(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function YC(r){const e=Dl(Nl(r)).link,n=e?Dl(Nl(e)).deep_link_id:null,s=Dl(Nl(r)).deep_link_id;return(s?Dl(Nl(s)).link:null)||s||n||e||r}class lp{constructor(e){const n=Dl(Nl(e)),s=n.apiKey??null,o=n.oobCode??null,u=KC(n.mode??null);ge(s&&o&&u,"argument-error"),this.apiKey=s,this.operation=u,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=YC(e);try{return new lp(n)}catch{return null}}}class po{constructor(){this.providerId=po.PROVIDER_ID}static credential(e,n){return Fl._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=lp.parseLink(n);return ge(s,"argument-error"),Fl._fromEmailAndCode(e,s.code,s.tenantId)}}po.PROVIDER_ID="password";po.EMAIL_PASSWORD_SIGN_IN_METHOD="password";po.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class e0{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class au extends e0{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class qr extends au{constructor(){super("facebook.com")}static credential(e){return Fs._fromParams({providerId:qr.PROVIDER_ID,signInMethod:qr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return qr.credentialFromTaggedObject(e)}static credentialFromError(e){return qr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return qr.credential(e.oauthAccessToken)}catch{return null}}}qr.FACEBOOK_SIGN_IN_METHOD="facebook.com";qr.PROVIDER_ID="facebook.com";class Hr extends au{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Fs._fromParams({providerId:Hr.PROVIDER_ID,signInMethod:Hr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Hr.credentialFromTaggedObject(e)}static credentialFromError(e){return Hr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return Hr.credential(n,s)}catch{return null}}}Hr.GOOGLE_SIGN_IN_METHOD="google.com";Hr.PROVIDER_ID="google.com";class Fr extends au{constructor(){super("github.com")}static credential(e){return Fs._fromParams({providerId:Fr.PROVIDER_ID,signInMethod:Fr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Fr.credentialFromTaggedObject(e)}static credentialFromError(e){return Fr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Fr.credential(e.oauthAccessToken)}catch{return null}}}Fr.GITHUB_SIGN_IN_METHOD="github.com";Fr.PROVIDER_ID="github.com";class Gr extends au{constructor(){super("twitter.com")}static credential(e,n){return Fs._fromParams({providerId:Gr.PROVIDER_ID,signInMethod:Gr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Gr.credentialFromTaggedObject(e)}static credentialFromError(e){return Gr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Gr.credential(n,s)}catch{return null}}}Gr.TWITTER_SIGN_IN_METHOD="twitter.com";Gr.PROVIDER_ID="twitter.com";async function QC(r,e){return su(r,"POST","/v1/accounts:signUp",ss(r,e))}class Gs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await $n._fromIdTokenResponse(e,s,o),f=Fv(s);return new Gs({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=Fv(s);return new Gs({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function Fv(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}class gh extends or{constructor(e,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,gh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new gh(e,n,s,o)}}function t0(r,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?gh._fromErrorAndOperation(r,u,e,s):u})}async function XC(r,e,n=!1){const s=await Hl(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return Gs._forOperation(r,"link",s)}async function $C(r,e,n=!1){const{auth:s}=r;if(Ln(s.app))return Promise.reject(tr(s));const o="reauthenticate";try{const u=await Hl(r,t0(s,o,e,r),n);ge(u.idToken,s,"internal-error");const f=sp(u.idToken);ge(f,s,"internal-error");const{sub:m}=f;return ge(r.uid===m,s,"user-mismatch"),Gs._forOperation(r,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&ei(s,"user-mismatch"),u}}async function n0(r,e,n=!1){if(Ln(r.app))return Promise.reject(tr(r));const s="signIn",o=await t0(r,s,e),u=await Gs._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}async function JC(r,e){return n0(Qs(r),e)}async function i0(r){const e=Qs(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function WC(r,e,n){if(Ln(r.app))return Promise.reject(tr(r));const s=Qs(r),f=await Cm(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",QC).catch(g=>{throw g.code==="auth/password-does-not-meet-requirements"&&i0(r),g}),m=await Gs._fromIdTokenResponse(s,"signIn",f);return await s._updateCurrentUser(m.user),m}function ZC(r,e,n){return Ln(r.app)?Promise.reject(tr(r)):JC(Zt(r),po.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&i0(r),s})}function eI(r,e,n,s){return Zt(r).onIdTokenChanged(e,n,s)}function tI(r,e,n){return Zt(r).beforeAuthStateChanged(e,n)}function nI(r,e,n,s){return Zt(r).onAuthStateChanged(e,n,s)}function iI(r){return Zt(r).signOut()}const yh="__sak";class r0{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(yh,"1"),this.storage.removeItem(yh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const rI=1e3,sI=10;class s0 extends r0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=XT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,m,g)=>{this.notifyListeners(f,g)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);SC()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,sI):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},rI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}s0.type="LOCAL";const aI=s0;class a0 extends r0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}a0.type="SESSION";const o0=a0;function oI(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class Lh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new Lh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!f?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async y=>y(n.origin,u)),g=await oI(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:g})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Lh.receivers=[];function up(r="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return r+n}class lI{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,g)=>{const y=up("",20);o.port1.start();const E=setTimeout(()=>{g(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(S){const w=S;if(w.data.eventId===y)switch(w.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(w.data.response);break;default:clearTimeout(E),clearTimeout(u),g(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:y,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}function Ri(){return window}function uI(r){Ri().location.href=r}function l0(){return typeof Ri().WorkerGlobalScope<"u"&&typeof Ri().importScripts=="function"}async function cI(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function hI(){return navigator?.serviceWorker?.controller||null}function fI(){return l0()?self:null}const u0="firebaseLocalStorageDb",dI=1,_h="firebaseLocalStorage",c0="fbase_key";class ou{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Ph(r,e){return r.transaction([_h],e?"readwrite":"readonly").objectStore(_h)}function mI(){const r=indexedDB.deleteDatabase(u0);return new ou(r).toPromise()}function Im(){const r=indexedDB.open(u0,dI);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(_h,{keyPath:c0})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(_h)?e(s):(s.close(),await mI(),e(await Im()))})})}async function Gv(r,e,n){const s=Ph(r,!0).put({[c0]:e,value:n});return new ou(s).toPromise()}async function pI(r,e){const n=Ph(r,!1).get(e),s=await new ou(n).toPromise();return s===void 0?null:s.value}function Kv(r,e){const n=Ph(r,!0).delete(e);return new ou(n).toPromise()}const gI=800,yI=3;class h0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Im(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>yI)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return l0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Lh._getInstance(fI()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await cI(),!this.activeServiceWorker)return;this.sender=new lI(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||hI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Im();return await Gv(e,yh,"1"),await Kv(e,yh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>Gv(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>pI(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Kv(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Ph(o,!1).getAll();return new ou(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),gI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}h0.type="LOCAL";const _I=h0;new ru(3e4,6e4);function vI(r,e){return e?Zi(e):(ge(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class cp extends op{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ja(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ja(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ja(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function EI(r){return n0(r.auth,new cp(r),r.bypassAuthState)}function TI(r){const{auth:e,user:n}=r;return ge(n,e,"internal-error"),$C(n,new cp(r),r.bypassAuthState)}async function SI(r){const{auth:e,user:n}=r;return ge(n,e,"internal-error"),XC(n,new cp(r),r.bypassAuthState)}class f0{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=e;if(f){this.reject(f);return}const g={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(g))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return EI;case"linkViaPopup":case"linkViaRedirect":return SI;case"reauthViaPopup":case"reauthViaRedirect":return TI;default:ei(this.auth,"internal-error")}}resolve(e){rr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){rr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const AI=new ru(2e3,1e4);class Qa extends f0{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,Qa.currentPopupAction&&Qa.currentPopupAction.cancel(),Qa.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ge(e,this.auth,"internal-error"),e}async onExecution(){rr(this.filter.length===1,"Popup operations only handle one event");const e=up();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(wi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(wi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Qa.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(wi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,AI.get())};e()}}Qa.currentPopupAction=null;const bI="pendingRedirect",nh=new Map;class wI extends f0{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=nh.get(this.auth._key());if(!e){try{const s=await RI(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}nh.set(this.auth._key(),e)}return this.bypassAuthState||nh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function RI(r,e){const n=DI(e),s=II(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function CI(r,e){nh.set(r._key(),e)}function II(r){return Zi(r._redirectPersistence)}function DI(r){return th(bI,r.config.apiKey,r.name)}async function NI(r,e,n=!1){if(Ln(r.app))return Promise.reject(tr(r));const s=Qs(r),o=vI(s,e),f=await new wI(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}const OI=600*1e3;class VI{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!MI(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!d0(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(wi(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=OI&&this.cachedEventUids.clear(),this.cachedEventUids.has(Yv(e))}saveEventToCache(e){this.cachedEventUids.add(Yv(e)),this.lastProcessedEventTime=Date.now()}}function Yv(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function d0({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function MI(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return d0(r);default:return!1}}async function xI(r,e={}){return as(r,"GET","/v1/projects",e)}const LI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,PI=/^https?/;async function UI(r){if(r.config.emulator)return;const{authorizedDomains:e}=await xI(r);for(const n of e)try{if(kI(n))return}catch{}ei(r,"unauthorized-domain")}function kI(r){const e=wm(),{protocol:n,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!PI.test(n))return!1;if(LI.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}const zI=new ru(3e4,6e4);function Qv(){const r=Ri().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function BI(r){return new Promise((e,n)=>{function s(){Qv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Qv(),n(wi(r,"network-request-failed"))},timeout:zI.get()})}if(Ri().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Ri().gapi?.load)s();else{const o=OC("iframefcb");return Ri()[o]=()=>{gapi.load?s():n(wi(r,"network-request-failed"))},JT(`${NC()}?onload=${o}`).catch(u=>n(u))}}).catch(e=>{throw ih=null,e})}let ih=null;function jI(r){return ih=ih||BI(r),ih}const qI=new ru(5e3,15e3),HI="__/auth/iframe",FI="emulator/auth/iframe",GI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},KI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function YI(r){const e=r.config;ge(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?rp(e,FI):`https://${r.config.authDomain}/${HI}`,s={apiKey:e.apiKey,appName:r.name,v:mo},o=KI.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${iu(s).slice(1)}`}async function QI(r){const e=await jI(r),n=Ri().gapi;return ge(n,r,"internal-error"),e.open({where:document.body,url:YI(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:GI,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=wi(r,"network-request-failed"),m=Ri().setTimeout(()=>{u(f)},qI.get());function g(){Ri().clearTimeout(m),o(s)}s.ping(g).then(g,()=>{u(f)})}))}const XI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},$I=500,JI=600,WI="_blank",ZI="http://localhost";class Xv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function e2(r,e,n,s=$I,o=JI){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const g={...XI,width:s.toString(),height:o.toString(),top:u,left:f},y=Wt().toLowerCase();n&&(m=FT(y)?WI:n),qT(y)&&(e=e||ZI,g.scrollbars="yes");const E=Object.entries(g).reduce((w,[U,J])=>`${w}${U}=${J},`,"");if(TC(y)&&m!=="_self")return t2(e||"",m),new Xv(null);const S=window.open(e||"",m,E);ge(S,r,"popup-blocked");try{S.focus()}catch{}return new Xv(S)}function t2(r,e){const n=document.createElement("a");n.href=r,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const n2="__/auth/handler",i2="emulator/auth/handler",r2=encodeURIComponent("fac");async function $v(r,e,n,s,o,u){ge(r.config.authDomain,r,"auth-domain-config-required"),ge(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:mo,eventId:o};if(e instanceof e0){e.setDefaultLanguage(r.languageCode),f.providerId=e.providerId||"",Hw(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,S]of Object.entries({}))f[E]=S}if(e instanceof au){const E=e.getScopes().filter(S=>S!=="");E.length>0&&(f.scopes=E.join(","))}r.tenantId&&(f.tid=r.tenantId);const m=f;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const g=await r._getAppCheckToken(),y=g?`#${r2}=${encodeURIComponent(g)}`:"";return`${s2(r)}?${iu(m).slice(1)}${y}`}function s2({config:r}){return r.emulator?rp(r,i2):`https://${r.authDomain}/${n2}`}const fm="webStorageSupport";class a2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=o0,this._completeRedirectFn=NI,this._overrideRedirectResult=CI}async _openPopup(e,n,s,o){rr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await $v(e,n,s,wm(),o);return e2(e,u,up())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await $v(e,n,s,wm(),o);return uI(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(rr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await QI(e),s=new VI(e);return n.register("authEvent",o=>(ge(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(fm,{type:fm},o=>{const u=o?.[0]?.[fm];u!==void 0&&n(!!u),ei(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=UI(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return XT()||HT()||ap()}}const o2=a2;var Jv="@firebase/auth",Wv="1.12.0";class l2{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ge(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function u2(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function c2(r){no(new Hs("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;ge(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const g={apiKey:f,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:$T(r)},y=new CC(s,o,u,g);return UC(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),no(new Hs("auth-internal",e=>{const n=Qs(e.getProvider("auth").getImmediate());return(s=>new l2(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Xr(Jv,Wv,u2(r)),Xr(Jv,Wv,"esm2020")}const h2=300,f2=wT("authIdTokenMaxAge")||h2;let Zv=null;const d2=r=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>f2)return;const o=n?.token;Zv!==o&&(Zv=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function m2(r=OT()){const e=np(r,"auth");if(e.isInitialized())return e.getImmediate();const n=PC(r,{popupRedirectResolver:o2,persistence:[_I,aI,o0]}),s=wT("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=d2(u.toString());tI(n,f,()=>f(n.currentUser)),eI(n,m=>f(m))}}const o=AT("auth");return o&&kC(n,`http://${o}`),n}function p2(){return document.getElementsByTagName("head")?.[0]??document}IC({loadJS(r){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const u=wi("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",p2().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});c2("Browser");var g2="firebase",y2="12.8.0";Xr(g2,y2,"app");var eE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var $r,m0;(function(){var r;function e(D,b){function R(){}R.prototype=b.prototype,D.F=b.prototype,D.prototype=new R,D.prototype.constructor=D,D.D=function(M,O,L){for(var C=Array(arguments.length-2),rt=2;rt<arguments.length;rt++)C[rt-2]=arguments[rt];return b.prototype[O].apply(M,C)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(D,b,R){R||(R=0);const M=Array(16);if(typeof b=="string")for(var O=0;O<16;++O)M[O]=b.charCodeAt(R++)|b.charCodeAt(R++)<<8|b.charCodeAt(R++)<<16|b.charCodeAt(R++)<<24;else for(O=0;O<16;++O)M[O]=b[R++]|b[R++]<<8|b[R++]<<16|b[R++]<<24;b=D.g[0],R=D.g[1],O=D.g[2];let L=D.g[3],C;C=b+(L^R&(O^L))+M[0]+3614090360&4294967295,b=R+(C<<7&4294967295|C>>>25),C=L+(O^b&(R^O))+M[1]+3905402710&4294967295,L=b+(C<<12&4294967295|C>>>20),C=O+(R^L&(b^R))+M[2]+606105819&4294967295,O=L+(C<<17&4294967295|C>>>15),C=R+(b^O&(L^b))+M[3]+3250441966&4294967295,R=O+(C<<22&4294967295|C>>>10),C=b+(L^R&(O^L))+M[4]+4118548399&4294967295,b=R+(C<<7&4294967295|C>>>25),C=L+(O^b&(R^O))+M[5]+1200080426&4294967295,L=b+(C<<12&4294967295|C>>>20),C=O+(R^L&(b^R))+M[6]+2821735955&4294967295,O=L+(C<<17&4294967295|C>>>15),C=R+(b^O&(L^b))+M[7]+4249261313&4294967295,R=O+(C<<22&4294967295|C>>>10),C=b+(L^R&(O^L))+M[8]+1770035416&4294967295,b=R+(C<<7&4294967295|C>>>25),C=L+(O^b&(R^O))+M[9]+2336552879&4294967295,L=b+(C<<12&4294967295|C>>>20),C=O+(R^L&(b^R))+M[10]+4294925233&4294967295,O=L+(C<<17&4294967295|C>>>15),C=R+(b^O&(L^b))+M[11]+2304563134&4294967295,R=O+(C<<22&4294967295|C>>>10),C=b+(L^R&(O^L))+M[12]+1804603682&4294967295,b=R+(C<<7&4294967295|C>>>25),C=L+(O^b&(R^O))+M[13]+4254626195&4294967295,L=b+(C<<12&4294967295|C>>>20),C=O+(R^L&(b^R))+M[14]+2792965006&4294967295,O=L+(C<<17&4294967295|C>>>15),C=R+(b^O&(L^b))+M[15]+1236535329&4294967295,R=O+(C<<22&4294967295|C>>>10),C=b+(O^L&(R^O))+M[1]+4129170786&4294967295,b=R+(C<<5&4294967295|C>>>27),C=L+(R^O&(b^R))+M[6]+3225465664&4294967295,L=b+(C<<9&4294967295|C>>>23),C=O+(b^R&(L^b))+M[11]+643717713&4294967295,O=L+(C<<14&4294967295|C>>>18),C=R+(L^b&(O^L))+M[0]+3921069994&4294967295,R=O+(C<<20&4294967295|C>>>12),C=b+(O^L&(R^O))+M[5]+3593408605&4294967295,b=R+(C<<5&4294967295|C>>>27),C=L+(R^O&(b^R))+M[10]+38016083&4294967295,L=b+(C<<9&4294967295|C>>>23),C=O+(b^R&(L^b))+M[15]+3634488961&4294967295,O=L+(C<<14&4294967295|C>>>18),C=R+(L^b&(O^L))+M[4]+3889429448&4294967295,R=O+(C<<20&4294967295|C>>>12),C=b+(O^L&(R^O))+M[9]+568446438&4294967295,b=R+(C<<5&4294967295|C>>>27),C=L+(R^O&(b^R))+M[14]+3275163606&4294967295,L=b+(C<<9&4294967295|C>>>23),C=O+(b^R&(L^b))+M[3]+4107603335&4294967295,O=L+(C<<14&4294967295|C>>>18),C=R+(L^b&(O^L))+M[8]+1163531501&4294967295,R=O+(C<<20&4294967295|C>>>12),C=b+(O^L&(R^O))+M[13]+2850285829&4294967295,b=R+(C<<5&4294967295|C>>>27),C=L+(R^O&(b^R))+M[2]+4243563512&4294967295,L=b+(C<<9&4294967295|C>>>23),C=O+(b^R&(L^b))+M[7]+1735328473&4294967295,O=L+(C<<14&4294967295|C>>>18),C=R+(L^b&(O^L))+M[12]+2368359562&4294967295,R=O+(C<<20&4294967295|C>>>12),C=b+(R^O^L)+M[5]+4294588738&4294967295,b=R+(C<<4&4294967295|C>>>28),C=L+(b^R^O)+M[8]+2272392833&4294967295,L=b+(C<<11&4294967295|C>>>21),C=O+(L^b^R)+M[11]+1839030562&4294967295,O=L+(C<<16&4294967295|C>>>16),C=R+(O^L^b)+M[14]+4259657740&4294967295,R=O+(C<<23&4294967295|C>>>9),C=b+(R^O^L)+M[1]+2763975236&4294967295,b=R+(C<<4&4294967295|C>>>28),C=L+(b^R^O)+M[4]+1272893353&4294967295,L=b+(C<<11&4294967295|C>>>21),C=O+(L^b^R)+M[7]+4139469664&4294967295,O=L+(C<<16&4294967295|C>>>16),C=R+(O^L^b)+M[10]+3200236656&4294967295,R=O+(C<<23&4294967295|C>>>9),C=b+(R^O^L)+M[13]+681279174&4294967295,b=R+(C<<4&4294967295|C>>>28),C=L+(b^R^O)+M[0]+3936430074&4294967295,L=b+(C<<11&4294967295|C>>>21),C=O+(L^b^R)+M[3]+3572445317&4294967295,O=L+(C<<16&4294967295|C>>>16),C=R+(O^L^b)+M[6]+76029189&4294967295,R=O+(C<<23&4294967295|C>>>9),C=b+(R^O^L)+M[9]+3654602809&4294967295,b=R+(C<<4&4294967295|C>>>28),C=L+(b^R^O)+M[12]+3873151461&4294967295,L=b+(C<<11&4294967295|C>>>21),C=O+(L^b^R)+M[15]+530742520&4294967295,O=L+(C<<16&4294967295|C>>>16),C=R+(O^L^b)+M[2]+3299628645&4294967295,R=O+(C<<23&4294967295|C>>>9),C=b+(O^(R|~L))+M[0]+4096336452&4294967295,b=R+(C<<6&4294967295|C>>>26),C=L+(R^(b|~O))+M[7]+1126891415&4294967295,L=b+(C<<10&4294967295|C>>>22),C=O+(b^(L|~R))+M[14]+2878612391&4294967295,O=L+(C<<15&4294967295|C>>>17),C=R+(L^(O|~b))+M[5]+4237533241&4294967295,R=O+(C<<21&4294967295|C>>>11),C=b+(O^(R|~L))+M[12]+1700485571&4294967295,b=R+(C<<6&4294967295|C>>>26),C=L+(R^(b|~O))+M[3]+2399980690&4294967295,L=b+(C<<10&4294967295|C>>>22),C=O+(b^(L|~R))+M[10]+4293915773&4294967295,O=L+(C<<15&4294967295|C>>>17),C=R+(L^(O|~b))+M[1]+2240044497&4294967295,R=O+(C<<21&4294967295|C>>>11),C=b+(O^(R|~L))+M[8]+1873313359&4294967295,b=R+(C<<6&4294967295|C>>>26),C=L+(R^(b|~O))+M[15]+4264355552&4294967295,L=b+(C<<10&4294967295|C>>>22),C=O+(b^(L|~R))+M[6]+2734768916&4294967295,O=L+(C<<15&4294967295|C>>>17),C=R+(L^(O|~b))+M[13]+1309151649&4294967295,R=O+(C<<21&4294967295|C>>>11),C=b+(O^(R|~L))+M[4]+4149444226&4294967295,b=R+(C<<6&4294967295|C>>>26),C=L+(R^(b|~O))+M[11]+3174756917&4294967295,L=b+(C<<10&4294967295|C>>>22),C=O+(b^(L|~R))+M[2]+718787259&4294967295,O=L+(C<<15&4294967295|C>>>17),C=R+(L^(O|~b))+M[9]+3951481745&4294967295,D.g[0]=D.g[0]+b&4294967295,D.g[1]=D.g[1]+(O+(C<<21&4294967295|C>>>11))&4294967295,D.g[2]=D.g[2]+O&4294967295,D.g[3]=D.g[3]+L&4294967295}s.prototype.v=function(D,b){b===void 0&&(b=D.length);const R=b-this.blockSize,M=this.C;let O=this.h,L=0;for(;L<b;){if(O==0)for(;L<=R;)o(this,D,L),L+=this.blockSize;if(typeof D=="string"){for(;L<b;)if(M[O++]=D.charCodeAt(L++),O==this.blockSize){o(this,M),O=0;break}}else for(;L<b;)if(M[O++]=D[L++],O==this.blockSize){o(this,M),O=0;break}}this.h=O,this.o+=b},s.prototype.A=function(){var D=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);D[0]=128;for(var b=1;b<D.length-8;++b)D[b]=0;b=this.o*8;for(var R=D.length-8;R<D.length;++R)D[R]=b&255,b/=256;for(this.v(D),D=Array(16),b=0,R=0;R<4;++R)for(let M=0;M<32;M+=8)D[b++]=this.g[R]>>>M&255;return D};function u(D,b){var R=m;return Object.prototype.hasOwnProperty.call(R,D)?R[D]:R[D]=b(D)}function f(D,b){this.h=b;const R=[];let M=!0;for(let O=D.length-1;O>=0;O--){const L=D[O]|0;M&&L==b||(R[O]=L,M=!1)}this.g=R}var m={};function g(D){return-128<=D&&D<128?u(D,function(b){return new f([b|0],b<0?-1:0)}):new f([D|0],D<0?-1:0)}function y(D){if(isNaN(D)||!isFinite(D))return S;if(D<0)return K(y(-D));const b=[];let R=1;for(let M=0;D>=R;M++)b[M]=D/R|0,R*=4294967296;return new f(b,0)}function E(D,b){if(D.length==0)throw Error("number format error: empty string");if(b=b||10,b<2||36<b)throw Error("radix out of range: "+b);if(D.charAt(0)=="-")return K(E(D.substring(1),b));if(D.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=y(Math.pow(b,8));let M=S;for(let L=0;L<D.length;L+=8){var O=Math.min(8,D.length-L);const C=parseInt(D.substring(L,L+O),b);O<8?(O=y(Math.pow(b,O)),M=M.j(O).add(y(C))):(M=M.j(R),M=M.add(y(C)))}return M}var S=g(0),w=g(1),U=g(16777216);r=f.prototype,r.m=function(){if(X(this))return-K(this).m();let D=0,b=1;for(let R=0;R<this.g.length;R++){const M=this.i(R);D+=(M>=0?M:4294967296+M)*b,b*=4294967296}return D},r.toString=function(D){if(D=D||10,D<2||36<D)throw Error("radix out of range: "+D);if(J(this))return"0";if(X(this))return"-"+K(this).toString(D);const b=y(Math.pow(D,6));var R=this;let M="";for(;;){const O=Ce(R,b).g;R=ne(R,O.j(b));let L=((R.g.length>0?R.g[0]:R.h)>>>0).toString(D);if(R=O,J(R))return L+M;for(;L.length<6;)L="0"+L;M=L+M}},r.i=function(D){return D<0?0:D<this.g.length?this.g[D]:this.h};function J(D){if(D.h!=0)return!1;for(let b=0;b<D.g.length;b++)if(D.g[b]!=0)return!1;return!0}function X(D){return D.h==-1}r.l=function(D){return D=ne(this,D),X(D)?-1:J(D)?0:1};function K(D){const b=D.g.length,R=[];for(let M=0;M<b;M++)R[M]=~D.g[M];return new f(R,~D.h).add(w)}r.abs=function(){return X(this)?K(this):this},r.add=function(D){const b=Math.max(this.g.length,D.g.length),R=[];let M=0;for(let O=0;O<=b;O++){let L=M+(this.i(O)&65535)+(D.i(O)&65535),C=(L>>>16)+(this.i(O)>>>16)+(D.i(O)>>>16);M=C>>>16,L&=65535,C&=65535,R[O]=C<<16|L}return new f(R,R[R.length-1]&-2147483648?-1:0)};function ne(D,b){return D.add(K(b))}r.j=function(D){if(J(this)||J(D))return S;if(X(this))return X(D)?K(this).j(K(D)):K(K(this).j(D));if(X(D))return K(this.j(K(D)));if(this.l(U)<0&&D.l(U)<0)return y(this.m()*D.m());const b=this.g.length+D.g.length,R=[];for(var M=0;M<2*b;M++)R[M]=0;for(M=0;M<this.g.length;M++)for(let O=0;O<D.g.length;O++){const L=this.i(M)>>>16,C=this.i(M)&65535,rt=D.i(O)>>>16,Dt=D.i(O)&65535;R[2*M+2*O]+=C*Dt,ee(R,2*M+2*O),R[2*M+2*O+1]+=L*Dt,ee(R,2*M+2*O+1),R[2*M+2*O+1]+=C*rt,ee(R,2*M+2*O+1),R[2*M+2*O+2]+=L*rt,ee(R,2*M+2*O+2)}for(D=0;D<b;D++)R[D]=R[2*D+1]<<16|R[2*D];for(D=b;D<2*b;D++)R[D]=0;return new f(R,0)};function ee(D,b){for(;(D[b]&65535)!=D[b];)D[b+1]+=D[b]>>>16,D[b]&=65535,b++}function re(D,b){this.g=D,this.h=b}function Ce(D,b){if(J(b))throw Error("division by zero");if(J(D))return new re(S,S);if(X(D))return b=Ce(K(D),b),new re(K(b.g),K(b.h));if(X(b))return b=Ce(D,K(b)),new re(K(b.g),b.h);if(D.g.length>30){if(X(D)||X(b))throw Error("slowDivide_ only works with positive integers.");for(var R=w,M=b;M.l(D)<=0;)R=Ie(R),M=Ie(M);var O=Re(R,1),L=Re(M,1);for(M=Re(M,2),R=Re(R,2);!J(M);){var C=L.add(M);C.l(D)<=0&&(O=O.add(R),L=C),M=Re(M,1),R=Re(R,1)}return b=ne(D,O.j(b)),new re(O,b)}for(O=S;D.l(b)>=0;){for(R=Math.max(1,Math.floor(D.m()/b.m())),M=Math.ceil(Math.log(R)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),L=y(R),C=L.j(b);X(C)||C.l(D)>0;)R-=M,L=y(R),C=L.j(b);J(L)&&(L=w),O=O.add(L),D=ne(D,C)}return new re(O,D)}r.B=function(D){return Ce(this,D).h},r.and=function(D){const b=Math.max(this.g.length,D.g.length),R=[];for(let M=0;M<b;M++)R[M]=this.i(M)&D.i(M);return new f(R,this.h&D.h)},r.or=function(D){const b=Math.max(this.g.length,D.g.length),R=[];for(let M=0;M<b;M++)R[M]=this.i(M)|D.i(M);return new f(R,this.h|D.h)},r.xor=function(D){const b=Math.max(this.g.length,D.g.length),R=[];for(let M=0;M<b;M++)R[M]=this.i(M)^D.i(M);return new f(R,this.h^D.h)};function Ie(D){const b=D.g.length+1,R=[];for(let M=0;M<b;M++)R[M]=D.i(M)<<1|D.i(M-1)>>>31;return new f(R,D.h)}function Re(D,b){const R=b>>5;b%=32;const M=D.g.length-R,O=[];for(let L=0;L<M;L++)O[L]=b>0?D.i(L+R)>>>b|D.i(L+R+1)<<32-b:D.i(L+R);return new f(O,D.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,m0=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=y,f.fromString=E,$r=f}).apply(typeof eE<"u"?eE:typeof self<"u"?self:typeof window<"u"?window:{});var Gc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var p0,Ol,g0,rh,Dm,y0,_0,v0;(function(){var r,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Gc=="object"&&Gc];for(var p=0;p<c.length;++p){var v=c[p];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=n(this);function o(c,p){if(p)e:{var v=s;c=c.split(".");for(var A=0;A<c.length-1;A++){var P=c[A];if(!(P in v))break e;v=v[P]}c=c[c.length-1],A=v[c],p=p(A),p!=A&&p!=null&&e(v,c,{configurable:!0,writable:!0,value:p})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(p){var v=[],A;for(A in p)Object.prototype.hasOwnProperty.call(p,A)&&v.push([A,p[A]]);return v}});var u=u||{},f=this||self;function m(c){var p=typeof c;return p=="object"&&c!=null||p=="function"}function g(c,p,v){return c.call.apply(c.bind,arguments)}function y(c,p,v){return y=g,y.apply(null,arguments)}function E(c,p){var v=Array.prototype.slice.call(arguments,1);return function(){var A=v.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function S(c,p){function v(){}v.prototype=p.prototype,c.Z=p.prototype,c.prototype=new v,c.prototype.constructor=c,c.Ob=function(A,P,j){for(var ie=Array(arguments.length-2),Se=2;Se<arguments.length;Se++)ie[Se-2]=arguments[Se];return p.prototype[P].apply(A,ie)}}var w=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function U(c){const p=c.length;if(p>0){const v=Array(p);for(let A=0;A<p;A++)v[A]=c[A];return v}return[]}function J(c,p){for(let A=1;A<arguments.length;A++){const P=arguments[A];var v=typeof P;if(v=v!="object"?v:P?Array.isArray(P)?"array":v:"null",v=="array"||v=="object"&&typeof P.length=="number"){v=c.length||0;const j=P.length||0;c.length=v+j;for(let ie=0;ie<j;ie++)c[v+ie]=P[ie]}else c.push(P)}}class X{constructor(p,v){this.i=p,this.j=v,this.h=0,this.g=null}get(){let p;return this.h>0?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function K(c){f.setTimeout(()=>{throw c},0)}function ne(){var c=D;let p=null;return c.g&&(p=c.g,c.g=c.g.next,c.g||(c.h=null),p.next=null),p}class ee{constructor(){this.h=this.g=null}add(p,v){const A=re.get();A.set(p,v),this.h?this.h.next=A:this.g=A,this.h=A}}var re=new X(()=>new Ce,c=>c.reset());class Ce{constructor(){this.next=this.g=this.h=null}set(p,v){this.h=p,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Ie,Re=!1,D=new ee,b=()=>{const c=Promise.resolve(void 0);Ie=()=>{c.then(R)}};function R(){for(var c;c=ne();){try{c.h.call(c.g)}catch(v){K(v)}var p=re;p.j(c),p.h<100&&(p.h++,c.next=p.g,p.g=c)}Re=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(c,p){this.type=c,this.g=this.target=p,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var c=!1,p=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};f.addEventListener("test",v,p),f.removeEventListener("test",v,p)}catch{}return c})();function C(c){return/^[\s\xa0]*$/.test(c)}function rt(c,p){O.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,p)}S(rt,O),rt.prototype.init=function(c,p){const v=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=p,p=c.relatedTarget,p||(v=="mouseover"?p=c.fromElement:v=="mouseout"&&(p=c.toElement)),this.relatedTarget=p,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&rt.Z.h.call(this)},rt.prototype.h=function(){rt.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Dt="closure_listenable_"+(Math.random()*1e6|0),G=0;function se(c,p,v,A,P){this.listener=c,this.proxy=null,this.src=p,this.type=v,this.capture=!!A,this.ha=P,this.key=++G,this.da=this.fa=!1}function me(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function ze(c,p,v){for(const A in c)p.call(v,c[A],A,c)}function Ge(c,p){for(const v in c)p.call(void 0,c[v],v,c)}function V(c){const p={};for(const v in c)p[v]=c[v];return p}const $="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ae(c,p){let v,A;for(let P=1;P<arguments.length;P++){A=arguments[P];for(v in A)c[v]=A[v];for(let j=0;j<$.length;j++)v=$[j],Object.prototype.hasOwnProperty.call(A,v)&&(c[v]=A[v])}}function ue(c){this.src=c,this.g={},this.h=0}ue.prototype.add=function(c,p,v,A,P){const j=c.toString();c=this.g[j],c||(c=this.g[j]=[],this.h++);const ie=be(c,p,A,P);return ie>-1?(p=c[ie],v||(p.fa=!1)):(p=new se(p,this.src,j,!!A,P),p.fa=v,c.push(p)),p};function _e(c,p){const v=p.type;if(v in c.g){var A=c.g[v],P=Array.prototype.indexOf.call(A,p,void 0),j;(j=P>=0)&&Array.prototype.splice.call(A,P,1),j&&(me(p),c.g[v].length==0&&(delete c.g[v],c.h--))}}function be(c,p,v,A){for(let P=0;P<c.length;++P){const j=c[P];if(!j.da&&j.listener==p&&j.capture==!!v&&j.ha==A)return P}return-1}var Ue="closure_lm_"+(Math.random()*1e6|0),Nt={};function st(c,p,v,A,P){if(Array.isArray(p)){for(let j=0;j<p.length;j++)st(c,p[j],v,A,P);return null}return v=Ao(v),c&&c[Dt]?c.J(p,v,m(A)?!!A.capture:!1,P):os(c,p,v,!1,A,P)}function os(c,p,v,A,P,j){if(!p)throw Error("Invalid event type");const ie=m(P)?!!P.capture:!!P;let Se=ls(c);if(Se||(c[Ue]=Se=new ue(c)),v=Se.add(p,v,A,ie,j),v.proxy)return v;if(A=ea(),v.proxy=A,A.src=c,A.listener=v,c.addEventListener)L||(P=ie),P===void 0&&(P=!1),c.addEventListener(p.toString(),A,P);else if(c.attachEvent)c.attachEvent(ni(p.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return v}function ea(){function c(v){return p.call(c.src,c.listener,v)}const p=To;return c}function ta(c,p,v,A,P){if(Array.isArray(p))for(var j=0;j<p.length;j++)ta(c,p[j],v,A,P);else A=m(A)?!!A.capture:!!A,v=Ao(v),c&&c[Dt]?(c=c.i,j=String(p).toString(),j in c.g&&(p=c.g[j],v=be(p,v,A,P),v>-1&&(me(p[v]),Array.prototype.splice.call(p,v,1),p.length==0&&(delete c.g[j],c.h--)))):c&&(c=ls(c))&&(p=c.g[p.toString()],c=-1,p&&(c=be(p,v,A,P)),(v=c>-1?p[c]:null)&&na(v))}function na(c){if(typeof c!="number"&&c&&!c.da){var p=c.src;if(p&&p[Dt])_e(p.i,c);else{var v=c.type,A=c.proxy;p.removeEventListener?p.removeEventListener(v,A,c.capture):p.detachEvent?p.detachEvent(ni(v),A):p.addListener&&p.removeListener&&p.removeListener(A),(v=ls(p))?(_e(v,c),v.h==0&&(v.src=null,p[Ue]=null)):me(c)}}}function ni(c){return c in Nt?Nt[c]:Nt[c]="on"+c}function To(c,p){if(c.da)c=!0;else{p=new rt(p,this);const v=c.listener,A=c.ha||c.src;c.fa&&na(c),c=v.call(A,p)}return c}function ls(c){return c=c[Ue],c instanceof ue?c:null}var So="__closure_events_fn_"+(Math.random()*1e9>>>0);function Ao(c){return typeof c=="function"?c:(c[So]||(c[So]=function(p){return c.handleEvent(p)}),c[So])}function yt(){M.call(this),this.i=new ue(this),this.M=this,this.G=null}S(yt,M),yt.prototype[Dt]=!0,yt.prototype.removeEventListener=function(c,p,v,A){ta(this,c,p,v,A)};function Ot(c,p){var v,A=c.G;if(A)for(v=[];A;A=A.G)v.push(A);if(c=c.M,A=p.type||p,typeof p=="string")p=new O(p,c);else if(p instanceof O)p.target=p.target||c;else{var P=p;p=new O(A,c),ae(p,P)}P=!0;let j,ie;if(v)for(ie=v.length-1;ie>=0;ie--)j=p.g=v[ie],P=lr(j,A,!0,p)&&P;if(j=p.g=c,P=lr(j,A,!0,p)&&P,P=lr(j,A,!1,p)&&P,v)for(ie=0;ie<v.length;ie++)j=p.g=v[ie],P=lr(j,A,!1,p)&&P}yt.prototype.N=function(){if(yt.Z.N.call(this),this.i){var c=this.i;for(const p in c.g){const v=c.g[p];for(let A=0;A<v.length;A++)me(v[A]);delete c.g[p],c.h--}}this.G=null},yt.prototype.J=function(c,p,v,A){return this.i.add(String(c),p,!1,v,A)},yt.prototype.K=function(c,p,v,A){return this.i.add(String(c),p,!0,v,A)};function lr(c,p,v,A){if(p=c.i.g[String(p)],!p)return!0;p=p.concat();let P=!0;for(let j=0;j<p.length;++j){const ie=p[j];if(ie&&!ie.da&&ie.capture==v){const Se=ie.listener,dt=ie.ha||ie.src;ie.fa&&_e(c.i,ie),P=Se.call(dt,A)!==!1&&P}}return P&&!A.defaultPrevented}function Wh(c,p){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=y(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(p)>2147483647?-1:f.setTimeout(c,p||0)}function mu(c){c.g=Wh(()=>{c.g=null,c.i&&(c.i=!1,mu(c))},c.l);const p=c.h;c.h=null,c.m.apply(null,p)}class en extends M{constructor(p,v){super(),this.m=p,this.l=v,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:mu(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function us(c){M.call(this),this.h=c,this.g={}}S(us,M);var bo=[];function wo(c){ze(c.g,function(p,v){this.g.hasOwnProperty(v)&&na(p)},c),c.g={}}us.prototype.N=function(){us.Z.N.call(this),wo(this)},us.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ur=f.JSON.stringify,Zh=f.JSON.parse,pu=class{stringify(c){return f.JSON.stringify(c,void 0)}parse(c){return f.JSON.parse(c,void 0)}};function gu(){}function yu(){}var kn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function zt(){O.call(this,"d")}S(zt,O);function Sn(){O.call(this,"c")}S(Sn,O);var ft={},_u=null;function ia(){return _u=_u||new yt}ft.Ia="serverreachability";function vu(c){O.call(this,ft.Ia,c)}S(vu,O);function ii(c){const p=ia();Ot(p,new vu(p))}ft.STAT_EVENT="statevent";function cs(c,p){O.call(this,ft.STAT_EVENT,c),this.stat=p}S(cs,O);function _t(c){const p=ia();Ot(p,new cs(p,c))}ft.Ja="timingevent";function ri(c,p){O.call(this,ft.Ja,c),this.size=p}S(ri,O);function si(c,p){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){c()},p)}function zn(){this.g=!0}zn.prototype.ua=function(){this.g=!1};function ef(c,p,v,A,P,j){c.info(function(){if(c.g)if(j){var ie="",Se=j.split("&");for(let qe=0;qe<Se.length;qe++){var dt=Se[qe].split("=");if(dt.length>1){const at=dt[0];dt=dt[1];const Rn=at.split("_");ie=Rn.length>=2&&Rn[1]=="type"?ie+(at+"="+dt+"&"):ie+(at+"=redacted&")}}}else ie=null;else ie=j;return"XMLHTTP REQ ("+A+") [attempt "+P+"]: "+p+`
`+v+`
`+ie})}function Eu(c,p,v,A,P,j,ie){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+P+"]: "+p+`
`+v+`
`+j+" "+ie})}function ai(c,p,v,A){c.info(function(){return"XMLHTTP TEXT ("+p+"): "+tf(c,v)+(A?" "+A:"")})}function hs(c,p){c.info(function(){return"TIMEOUT: "+p})}zn.prototype.info=function(){};function tf(c,p){if(!c.g)return p;if(!p)return null;try{const j=JSON.parse(p);if(j){for(c=0;c<j.length;c++)if(Array.isArray(j[c])){var v=j[c];if(!(v.length<2)){var A=v[1];if(Array.isArray(A)&&!(A.length<1)){var P=A[0];if(P!="noop"&&P!="stop"&&P!="close")for(let ie=1;ie<A.length;ie++)A[ie]=""}}}}return ur(j)}catch{return p}}var fs={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ro={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Co;function ds(){}S(ds,gu),ds.prototype.g=function(){return new XMLHttpRequest},Co=new ds;function Mi(c){return encodeURIComponent(String(c))}function Tu(c){var p=1;c=c.split(":");const v=[];for(;p>0&&c.length;)v.push(c.shift()),p--;return c.length&&v.push(c.join(":")),v}function Bn(c,p,v,A){this.j=c,this.i=p,this.l=v,this.S=A||1,this.V=new us(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new jn}function jn(){this.i=null,this.g="",this.h=!1}var vt={},Lt={};function oi(c,p,v){c.M=1,c.A=ms(Tt(p)),c.u=v,c.R=!0,ra(c,null)}function ra(c,p){c.F=Date.now(),li(c),c.B=Tt(c.A);var v=c.B,A=c.S;Array.isArray(A)||(A=[String(A)]),la(v.i,"t",A),c.C=0,v=c.j.L,c.h=new jn,c.g=Pu(c.j,v?p:null,!c.u),c.P>0&&(c.O=new en(y(c.Y,c,c.g),c.P)),p=c.V,v=c.g,A=c.ba;var P="readystatechange";Array.isArray(P)||(P&&(bo[0]=P.toString()),P=bo);for(let j=0;j<P.length;j++){const ie=st(v,P[j],A||p.handleEvent,!1,p.h||p);if(!ie)break;p.g[ie.key]=ie}p=c.J?V(c.J):{},c.u?(c.v||(c.v="POST"),p["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,p)):(c.v="GET",c.g.ea(c.B,c.v,null,p)),ii(),ef(c.i,c.v,c.B,c.l,c.S,c.u)}Bn.prototype.ba=function(c){c=c.target;const p=this.O;p&&Fn(c)==3?p.j():this.Y(c)},Bn.prototype.Y=function(c){try{if(c==this.g)e:{const Se=Fn(this.g),dt=this.g.ya(),qe=this.g.ca();if(!(Se<3)&&(Se!=3||this.g&&(this.h.h||this.g.la()||Bt(this.g)))){this.K||Se!=4||dt==7||(dt==8||qe<=0?ii(3):ii(2)),ui(this);var p=this.g.ca();this.X=p;var v=nf(this);if(this.o=p==200,Eu(this.i,this.v,this.B,this.l,this.S,Se,p),this.o){if(this.U&&!this.L){t:{if(this.g){var A,P=this.g;if((A=P.g?P.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(A)){var j=A;break t}}j=null}if(c=j)ai(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ci(this,c);else{this.o=!1,this.m=3,_t(12),fn(this),An(this);break e}}if(this.R){c=!0;let at;for(;!this.K&&this.C<v.length;)if(at=Au(this,v),at==Lt){Se==4&&(this.m=4,_t(14),c=!1),ai(this.i,this.l,null,"[Incomplete Response]");break}else if(at==vt){this.m=4,_t(15),ai(this.i,this.l,v,"[Invalid Chunk]"),c=!1;break}else ai(this.i,this.l,at,null),ci(this,at);if(Su(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Se!=4||v.length!=0||this.h.h||(this.m=1,_t(16),c=!1),this.o=this.o&&c,!c)ai(this.i,this.l,v,"[Invalid Chunked Response]"),fn(this),An(this);else if(v.length>0&&!this.W){this.W=!0;var ie=this.j;ie.g==this&&ie.aa&&!ie.P&&(ie.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),qo(ie),ie.P=!0,_t(11))}}else ai(this.i,this.l,v,null),ci(this,v);Se==4&&fn(this),this.o&&!this.K&&(Se==4?Vu(this.j,this):(this.o=!1,li(this)))}else Li(this.g),p==400&&v.indexOf("Unknown SID")>0?(this.m=3,_t(12)):(this.m=0,_t(13)),fn(this),An(this)}}}catch{}};function nf(c){if(!Su(c))return c.g.la();const p=Bt(c.g);if(p==="")return"";let v="";const A=p.length,P=Fn(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return fn(c),An(c),"";c.h.i=new f.TextDecoder}for(let j=0;j<A;j++)c.h.h=!0,v+=c.h.i.decode(p[j],{stream:!(P&&j==A-1)});return p.length=0,c.h.g+=v,c.C=0,c.h.g}function Su(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function Au(c,p){var v=c.C,A=p.indexOf(`
`,v);return A==-1?Lt:(v=Number(p.substring(v,A)),isNaN(v)?vt:(A+=1,A+v>p.length?Lt:(p=p.slice(A,A+v),c.C=A+v,p)))}Bn.prototype.cancel=function(){this.K=!0,fn(this)};function li(c){c.T=Date.now()+c.H,sa(c,c.H)}function sa(c,p){if(c.D!=null)throw Error("WatchDog timer not null");c.D=si(y(c.aa,c),p)}function ui(c){c.D&&(f.clearTimeout(c.D),c.D=null)}Bn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(hs(this.i,this.B),this.M!=2&&(ii(),_t(17)),fn(this),this.m=2,An(this)):sa(this,this.T-c)};function An(c){c.j.I==0||c.K||Vu(c.j,c)}function fn(c){ui(c);var p=c.O;p&&typeof p.dispose=="function"&&p.dispose(),c.O=null,wo(c.V),c.g&&(p=c.g,c.g=null,p.abort(),p.dispose())}function ci(c,p){try{var v=c.j;if(v.I!=0&&(v.g==c||fi(v.h,c))){if(!c.L&&fi(v.h,c)&&v.I==3){try{var A=v.Ba.g.parse(p)}catch{A=null}if(Array.isArray(A)&&A.length==3){var P=A;if(P[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<c.F)da(v),yr(v);else break e;Ts(v),_t(18)}}else v.xa=P[1],0<v.xa-v.K&&P[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=si(y(v.Va,v),6e3));hi(v.h)<=1&&v.ta&&(v.ta=void 0)}else _i(v,11)}else if((c.L||v.g==c)&&da(v),!C(p))for(P=v.Ba.g.parse(p),p=0;p<P.length;p++){let qe=P[p];const at=qe[0];if(!(at<=v.K))if(v.K=at,qe=qe[1],v.I==2)if(qe[0]=="c"){v.M=qe[1],v.ba=qe[2];const Rn=qe[3];Rn!=null&&(v.ka=Rn,v.j.info("VER="+v.ka));const vi=qe[4];vi!=null&&(v.za=vi,v.j.info("SVER="+v.za));const Gn=qe[5];Gn!=null&&typeof Gn=="number"&&Gn>0&&(A=1.5*Gn,v.O=A,v.j.info("backChannelRequestTimeoutMs_="+A)),A=v;const Kn=c.g;if(Kn){const Ss=Kn.g?Kn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ss){var j=A.h;j.g||Ss.indexOf("spdy")==-1&&Ss.indexOf("quic")==-1&&Ss.indexOf("h2")==-1||(j.j=j.l,j.g=new Set,j.h&&(No(j,j.h),j.h=null))}if(A.G){const ma=Kn.g?Kn.g.getResponseHeader("X-HTTP-Session-Id"):null;ma&&(A.wa=ma,Ke(A.J,A.G,ma))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-c.F,v.j.info("Handshake RTT: "+v.T+"ms")),A=v;var ie=c;if(A.na=Lu(A,A.L?A.ba:null,A.W),ie.L){Oo(A.h,ie);var Se=ie,dt=A.O;dt&&(Se.H=dt),Se.D&&(ui(Se),li(Se)),A.g=ie}else Nu(A);v.i.length>0&&yi(v)}else qe[0]!="stop"&&qe[0]!="close"||_i(v,7);else v.I==3&&(qe[0]=="stop"||qe[0]=="close"?qe[0]=="stop"?_i(v,7):Bo(v):qe[0]!="noop"&&v.l&&v.l.qa(qe),v.A=0)}}ii(4)}catch{}}var Et=class{constructor(c,p){this.g=c,this.map=p}};function Io(c){this.l=c||10,f.PerformanceNavigationTiming?(c=f.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Do(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function hi(c){return c.h?1:c.g?c.g.size:0}function fi(c,p){return c.h?c.h==p:c.g?c.g.has(p):!1}function No(c,p){c.g?c.g.add(p):c.h=p}function Oo(c,p){c.h&&c.h==p?c.h=null:c.g&&c.g.has(p)&&c.g.delete(p)}Io.prototype.cancel=function(){if(this.i=Vo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Vo(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let p=c.i;for(const v of c.g.values())p=p.concat(v.G);return p}return U(c.i)}var bu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function aa(c,p){if(c){c=c.split("&");for(let v=0;v<c.length;v++){const A=c[v].indexOf("=");let P,j=null;A>=0?(P=c[v].substring(0,A),j=c[v].substring(A+1)):P=c[v],p(P,j?decodeURIComponent(j.replace(/\+/g," ")):"")}}}function dn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let p;c instanceof dn?(this.l=c.l,Pt(this,c.j),this.o=c.o,this.g=c.g,cr(this,c.u),this.h=c.h,Mo(this,Iu(c.i)),this.m=c.m):c&&(p=String(c).match(bu))?(this.l=!1,Pt(this,p[1]||"",!0),this.o=di(p[2]||""),this.g=di(p[3]||"",!0),cr(this,p[4]),this.h=di(p[5]||"",!0),Mo(this,p[6]||"",!0),this.m=di(p[7]||"")):(this.l=!1,this.i=new fr(null,this.l))}dn.prototype.toString=function(){const c=[];var p=this.j;p&&c.push(ps(p,oa,!0),":");var v=this.g;return(v||p=="file")&&(c.push("//"),(p=this.o)&&c.push(ps(p,oa,!0),"@"),c.push(Mi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&c.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(ps(v,v.charAt(0)=="/"?xo:wu,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",ps(v,Ru)),c.join("")},dn.prototype.resolve=function(c){const p=Tt(this);let v=!!c.j;v?Pt(p,c.j):v=!!c.o,v?p.o=c.o:v=!!c.g,v?p.g=c.g:v=c.u!=null;var A=c.h;if(v)cr(p,c.u);else if(v=!!c.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var P=p.h.lastIndexOf("/");P!=-1&&(A=p.h.slice(0,P+1)+A)}if(P=A,P==".."||P==".")A="";else if(P.indexOf("./")!=-1||P.indexOf("/.")!=-1){A=P.lastIndexOf("/",0)==0,P=P.split("/");const j=[];for(let ie=0;ie<P.length;){const Se=P[ie++];Se=="."?A&&ie==P.length&&j.push(""):Se==".."?((j.length>1||j.length==1&&j[0]!="")&&j.pop(),A&&ie==P.length&&j.push("")):(j.push(Se),A=!0)}A=j.join("/")}else A=P}return v?p.h=A:v=c.i.toString()!=="",v?Mo(p,Iu(c.i)):v=!!c.m,v&&(p.m=c.m),p};function Tt(c){return new dn(c)}function Pt(c,p,v){c.j=v?di(p,!0):p,c.j&&(c.j=c.j.replace(/:$/,""))}function cr(c,p){if(p){if(p=Number(p),isNaN(p)||p<0)throw Error("Bad port number "+p);c.u=p}else c.u=null}function Mo(c,p,v){p instanceof fr?(c.i=p,ua(c.i,c.l)):(v||(p=ps(p,hr)),c.i=new fr(p,c.l))}function Ke(c,p,v){c.i.set(p,v)}function ms(c){return Ke(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function di(c,p){return c?p?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function ps(c,p,v){return typeof c=="string"?(c=encodeURI(c).replace(p,rn),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function rn(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var oa=/[#\/\?@]/g,wu=/[#\?:]/g,xo=/[#\?]/g,hr=/[#\?@]/g,Ru=/#/g;function fr(c,p){this.h=this.g=null,this.i=c||null,this.j=!!p}function sn(c){c.g||(c.g=new Map,c.h=0,c.i&&aa(c.i,function(p,v){c.add(decodeURIComponent(p.replace(/\+/g," ")),v)}))}r=fr.prototype,r.add=function(c,p){sn(this),this.i=null,c=dr(this,c);let v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(p),this.h+=1,this};function Cu(c,p){sn(c),p=dr(c,p),c.g.has(p)&&(c.i=null,c.h-=c.g.get(p).length,c.g.delete(p))}function Lo(c,p){return sn(c),p=dr(c,p),c.g.has(p)}r.forEach=function(c,p){sn(this),this.g.forEach(function(v,A){v.forEach(function(P){c.call(p,P,A,this)},this)},this)};function Po(c,p){sn(c);let v=[];if(typeof p=="string")Lo(c,p)&&(v=v.concat(c.g.get(dr(c,p))));else for(c=Array.from(c.g.values()),p=0;p<c.length;p++)v=v.concat(c[p]);return v}r.set=function(c,p){return sn(this),this.i=null,c=dr(this,c),Lo(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[p]),this.h+=1,this},r.get=function(c,p){return c?(c=Po(this,c),c.length>0?String(c[0]):p):p};function la(c,p,v){Cu(c,p),v.length>0&&(c.i=null,c.g.set(dr(c,p),U(v)),c.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],p=Array.from(this.g.keys());for(let A=0;A<p.length;A++){var v=p[A];const P=Mi(v);v=Po(this,v);for(let j=0;j<v.length;j++){let ie=P;v[j]!==""&&(ie+="="+Mi(v[j])),c.push(ie)}}return this.i=c.join("&")};function Iu(c){const p=new fr;return p.i=c.i,c.g&&(p.g=new Map(c.g),p.h=c.h),p}function dr(c,p){return p=String(p),c.j&&(p=p.toLowerCase()),p}function ua(c,p){p&&!c.j&&(sn(c),c.i=null,c.g.forEach(function(v,A){const P=A.toLowerCase();A!=P&&(Cu(this,A),la(this,P,v))},c)),c.j=p}function qn(c,p){const v=new zn;if(f.Image){const A=new Image;A.onload=E(bn,v,"TestLoadImage: loaded",!0,p,A),A.onerror=E(bn,v,"TestLoadImage: error",!1,p,A),A.onabort=E(bn,v,"TestLoadImage: abort",!1,p,A),A.ontimeout=E(bn,v,"TestLoadImage: timeout",!1,p,A),f.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else p(!1)}function Uo(c,p){const v=new zn,A=new AbortController,P=setTimeout(()=>{A.abort(),bn(v,"TestPingServer: timeout",!1,p)},1e4);fetch(c,{signal:A.signal}).then(j=>{clearTimeout(P),j.ok?bn(v,"TestPingServer: ok",!0,p):bn(v,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(P),bn(v,"TestPingServer: error",!1,p)})}function bn(c,p,v,A,P){try{P&&(P.onload=null,P.onerror=null,P.onabort=null,P.ontimeout=null),A(v)}catch{}}function mr(){this.g=new pu}function mi(c){this.i=c.Sb||null,this.h=c.ab||!1}S(mi,gu),mi.prototype.g=function(){return new gs(this.i,this.h)};function gs(c,p){yt.call(this),this.H=c,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(gs,yt),r=gs.prototype,r.open=function(c,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=p,this.readyState=1,Hn(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const p={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(p.body=c),(this.H||f).fetch(new Request(this.D,p)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,pr(this)),this.readyState=0},r.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Hn(this)),this.g&&(this.readyState=3,Hn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ca(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function ca(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}r.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var p=c.value?c.value:new Uint8Array(0);(p=this.B.decode(p,{stream:!c.done}))&&(this.response=this.responseText+=p)}c.done?pr(this):Hn(this),this.readyState==3&&ca(this)}},r.Oa=function(c){this.g&&(this.response=this.responseText=c,pr(this))},r.Na=function(c){this.g&&(this.response=c,pr(this))},r.ga=function(){this.g&&pr(this)};function pr(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Hn(c)}r.setRequestHeader=function(c,p){this.A.append(c,p)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],p=this.h.entries();for(var v=p.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=p.next();return c.join(`\r
`)};function Hn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(gs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function wn(c){let p="";return ze(c,function(v,A){p+=A,p+=":",p+=v,p+=`\r
`}),p}function ys(c,p,v){e:{for(A in v){var A=!1;break e}A=!0}A||(v=wn(v),typeof c=="string"?v!=null&&Mi(v):Ke(c,p,v))}function Xe(c){yt.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S(Xe,yt);var pi=/^https?$/i,ko=["POST","PUT"];r=Xe.prototype,r.Fa=function(c){this.H=c},r.ea=function(c,p,v,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);p=p?p.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Co.g(),this.g.onreadystatechange=w(y(this.Ca,this));try{this.B=!0,this.g.open(p,String(c),!0),this.B=!1}catch(j){_s(this,j);return}if(c=v||"",v=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var P in A)v.set(P,A[P]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const j of A.keys())v.set(j,A.get(j));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(v.keys()).find(j=>j.toLowerCase()=="content-type"),P=f.FormData&&c instanceof f.FormData,!(Array.prototype.indexOf.call(ko,p,void 0)>=0)||A||P||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[j,ie]of v)this.g.setRequestHeader(j,ie);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(j){_s(this,j)}};function _s(c,p){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=p,c.o=5,zo(c),xi(c)}function zo(c){c.A||(c.A=!0,Ot(c,"complete"),Ot(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Ot(this,"complete"),Ot(this,"abort"),xi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),xi(this,!0)),Xe.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?vs(this):this.Xa())},r.Xa=function(){vs(this)};function vs(c){if(c.h&&typeof u<"u"){if(c.v&&Fn(c)==4)setTimeout(c.Ca.bind(c),0);else if(Ot(c,"readystatechange"),Fn(c)==4){c.h=!1;try{const j=c.ca();e:switch(j){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var v;if(!(v=p)){var A;if(A=j===0){let ie=String(c.D).match(bu)[1]||null;!ie&&f.self&&f.self.location&&(ie=f.self.location.protocol.slice(0,-1)),A=!pi.test(ie?ie.toLowerCase():"")}v=A}if(v)Ot(c,"complete"),Ot(c,"success");else{c.o=6;try{var P=Fn(c)>2?c.g.statusText:""}catch{P=""}c.l=P+" ["+c.ca()+"]",zo(c)}}finally{xi(c)}}}}function xi(c,p){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const v=c.g;c.g=null,p||Ot(c,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Fn(c){return c.g?c.g.readyState:0}r.ca=function(){try{return Fn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(c){if(this.g){var p=this.g.responseText;return c&&p.indexOf(c)==0&&(p=p.substring(c.length)),Zh(p)}};function Bt(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Li(c){const p={};c=(c.g&&Fn(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(C(c[A]))continue;var v=Tu(c[A]);const P=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const j=p[P]||[];p[P]=j,j.push(v)}Ge(p,function(A){return A.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function gi(c,p,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||p}function gr(c){this.za=0,this.i=[],this.j=new zn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=gi("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=gi("baseRetryDelayMs",5e3,c),this.Za=gi("retryDelaySeedMs",1e4,c),this.Ta=gi("forwardChannelMaxRetries",2,c),this.va=gi("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new Io(c&&c.concurrentRequestLimit),this.Ba=new mr,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=gr.prototype,r.ka=8,r.I=1,r.connect=function(c,p,v,A){_t(0),this.W=c,this.H=p||{},v&&A!==void 0&&(this.H.OSID=v,this.H.OAID=A),this.F=this.X,this.J=Lu(this,null,this.W),yi(this)};function Bo(c){if(ha(c),c.I==3){var p=c.V++,v=Tt(c.J);if(Ke(v,"SID",c.M),Ke(v,"RID",p),Ke(v,"TYPE","terminate"),Es(c,v),p=new Bn(c,c.j,p),p.M=2,p.A=ms(Tt(v)),v=!1,f.navigator&&f.navigator.sendBeacon)try{v=f.navigator.sendBeacon(p.A.toString(),"")}catch{}!v&&f.Image&&(new Image().src=p.A,v=!0),v||(p.g=Pu(p.j,null),p.g.ea(p.A)),p.F=Date.now(),li(p)}xu(c)}function yr(c){c.g&&(qo(c),c.g.cancel(),c.g=null)}function ha(c){yr(c),c.v&&(f.clearTimeout(c.v),c.v=null),da(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&f.clearTimeout(c.m),c.m=null)}function yi(c){if(!Do(c.h)&&!c.m){c.m=!0;var p=c.Ea;Ie||b(),Re||(Ie(),Re=!0),D.add(p,c),c.D=0}}function fa(c,p){return hi(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=p.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=si(y(c.Ea,c,p),Mu(c,c.D)),c.D++,!0)}r.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const P=new Bn(this,this.j,c);let j=this.o;if(this.U&&(j?(j=V(j),ae(j,this.U)):j=this.U),this.u!==null||this.R||(P.J=j,j=null),this.S)e:{for(var p=0,v=0;v<this.i.length;v++){t:{var A=this.i[v];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(p+=A,p>4096){p=v;break e}if(p===4096||v===this.i.length-1){p=v+1;break e}}p=1e3}else p=1e3;p=Du(this,P,p),v=Tt(this.J),Ke(v,"RID",c),Ke(v,"CVER",22),this.G&&Ke(v,"X-HTTP-Session-Id",this.G),Es(this,v),j&&(this.R?p="headers="+Mi(wn(j))+"&"+p:this.u&&ys(v,this.u,j)),No(this.h,P),this.Ra&&Ke(v,"TYPE","init"),this.S?(Ke(v,"$req",p),Ke(v,"SID","null"),P.U=!0,oi(P,v,null)):oi(P,v,p),this.I=2}}else this.I==3&&(c?jo(this,c):this.i.length==0||Do(this.h)||jo(this))};function jo(c,p){var v;p?v=p.l:v=c.V++;const A=Tt(c.J);Ke(A,"SID",c.M),Ke(A,"RID",v),Ke(A,"AID",c.K),Es(c,A),c.u&&c.o&&ys(A,c.u,c.o),v=new Bn(c,c.j,v,c.D+1),c.u===null&&(v.J=c.o),p&&(c.i=p.G.concat(c.i)),p=Du(c,v,1e3),v.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),No(c.h,v),oi(v,A,p)}function Es(c,p){c.H&&ze(c.H,function(v,A){Ke(p,A,v)}),c.l&&ze({},function(v,A){Ke(p,A,v)})}function Du(c,p,v){v=Math.min(c.i.length,v);const A=c.l?y(c.l.Ka,c.l,c):null;e:{var P=c.i;let Se=-1;for(;;){const dt=["count="+v];Se==-1?v>0?(Se=P[0].g,dt.push("ofs="+Se)):Se=0:dt.push("ofs="+Se);let qe=!0;for(let at=0;at<v;at++){var j=P[at].g;const Rn=P[at].map;if(j-=Se,j<0)Se=Math.max(0,P[at].g-100),qe=!1;else try{j="req"+j+"_"||"";try{var ie=Rn instanceof Map?Rn:Object.entries(Rn);for(const[vi,Gn]of ie){let Kn=Gn;m(Gn)&&(Kn=ur(Gn)),dt.push(j+vi+"="+encodeURIComponent(Kn))}}catch(vi){throw dt.push(j+"type="+encodeURIComponent("_badmap")),vi}}catch{A&&A(Rn)}}if(qe){ie=dt.join("&");break e}}ie=void 0}return c=c.i.splice(0,v),p.G=c,ie}function Nu(c){if(!c.g&&!c.v){c.Y=1;var p=c.Da;Ie||b(),Re||(Ie(),Re=!0),D.add(p,c),c.A=0}}function Ts(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=si(y(c.Da,c),Mu(c,c.A)),c.A++,!0)}r.Da=function(){if(this.v=null,Ou(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=si(y(this.Wa,this),c)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,_t(10),yr(this),Ou(this))};function qo(c){c.B!=null&&(f.clearTimeout(c.B),c.B=null)}function Ou(c){c.g=new Bn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var p=Tt(c.na);Ke(p,"RID","rpc"),Ke(p,"SID",c.M),Ke(p,"AID",c.K),Ke(p,"CI",c.F?"0":"1"),!c.F&&c.ia&&Ke(p,"TO",c.ia),Ke(p,"TYPE","xmlhttp"),Es(c,p),c.u&&c.o&&ys(p,c.u,c.o),c.O&&(c.g.H=c.O);var v=c.g;c=c.ba,v.M=1,v.A=ms(Tt(p)),v.u=null,v.R=!0,ra(v,c)}r.Va=function(){this.C!=null&&(this.C=null,yr(this),Ts(this),_t(19))};function da(c){c.C!=null&&(f.clearTimeout(c.C),c.C=null)}function Vu(c,p){var v=null;if(c.g==p){da(c),qo(c),c.g=null;var A=2}else if(fi(c.h,p))v=p.G,Oo(c.h,p),A=1;else return;if(c.I!=0){if(p.o)if(A==1){v=p.u?p.u.length:0,p=Date.now()-p.F;var P=c.D;A=ia(),Ot(A,new ri(A,v)),yi(c)}else Nu(c);else if(P=p.m,P==3||P==0&&p.X>0||!(A==1&&fa(c,p)||A==2&&Ts(c)))switch(v&&v.length>0&&(p=c.h,p.i=p.i.concat(v)),P){case 1:_i(c,5);break;case 4:_i(c,10);break;case 3:_i(c,6);break;default:_i(c,2)}}}function Mu(c,p){let v=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(v*=2),v*p}function _i(c,p){if(c.j.info("Error code "+p),p==2){var v=y(c.bb,c),A=c.Ua;const P=!A;A=new dn(A||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Pt(A,"https"),ms(A),P?qn(A.toString(),v):Uo(A.toString(),v)}else _t(2);c.I=0,c.l&&c.l.pa(p),xu(c),ha(c)}r.bb=function(c){c?(this.j.info("Successfully pinged google.com"),_t(2)):(this.j.info("Failed to ping google.com"),_t(1))};function xu(c){if(c.I=0,c.ja=[],c.l){const p=Vo(c.h);(p.length!=0||c.i.length!=0)&&(J(c.ja,p),J(c.ja,c.i),c.h.i.length=0,U(c.i),c.i.length=0),c.l.oa()}}function Lu(c,p,v){var A=v instanceof dn?Tt(v):new dn(v);if(A.g!="")p&&(A.g=p+"."+A.g),cr(A,A.u);else{var P=f.location;A=P.protocol,p=p?p+"."+P.hostname:P.hostname,P=+P.port;const j=new dn(null);A&&Pt(j,A),p&&(j.g=p),P&&cr(j,P),v&&(j.h=v),A=j}return v=c.G,p=c.wa,v&&p&&Ke(A,v,p),Ke(A,"VER",c.ka),Es(c,A),A}function Pu(c,p,v){if(p&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return p=c.Aa&&!c.ma?new Xe(new mi({ab:v})):new Xe(c.ma),p.Fa(c.L),p}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Uu(){}r=Uu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function _r(){}_r.prototype.g=function(c,p){return new tn(c,p)};function tn(c,p){yt.call(this),this.g=new gr(p),this.l=c,this.h=p&&p.messageUrlParams||null,c=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(c?c["X-WebChannel-Content-Type"]=p.messageContentType:c={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.sa&&(c?c["X-WebChannel-Client-Profile"]=p.sa:c={"X-WebChannel-Client-Profile":p.sa}),this.g.U=c,(c=p&&p.Qb)&&!C(c)&&(this.g.u=c),this.A=p&&p.supportsCrossDomainXhr||!1,this.v=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!C(p)&&(this.g.G=p,c=this.h,c!==null&&p in c&&(c=this.h,p in c&&delete c[p])),this.j=new Pi(this)}S(tn,yt),tn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},tn.prototype.close=function(){Bo(this.g)},tn.prototype.o=function(c){var p=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.v&&(v={},v.__data__=ur(c),c=v);p.i.push(new Et(p.Ya++,c)),p.I==3&&yi(p)},tn.prototype.N=function(){this.g.l=null,delete this.j,Bo(this.g),delete this.g,tn.Z.N.call(this)};function ku(c){zt.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var p=c.__sm__;if(p){e:{for(const v in p){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,p=p!==null&&c in p?p[c]:void 0),this.data=p}else this.data=c}S(ku,zt);function zu(){Sn.call(this),this.status=1}S(zu,Sn);function Pi(c){this.g=c}S(Pi,Uu),Pi.prototype.ra=function(){Ot(this.g,"a")},Pi.prototype.qa=function(c){Ot(this.g,new ku(c))},Pi.prototype.pa=function(c){Ot(this.g,new zu)},Pi.prototype.oa=function(){Ot(this.g,"b")},_r.prototype.createWebChannel=_r.prototype.g,tn.prototype.send=tn.prototype.o,tn.prototype.open=tn.prototype.m,tn.prototype.close=tn.prototype.close,v0=function(){return new _r},_0=function(){return ia()},y0=ft,Dm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},fs.NO_ERROR=0,fs.TIMEOUT=8,fs.HTTP_ERROR=6,rh=fs,Ro.COMPLETE="complete",g0=Ro,yu.EventType=kn,kn.OPEN="a",kn.CLOSE="b",kn.ERROR="c",kn.MESSAGE="d",yt.prototype.listen=yt.prototype.J,Ol=yu,Xe.prototype.listenOnce=Xe.prototype.K,Xe.prototype.getLastError=Xe.prototype.Ha,Xe.prototype.getLastErrorCode=Xe.prototype.ya,Xe.prototype.getStatus=Xe.prototype.ca,Xe.prototype.getResponseJson=Xe.prototype.La,Xe.prototype.getResponseText=Xe.prototype.la,Xe.prototype.send=Xe.prototype.ea,Xe.prototype.setWithCredentials=Xe.prototype.Fa,p0=Xe}).apply(typeof Gc<"u"?Gc:typeof self<"u"?self:typeof window<"u"?window:{});class $t{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}$t.UNAUTHENTICATED=new $t(null),$t.GOOGLE_CREDENTIALS=new $t("google-credentials-uid"),$t.FIRST_PARTY=new $t("first-party-uid"),$t.MOCK_USER=new $t("mock-user");let go="12.8.0";function _2(r){go=r}const Ks=new ep("@firebase/firestore");function Fa(){return Ks.logLevel}function le(r,...e){if(Ks.logLevel<=Me.DEBUG){const n=e.map(hp);Ks.debug(`Firestore (${go}): ${r}`,...n)}}function sr(r,...e){if(Ks.logLevel<=Me.ERROR){const n=e.map(hp);Ks.error(`Firestore (${go}): ${r}`,...n)}}function io(r,...e){if(Ks.logLevel<=Me.WARN){const n=e.map(hp);Ks.warn(`Firestore (${go}): ${r}`,...n)}}function hp(r){if(typeof r=="string")return r;try{return(function(n){return JSON.stringify(n)})(r)}catch{return r}}function ye(r,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,E0(r,s,n)}function E0(r,e,n){let s=`FIRESTORE (${go}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw sr(s),new Error(s)}function Fe(r,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,r||E0(e,o,s)}function Te(r,e){return r}const W={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class oe extends or{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Bs{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class T0{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class v2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n($t.UNAUTHENTICATED)))}shutdown(){}}class E2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class T2{constructor(e){this.t=e,this.currentUser=$t.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Fe(this.o===void 0,42304);let s=this.i;const o=g=>this.i!==s?(s=this.i,n(g)):Promise.resolve();let u=new Bs;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Bs,e.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const g=u;e.enqueueRetryable((async()=>{await g.promise,await o(this.currentUser)}))},m=g=>{le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((g=>m(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?m(g):(le("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Bs)}}),0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Fe(typeof s.accessToken=="string",31837,{l:s}),new T0(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Fe(e===null||typeof e=="string",2055,{h:e}),new $t(e)}}class S2{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=$t.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class A2{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new S2(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n($t.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class tE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class b2{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ln(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Fe(this.o===void 0,3512);const s=u=>{u.error!=null&&le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,le("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>s(u)))};const o=u=>{le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new tE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Fe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new tE(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function w2(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}class fp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=w2(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function xe(r,e){return r<e?-1:r>e?1:0}function Nm(r,e){const n=Math.min(r.length,e.length);for(let s=0;s<n;s++){const o=r.charAt(s),u=e.charAt(s);if(o!==u)return dm(o)===dm(u)?xe(o,u):dm(o)?1:-1}return xe(r.length,e.length)}const R2=55296,C2=57343;function dm(r){const e=r.charCodeAt(0);return e>=R2&&e<=C2}function ro(r,e,n){return r.length===e.length&&r.every(((s,o)=>n(s,e[o])))}const nE="__name__";class bi{constructor(e,n,s){n===void 0?n=0:n>e.length&&ye(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&ye(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return bi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof bi?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=bi.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return xe(e.length,n.length)}static compareSegments(e,n){const s=bi.isNumericId(e),o=bi.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?bi.extractNumericId(e).compare(bi.extractNumericId(n)):Nm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return $r.fromString(e.substring(4,e.length-2))}}class et extends bi{construct(e,n,s){return new et(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new oe(W.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new et(n)}static emptyPath(){return new et([])}}const I2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Kt extends bi{construct(e,n,s){return new Kt(e,n,s)}static isValidIdentifier(e){return I2.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Kt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===nE}static keyField(){return new Kt([nE])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new oe(W.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new oe(W.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new oe(W.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=g,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new oe(W.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Kt(n)}static emptyPath(){return new Kt([])}}class de{constructor(e){this.path=e}static fromPath(e){return new de(et.fromString(e))}static fromName(e){return new de(et.fromString(e).popFirst(5))}static empty(){return new de(et.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&et.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return et.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new de(new et(e.slice()))}}function S0(r,e,n){if(!n)throw new oe(W.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function D2(r,e,n,s){if(e===!0&&s===!0)throw new oe(W.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function iE(r){if(!de.isDocumentKey(r))throw new oe(W.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function rE(r){if(de.isDocumentKey(r))throw new oe(W.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function A0(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Uh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":ye(12329,{type:typeof r})}function Wa(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new oe(W.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Uh(r);throw new oe(W.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}function It(r,e){const n={typeString:r};return e&&(n.value=e),n}function lu(r,e){if(!A0(r))throw new oe(W.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const f=r[s];if(o&&typeof f!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new oe(W.INVALID_ARGUMENT,n);return!0}const sE=-62135596800,aE=1e6;class tt{static now(){return tt.fromMillis(Date.now())}static fromDate(e){return tt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*aE);return new tt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new oe(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new oe(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<sE)throw new oe(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new oe(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/aE}_compareTo(e){return this.seconds===e.seconds?xe(this.nanoseconds,e.nanoseconds):xe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:tt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(lu(e,tt._jsonSchema))return new tt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-sE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}tt._jsonSchemaVersion="firestore/timestamp/1.0",tt._jsonSchema={type:It("string",tt._jsonSchemaVersion),seconds:It("number"),nanoseconds:It("number")};class ve{static fromTimestamp(e){return new ve(e)}static min(){return new ve(new tt(0,0))}static max(){return new ve(new tt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Gl=-1;function N2(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=ve.fromTimestamp(s===1e9?new tt(n+1,0):new tt(n,s));return new Wr(o,de.empty(),e)}function O2(r){return new Wr(r.readTime,r.key,Gl)}class Wr{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Wr(ve.min(),de.empty(),Gl)}static max(){return new Wr(ve.max(),de.empty(),Gl)}}function V2(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=de.comparator(r.documentKey,e.documentKey),n!==0?n:xe(r.largestBatchId,e.largestBatchId))}const M2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class x2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function yo(r){if(r.code!==W.FAILED_PRECONDITION||r.message!==M2)throw r;le("LocalStore","Unexpectedly lost primary lease")}class Z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ye(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Z(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof Z?n:Z.resolve(n)}catch(n){return Z.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):Z.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):Z.reject(n)}static resolve(e){return new Z(((n,s)=>{n(e)}))}static reject(e){return new Z(((n,s)=>{s(e)}))}static waitFor(e){return new Z(((n,s)=>{let o=0,u=0,f=!1;e.forEach((m=>{++o,m.next((()=>{++u,f&&u===o&&n()}),(g=>s(g)))})),f=!0,u===o&&n()}))}static or(e){let n=Z.resolve(!1);for(const s of e)n=n.next((o=>o?Z.resolve(o):s()));return n}static forEach(e,n){const s=[];return e.forEach(((o,u)=>{s.push(n.call(this,o,u))})),this.waitFor(s)}static mapArray(e,n){return new Z(((s,o)=>{const u=e.length,f=new Array(u);let m=0;for(let g=0;g<u;g++){const y=g;n(e[y]).next((E=>{f[y]=E,++m,m===u&&s(f)}),(E=>o(E)))}}))}static doWhile(e,n){return new Z(((s,o)=>{const u=()=>{e()===!0?n().next((()=>{u()}),o):s()};u()}))}}function L2(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function _o(r){return r.name==="IndexedDbTransactionError"}class kh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}kh.ce=-1;const dp=-1;function zh(r){return r==null}function vh(r){return r===0&&1/r==-1/0}function P2(r){return typeof r=="number"&&Number.isInteger(r)&&!vh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const b0="";function U2(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=oE(e)),e=k2(r.get(n),e);return oE(e)}function k2(r,e){let n=e;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case b0:n+="";break;default:n+=u}}return n}function oE(r){return r+b0+""}function lE(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function Xs(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function w0(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class ut{constructor(e,n){this.comparator=e,this.root=n||Gt.EMPTY}insert(e,n){return new ut(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Gt.BLACK,null,null))}remove(e){return new ut(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Gt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Kc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Kc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Kc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Kc(this.root,e,this.comparator,!0)}}class Kc{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Gt{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??Gt.RED,this.left=o??Gt.EMPTY,this.right=u??Gt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new Gt(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Gt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Gt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Gt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Gt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ye(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ye(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ye(27949);return e+(this.isRed()?0:1)}}Gt.EMPTY=null,Gt.RED=!0,Gt.BLACK=!1;Gt.EMPTY=new class{constructor(){this.size=0}get key(){throw ye(57766)}get value(){throw ye(16141)}get color(){throw ye(16727)}get left(){throw ye(29726)}get right(){throw ye(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new Gt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class xt{constructor(e){this.comparator=e,this.data=new ut(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new uE(this.data.getIterator())}getIteratorFrom(e){return new uE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof xt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new xt(this.comparator);return n.data=e,n}}class uE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Jn{constructor(e){this.fields=e,e.sort(Kt.comparator)}static empty(){return new Jn([])}unionWith(e){let n=new xt(Kt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Jn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ro(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}class R0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Yt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new R0("Invalid base64 string: "+u):u}})(e);return new Yt(n)}static fromUint8Array(e){const n=(function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u})(e);return new Yt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return xe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Yt.EMPTY_BYTE_STRING=new Yt("");const z2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Zr(r){if(Fe(!!r,39018),typeof r=="string"){let e=0;const n=z2.exec(r);if(Fe(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:gt(r.seconds),nanos:gt(r.nanos)}}function gt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function es(r){return typeof r=="string"?Yt.fromBase64String(r):Yt.fromUint8Array(r)}const C0="server_timestamp",I0="__type__",D0="__previous_value__",N0="__local_write_time__";function mp(r){return(r?.mapValue?.fields||{})[I0]?.stringValue===C0}function Bh(r){const e=r.mapValue.fields[D0];return mp(e)?Bh(e):e}function Kl(r){const e=Zr(r.mapValue.fields[N0].timestampValue);return new tt(e.seconds,e.nanos)}class B2{constructor(e,n,s,o,u,f,m,g,y,E,S){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=g,this.useFetchStreams=y,this.isUsingEmulator=E,this.apiKey=S}}const Eh="(default)";class Yl{constructor(e,n){this.projectId=e,this.database=n||Eh}static empty(){return new Yl("","")}get isDefaultDatabase(){return this.database===Eh}isEqual(e){return e instanceof Yl&&e.projectId===this.projectId&&e.database===this.database}}function j2(r,e){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new oe(W.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Yl(r.options.projectId,e)}const O0="__type__",q2="__max__",Yc={mapValue:{}},V0="__vector__",Th="value";function ts(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?mp(r)?4:F2(r)?9007199254740991:H2(r)?10:11:ye(28295,{value:r})}function Oi(r,e){if(r===e)return!0;const n=ts(r);if(n!==ts(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Kl(r).isEqual(Kl(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=Zr(o.timestampValue),m=Zr(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,u){return es(o.bytesValue).isEqual(es(u.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,u){return gt(o.geoPointValue.latitude)===gt(u.geoPointValue.latitude)&&gt(o.geoPointValue.longitude)===gt(u.geoPointValue.longitude)})(r,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return gt(o.integerValue)===gt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=gt(o.doubleValue),m=gt(u.doubleValue);return f===m?vh(f)===vh(m):isNaN(f)&&isNaN(m)}return!1})(r,e);case 9:return ro(r.arrayValue.values||[],e.arrayValue.values||[],Oi);case 10:case 11:return(function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(lE(f)!==lE(m))return!1;for(const g in f)if(f.hasOwnProperty(g)&&(m[g]===void 0||!Oi(f[g],m[g])))return!1;return!0})(r,e);default:return ye(52216,{left:r})}}function Ql(r,e){return(r.values||[]).find((n=>Oi(n,e)))!==void 0}function so(r,e){if(r===e)return 0;const n=ts(r),s=ts(e);if(n!==s)return xe(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return xe(r.booleanValue,e.booleanValue);case 2:return(function(u,f){const m=gt(u.integerValue||u.doubleValue),g=gt(f.integerValue||f.doubleValue);return m<g?-1:m>g?1:m===g?0:isNaN(m)?isNaN(g)?0:-1:1})(r,e);case 3:return cE(r.timestampValue,e.timestampValue);case 4:return cE(Kl(r),Kl(e));case 5:return Nm(r.stringValue,e.stringValue);case 6:return(function(u,f){const m=es(u),g=es(f);return m.compareTo(g)})(r.bytesValue,e.bytesValue);case 7:return(function(u,f){const m=u.split("/"),g=f.split("/");for(let y=0;y<m.length&&y<g.length;y++){const E=xe(m[y],g[y]);if(E!==0)return E}return xe(m.length,g.length)})(r.referenceValue,e.referenceValue);case 8:return(function(u,f){const m=xe(gt(u.latitude),gt(f.latitude));return m!==0?m:xe(gt(u.longitude),gt(f.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return hE(r.arrayValue,e.arrayValue);case 10:return(function(u,f){const m=u.fields||{},g=f.fields||{},y=m[Th]?.arrayValue,E=g[Th]?.arrayValue,S=xe(y?.values?.length||0,E?.values?.length||0);return S!==0?S:hE(y,E)})(r.mapValue,e.mapValue);case 11:return(function(u,f){if(u===Yc.mapValue&&f===Yc.mapValue)return 0;if(u===Yc.mapValue)return 1;if(f===Yc.mapValue)return-1;const m=u.fields||{},g=Object.keys(m),y=f.fields||{},E=Object.keys(y);g.sort(),E.sort();for(let S=0;S<g.length&&S<E.length;++S){const w=Nm(g[S],E[S]);if(w!==0)return w;const U=so(m[g[S]],y[E[S]]);if(U!==0)return U}return xe(g.length,E.length)})(r.mapValue,e.mapValue);default:throw ye(23264,{he:n})}}function cE(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return xe(r,e);const n=Zr(r),s=Zr(e),o=xe(n.seconds,s.seconds);return o!==0?o:xe(n.nanos,s.nanos)}function hE(r,e){const n=r.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=so(n[o],s[o]);if(u)return u}return xe(n.length,s.length)}function ao(r){return Om(r)}function Om(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const s=Zr(n);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return es(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return de.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=Om(u);return s+"]"})(r.arrayValue):"mapValue"in r?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${Om(n.fields[f])}`;return o+"}"})(r.mapValue):ye(61005,{value:r})}function sh(r){switch(ts(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Bh(r);return e?16+sh(e):16;case 5:return 2*r.stringValue.length;case 6:return es(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+sh(u)),0)})(r.arrayValue);case 10:case 11:return(function(s){let o=0;return Xs(s.fields,((u,f)=>{o+=u.length+sh(f)})),o})(r.mapValue);default:throw ye(13486,{value:r})}}function fE(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Vm(r){return!!r&&"integerValue"in r}function pp(r){return!!r&&"arrayValue"in r}function dE(r){return!!r&&"nullValue"in r}function mE(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function ah(r){return!!r&&"mapValue"in r}function H2(r){return(r?.mapValue?.fields||{})[O0]?.stringValue===V0}function Ul(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return Xs(r.mapValue.fields,((n,s)=>e.mapValue.fields[n]=Ul(s))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ul(r.arrayValue.values[n]);return e}return{...r}}function F2(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===q2}class Pn{constructor(e){this.value=e}static empty(){return new Pn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!ah(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ul(n)}setAll(e){let n=Kt.emptyPath(),s={},o=[];e.forEach(((f,m)=>{if(!n.isImmediateParentOf(m)){const g=this.getFieldsMap(n);this.applyChanges(g,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=Ul(f):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());ah(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Oi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];ah(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){Xs(n,((o,u)=>e[o]=u));for(const o of s)delete e[o]}clone(){return new Pn(Ul(this.value))}}function M0(r){const e=[];return Xs(r.fields,((n,s)=>{const o=new Kt([n]);if(ah(s)){const u=M0(s.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)})),new Jn(e)}class Jt{constructor(e,n,s,o,u,f,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new Jt(e,0,ve.min(),ve.min(),ve.min(),Pn.empty(),0)}static newFoundDocument(e,n,s,o){return new Jt(e,1,n,ve.min(),s,o,0)}static newNoDocument(e,n){return new Jt(e,2,n,ve.min(),ve.min(),Pn.empty(),0)}static newUnknownDocument(e,n){return new Jt(e,3,n,ve.min(),ve.min(),Pn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ve.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Pn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Pn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ve.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Jt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Jt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Sh{constructor(e,n){this.position=e,this.inclusive=n}}function pE(r,e,n){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],f=r.position[o];if(u.field.isKeyField()?s=de.comparator(de.fromName(f.referenceValue),n.key):s=so(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function gE(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!Oi(r.position[n],e.position[n]))return!1;return!0}class Xl{constructor(e,n="asc"){this.field=e,this.dir=n}}function G2(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class x0{}class Ct extends x0{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new Y2(e,n,s):n==="array-contains"?new $2(e,s):n==="in"?new J2(e,s):n==="not-in"?new W2(e,s):n==="array-contains-any"?new Z2(e,s):new Ct(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new Q2(e,s):new X2(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(so(n,this.value)):n!==null&&ts(this.value)===ts(n)&&this.matchesComparison(so(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ye(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ti extends x0{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new ti(e,n)}matches(e){return L0(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function L0(r){return r.op==="and"}function P0(r){return K2(r)&&L0(r)}function K2(r){for(const e of r.filters)if(e instanceof ti)return!1;return!0}function Mm(r){if(r instanceof Ct)return r.field.canonicalString()+r.op.toString()+ao(r.value);if(P0(r))return r.filters.map((e=>Mm(e))).join(",");{const e=r.filters.map((n=>Mm(n))).join(",");return`${r.op}(${e})`}}function U0(r,e){return r instanceof Ct?(function(s,o){return o instanceof Ct&&s.op===o.op&&s.field.isEqual(o.field)&&Oi(s.value,o.value)})(r,e):r instanceof ti?(function(s,o){return o instanceof ti&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,f,m)=>u&&U0(f,o.filters[m])),!0):!1})(r,e):void ye(19439)}function k0(r){return r instanceof Ct?(function(n){return`${n.field.canonicalString()} ${n.op} ${ao(n.value)}`})(r):r instanceof ti?(function(n){return n.op.toString()+" {"+n.getFilters().map(k0).join(" ,")+"}"})(r):"Filter"}class Y2 extends Ct{constructor(e,n,s){super(e,n,s),this.key=de.fromName(s.referenceValue)}matches(e){const n=de.comparator(e.key,this.key);return this.matchesComparison(n)}}class Q2 extends Ct{constructor(e,n){super(e,"in",n),this.keys=z0("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class X2 extends Ct{constructor(e,n){super(e,"not-in",n),this.keys=z0("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function z0(r,e){return(e.arrayValue?.values||[]).map((n=>de.fromName(n.referenceValue)))}class $2 extends Ct{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return pp(n)&&Ql(n.arrayValue,this.value)}}class J2 extends Ct{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ql(this.value.arrayValue,n)}}class W2 extends Ct{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ql(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Ql(this.value.arrayValue,n)}}class Z2 extends Ct{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!pp(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>Ql(this.value.arrayValue,s)))}}class eD{constructor(e,n=null,s=[],o=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Te=null}}function yE(r,e=null,n=[],s=[],o=null,u=null,f=null){return new eD(r,e,n,s,o,u,f)}function gp(r){const e=Te(r);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>Mm(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),zh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>ao(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>ao(s))).join(",")),e.Te=n}return e.Te}function yp(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!G2(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!U0(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!gE(r.startAt,e.startAt)&&gE(r.endAt,e.endAt)}function xm(r){return de.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class vo{constructor(e,n=null,s=[],o=[],u=null,f="F",m=null,g=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=g,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function tD(r,e,n,s,o,u,f,m){return new vo(r,e,n,s,o,u,f,m)}function _p(r){return new vo(r)}function _E(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function nD(r){return de.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}function B0(r){return r.collectionGroup!==null}function kl(r){const e=Te(r);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new xt(Kt.comparator);return f.filters.forEach((g=>{g.getFlattenedFilters().forEach((y=>{y.isInequality()&&(m=m.add(y.field))}))})),m})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new Xl(u,s))})),n.has(Kt.keyField().canonicalString())||e.Ie.push(new Xl(Kt.keyField(),s))}return e.Ie}function Ci(r){const e=Te(r);return e.Ee||(e.Ee=iD(e,kl(r))),e.Ee}function iD(r,e){if(r.limitType==="F")return yE(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new Xl(o.field,u)}));const n=r.endAt?new Sh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Sh(r.startAt.position,r.startAt.inclusive):null;return yE(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}function Lm(r,e){const n=r.filters.concat([e]);return new vo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function rD(r,e){const n=r.explicitOrderBy.concat([e]);return new vo(r.path,r.collectionGroup,n,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}function Pm(r,e,n){return new vo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function jh(r,e){return yp(Ci(r),Ci(e))&&r.limitType===e.limitType}function j0(r){return`${gp(Ci(r))}|lt:${r.limitType}`}function Ga(r){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>k0(o))).join(", ")}]`),zh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>ao(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>ao(o))).join(",")),`Target(${s})`})(Ci(r))}; limitType=${r.limitType})`}function qh(r,e){return e.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):de.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(r,e)&&(function(s,o){for(const u of kl(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(r,e)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(r,e)&&(function(s,o){return!(s.startAt&&!(function(f,m,g){const y=pE(f,m,g);return f.inclusive?y<=0:y<0})(s.startAt,kl(s),o)||s.endAt&&!(function(f,m,g){const y=pE(f,m,g);return f.inclusive?y>=0:y>0})(s.endAt,kl(s),o))})(r,e)}function sD(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function q0(r){return(e,n)=>{let s=!1;for(const o of kl(r)){const u=aD(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function aD(r,e,n){const s=r.field.isKeyField()?de.comparator(e.key,n.key):(function(u,f,m){const g=f.data.field(u),y=m.data.field(u);return g!==null&&y!==null?so(g,y):ye(42886)})(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return ye(19790,{direction:r.dir})}}class $s{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Xs(this.inner,((n,s)=>{for(const[o,u]of s)e(o,u)}))}isEmpty(){return w0(this.inner)}size(){return this.innerSize}}const oD=new ut(de.comparator);function ar(){return oD}const H0=new ut(de.comparator);function Vl(...r){let e=H0;for(const n of r)e=e.insert(n.key,n);return e}function F0(r){let e=H0;return r.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function zs(){return zl()}function G0(){return zl()}function zl(){return new $s((r=>r.toString()),((r,e)=>r.isEqual(e)))}const lD=new ut(de.comparator),uD=new xt(de.comparator);function Le(...r){let e=uD;for(const n of r)e=e.add(n);return e}const cD=new xt(xe);function hD(){return cD}function vp(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:vh(e)?"-0":e}}function K0(r){return{integerValue:""+r}}function fD(r,e){return P2(e)?K0(e):vp(r,e)}class Hh{constructor(){this._=void 0}}function dD(r,e,n){return r instanceof Ah?(function(o,u){const f={fields:{[I0]:{stringValue:C0},[N0]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&mp(u)&&(u=Bh(u)),u&&(f.fields[D0]=u),{mapValue:f}})(n,e):r instanceof $l?Q0(r,e):r instanceof Jl?X0(r,e):(function(o,u){const f=Y0(o,u),m=vE(f)+vE(o.Ae);return Vm(f)&&Vm(o.Ae)?K0(m):vp(o.serializer,m)})(r,e)}function mD(r,e,n){return r instanceof $l?Q0(r,e):r instanceof Jl?X0(r,e):n}function Y0(r,e){return r instanceof bh?(function(s){return Vm(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(e)?e:{integerValue:0}:null}class Ah extends Hh{}class $l extends Hh{constructor(e){super(),this.elements=e}}function Q0(r,e){const n=$0(e);for(const s of r.elements)n.some((o=>Oi(o,s)))||n.push(s);return{arrayValue:{values:n}}}class Jl extends Hh{constructor(e){super(),this.elements=e}}function X0(r,e){let n=$0(e);for(const s of r.elements)n=n.filter((o=>!Oi(o,s)));return{arrayValue:{values:n}}}class bh extends Hh{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function vE(r){return gt(r.integerValue||r.doubleValue)}function $0(r){return pp(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function pD(r,e){return r.field.isEqual(e.field)&&(function(s,o){return s instanceof $l&&o instanceof $l||s instanceof Jl&&o instanceof Jl?ro(s.elements,o.elements,Oi):s instanceof bh&&o instanceof bh?Oi(s.Ae,o.Ae):s instanceof Ah&&o instanceof Ah})(r.transform,e.transform)}class gD{constructor(e,n){this.version=e,this.transformResults=n}}class Ii{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ii}static exists(e){return new Ii(void 0,e)}static updateTime(e){return new Ii(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function oh(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Fh{}function J0(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Ep(r.key,Ii.none()):new uu(r.key,r.data,Ii.none());{const n=r.data,s=Pn.empty();let o=new xt(Kt.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new Js(r.key,s,new Jn(o.toArray()),Ii.none())}}function yD(r,e,n){r instanceof uu?(function(o,u,f){const m=o.value.clone(),g=TE(o.fieldTransforms,u,f.transformResults);m.setAll(g),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()})(r,e,n):r instanceof Js?(function(o,u,f){if(!oh(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=TE(o.fieldTransforms,u,f.transformResults),g=u.data;g.setAll(W0(o)),g.setAll(m),u.convertToFoundDocument(f.version,g).setHasCommittedMutations()})(r,e,n):(function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,e,n)}function Bl(r,e,n,s){return r instanceof uu?(function(u,f,m,g){if(!oh(u.precondition,f))return m;const y=u.value.clone(),E=SE(u.fieldTransforms,g,f);return y.setAll(E),f.convertToFoundDocument(f.version,y).setHasLocalMutations(),null})(r,e,n,s):r instanceof Js?(function(u,f,m,g){if(!oh(u.precondition,f))return m;const y=SE(u.fieldTransforms,g,f),E=f.data;return E.setAll(W0(u)),E.setAll(y),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((S=>S.field)))})(r,e,n,s):(function(u,f,m){return oh(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m})(r,e,n)}function _D(r,e){let n=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),u=Y0(s.transform,o||null);u!=null&&(n===null&&(n=Pn.empty()),n.set(s.field,u))}return n||null}function EE(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&ro(s,o,((u,f)=>pD(u,f)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class uu extends Fh{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Js extends Fh{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function W0(r){const e=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}})),e}function TE(r,e,n){const s=new Map;Fe(r.length===n.length,32656,{Ve:n.length,de:r.length});for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,m=e.data.field(u.field);s.set(u.field,mD(f,m,n[o]))}return s}function SE(r,e,n){const s=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);s.set(o.field,dD(u,f,e))}return s}class Ep extends Fh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class vD extends Fh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class ED{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&yD(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Bl(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Bl(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=G0();return this.mutations.forEach((o=>{const u=e.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const g=J0(f,m);g!==null&&s.set(o.key,g),f.isValidDocument()||f.convertToNoDocument(ve.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Le())}isEqual(e){return this.batchId===e.batchId&&ro(this.mutations,e.mutations,((n,s)=>EE(n,s)))&&ro(this.baseMutations,e.baseMutations,((n,s)=>EE(n,s)))}}class Tp{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){Fe(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return lD})();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new Tp(e,n,s,o)}}class TD{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class SD{constructor(e,n){this.count=e,this.unchangedNames=n}}var Rt,ke;function AD(r){switch(r){case W.OK:return ye(64938);case W.CANCELLED:case W.UNKNOWN:case W.DEADLINE_EXCEEDED:case W.RESOURCE_EXHAUSTED:case W.INTERNAL:case W.UNAVAILABLE:case W.UNAUTHENTICATED:return!1;case W.INVALID_ARGUMENT:case W.NOT_FOUND:case W.ALREADY_EXISTS:case W.PERMISSION_DENIED:case W.FAILED_PRECONDITION:case W.ABORTED:case W.OUT_OF_RANGE:case W.UNIMPLEMENTED:case W.DATA_LOSS:return!0;default:return ye(15467,{code:r})}}function Z0(r){if(r===void 0)return sr("GRPC error has no .code"),W.UNKNOWN;switch(r){case Rt.OK:return W.OK;case Rt.CANCELLED:return W.CANCELLED;case Rt.UNKNOWN:return W.UNKNOWN;case Rt.DEADLINE_EXCEEDED:return W.DEADLINE_EXCEEDED;case Rt.RESOURCE_EXHAUSTED:return W.RESOURCE_EXHAUSTED;case Rt.INTERNAL:return W.INTERNAL;case Rt.UNAVAILABLE:return W.UNAVAILABLE;case Rt.UNAUTHENTICATED:return W.UNAUTHENTICATED;case Rt.INVALID_ARGUMENT:return W.INVALID_ARGUMENT;case Rt.NOT_FOUND:return W.NOT_FOUND;case Rt.ALREADY_EXISTS:return W.ALREADY_EXISTS;case Rt.PERMISSION_DENIED:return W.PERMISSION_DENIED;case Rt.FAILED_PRECONDITION:return W.FAILED_PRECONDITION;case Rt.ABORTED:return W.ABORTED;case Rt.OUT_OF_RANGE:return W.OUT_OF_RANGE;case Rt.UNIMPLEMENTED:return W.UNIMPLEMENTED;case Rt.DATA_LOSS:return W.DATA_LOSS;default:return ye(39323,{code:r})}}(ke=Rt||(Rt={}))[ke.OK=0]="OK",ke[ke.CANCELLED=1]="CANCELLED",ke[ke.UNKNOWN=2]="UNKNOWN",ke[ke.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ke[ke.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ke[ke.NOT_FOUND=5]="NOT_FOUND",ke[ke.ALREADY_EXISTS=6]="ALREADY_EXISTS",ke[ke.PERMISSION_DENIED=7]="PERMISSION_DENIED",ke[ke.UNAUTHENTICATED=16]="UNAUTHENTICATED",ke[ke.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ke[ke.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ke[ke.ABORTED=10]="ABORTED",ke[ke.OUT_OF_RANGE=11]="OUT_OF_RANGE",ke[ke.UNIMPLEMENTED=12]="UNIMPLEMENTED",ke[ke.INTERNAL=13]="INTERNAL",ke[ke.UNAVAILABLE=14]="UNAVAILABLE",ke[ke.DATA_LOSS=15]="DATA_LOSS";function bD(){return new TextEncoder}const wD=new $r([4294967295,4294967295],0);function AE(r){const e=bD().encode(r),n=new m0;return n.update(e),new Uint8Array(n.digest())}function bE(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new $r([n,s],0),new $r([o,u],0)]}class Sp{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Ml(`Invalid padding: ${n}`);if(s<0)throw new Ml(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Ml(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Ml(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=$r.fromNumber(this.ge)}ye(e,n,s){let o=e.add(n.multiply($r.fromNumber(s)));return o.compare(wD)===1&&(o=new $r([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=AE(e),[s,o]=bE(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);if(!this.we(f))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new Sp(u,o,n);return s.forEach((m=>f.insert(m))),f}insert(e){if(this.ge===0)return;const n=AE(e),[s,o]=bE(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);this.be(f)}}be(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Ml extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Gh{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,cu.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Gh(ve.min(),o,new ut(xe),ar(),Le())}}class cu{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new cu(s,n,Le(),Le(),Le())}}class lh{constructor(e,n,s,o){this.Se=e,this.removedTargetIds=n,this.key=s,this.De=o}}class eS{constructor(e,n){this.targetId=e,this.Ce=n}}class tS{constructor(e,n,s=Yt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class wE{constructor(){this.ve=0,this.Fe=RE(),this.Me=Yt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Le(),n=Le(),s=Le();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:ye(38017,{changeType:u})}})),new cu(this.Me,this.xe,e,n,s)}Ke(){this.Oe=!1,this.Fe=RE()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,Fe(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class RD{constructor(e){this.Ge=e,this.ze=new Map,this.je=ar(),this.He=Qc(),this.Je=Qc(),this.Ze=new ut(xe)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.We(),s.Ne||s.Ke(),s.Le(e.resumeToken);break;case 2:s.We(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.Qe(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:ye(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,s=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(xm(u))if(s===0){const f=new de(u.path);this.et(n,f,Jt.newNoDocument(f,ve.min()))}else Fe(s===1,20013,{expectedCount:s});else{const f=this._t(n);if(f!==s){const m=this.ut(e),g=m?this.ct(m,e,f):1;if(g!==0){this.it(n);const y=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,y)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=es(s).toUint8Array()}catch(g){if(g instanceof R0)return io("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{m=new Sp(f,o,u)}catch(g){return io(g instanceof Ml?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return m.ge===0?null:m}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((u=>{const f=this.Ge.ht(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.et(n,u,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((u,f)=>{const m=this.ot(f);if(m){if(u.current&&xm(m.target)){const g=new de(m.target.path);this.It(g).has(f)||this.Et(f,g)||this.et(f,g,Jt.newNoDocument(g,e))}u.Be&&(n.set(f,u.ke()),u.Ke())}}));let s=Le();this.Je.forEach(((u,f)=>{let m=!0;f.forEachWhile((g=>{const y=this.ot(g);return!y||y.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(u))})),this.je.forEach(((u,f)=>f.setReadTime(e)));const o=new Gh(e,n,this.Ze,this.je,s);return this.je=ar(),this.He=Qc(),this.Je=Qc(),this.Ze=new ut(xe),o}Ye(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,s),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.qe(n,1):o.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new wE,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new xt(xe),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new xt(xe),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||le("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new wE),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Qc(){return new ut(de.comparator)}function RE(){return new ut(de.comparator)}const CD={asc:"ASCENDING",desc:"DESCENDING"},ID={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},DD={and:"AND",or:"OR"};class ND{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Um(r,e){return r.useProto3Json||zh(e)?e:{value:e}}function wh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function nS(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function OD(r,e){return wh(r,e.toTimestamp())}function Di(r){return Fe(!!r,49232),ve.fromTimestamp((function(n){const s=Zr(n);return new tt(s.seconds,s.nanos)})(r))}function Ap(r,e){return km(r,e).canonicalString()}function km(r,e){const n=(function(o){return new et(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?n:n.child(e)}function iS(r){const e=et.fromString(r);return Fe(lS(e),10190,{key:e.toString()}),e}function zm(r,e){return Ap(r.databaseId,e.path)}function mm(r,e){const n=iS(e);if(n.get(1)!==r.databaseId.projectId)throw new oe(W.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new oe(W.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new de(sS(n))}function rS(r,e){return Ap(r.databaseId,e)}function VD(r){const e=iS(r);return e.length===4?et.emptyPath():sS(e)}function Bm(r){return new et(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function sS(r){return Fe(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function CE(r,e,n){return{name:zm(r,e),fields:n.value.mapValue.fields}}function MD(r,e){let n;if("targetChange"in e){e.targetChange;const s=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:ye(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(y,E){return y.useProto3Json?(Fe(E===void 0||typeof E=="string",58123),Yt.fromBase64String(E||"")):(Fe(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Yt.fromUint8Array(E||new Uint8Array))})(r,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&(function(y){const E=y.code===void 0?W.UNKNOWN:Z0(y.code);return new oe(E,y.message||"")})(f);n=new tS(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=mm(r,s.document.name),u=Di(s.document.updateTime),f=s.document.createTime?Di(s.document.createTime):ve.min(),m=new Pn({mapValue:{fields:s.document.fields}}),g=Jt.newFoundDocument(o,u,f,m),y=s.targetIds||[],E=s.removedTargetIds||[];n=new lh(y,E,g.key,g)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=mm(r,s.document),u=s.readTime?Di(s.readTime):ve.min(),f=Jt.newNoDocument(o,u),m=s.removedTargetIds||[];n=new lh([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=mm(r,s.document),u=s.removedTargetIds||[];n=new lh([],u,o,null)}else{if(!("filter"in e))return ye(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new SD(o,u),m=s.targetId;n=new eS(m,f)}}return n}function xD(r,e){let n;if(e instanceof uu)n={update:CE(r,e.key,e.value)};else if(e instanceof Ep)n={delete:zm(r,e.key)};else if(e instanceof Js)n={update:CE(r,e.key,e.data),updateMask:HD(e.fieldMask)};else{if(!(e instanceof vD))return ye(16599,{dt:e.type});n={verify:zm(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(u,f){const m=f.transform;if(m instanceof Ah)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof $l)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Jl)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof bh)return{fieldPath:f.field.canonicalString(),increment:m.Ae};throw ye(20930,{transform:f.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:OD(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:ye(27497)})(r,e.precondition)),n}function LD(r,e){return r&&r.length>0?(Fe(e!==void 0,14353),r.map((n=>(function(o,u){let f=o.updateTime?Di(o.updateTime):Di(u);return f.isEqual(ve.min())&&(f=Di(u)),new gD(f,o.transformResults||[])})(n,e)))):[]}function PD(r,e){return{documents:[rS(r,e.path)]}}function UD(r,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=rS(r,o);const u=(function(y){if(y.length!==0)return oS(ti.create(y,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const f=(function(y){if(y.length!==0)return y.map((E=>(function(w){return{field:Ka(w.field),direction:BD(w.dir)}})(E)))})(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=Um(r,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:n,parent:o}}function kD(r){let e=VD(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Fe(s===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=(function(S){const w=aS(S);return w instanceof ti&&P0(w)?w.getFilters():[w]})(n.where));let f=[];n.orderBy&&(f=(function(S){return S.map((w=>(function(J){return new Xl(Ya(J.field),(function(K){switch(K){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(J.direction))})(w)))})(n.orderBy));let m=null;n.limit&&(m=(function(S){let w;return w=typeof S=="object"?S.value:S,zh(w)?null:w})(n.limit));let g=null;n.startAt&&(g=(function(S){const w=!!S.before,U=S.values||[];return new Sh(U,w)})(n.startAt));let y=null;return n.endAt&&(y=(function(S){const w=!S.before,U=S.values||[];return new Sh(U,w)})(n.endAt)),tD(e,o,f,u,m,"F",g,y)}function zD(r,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ye(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function aS(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Ya(n.unaryFilter.field);return Ct.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Ya(n.unaryFilter.field);return Ct.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Ya(n.unaryFilter.field);return Ct.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Ya(n.unaryFilter.field);return Ct.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ye(61313);default:return ye(60726)}})(r):r.fieldFilter!==void 0?(function(n){return Ct.create(Ya(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ye(58110);default:return ye(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return ti.create(n.compositeFilter.filters.map((s=>aS(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return ye(1026)}})(n.compositeFilter.op))})(r):ye(30097,{filter:r})}function BD(r){return CD[r]}function jD(r){return ID[r]}function qD(r){return DD[r]}function Ka(r){return{fieldPath:r.canonicalString()}}function Ya(r){return Kt.fromServerFormat(r.fieldPath)}function oS(r){return r instanceof Ct?(function(n){if(n.op==="=="){if(mE(n.value))return{unaryFilter:{field:Ka(n.field),op:"IS_NAN"}};if(dE(n.value))return{unaryFilter:{field:Ka(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(mE(n.value))return{unaryFilter:{field:Ka(n.field),op:"IS_NOT_NAN"}};if(dE(n.value))return{unaryFilter:{field:Ka(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ka(n.field),op:jD(n.op),value:n.value}}})(r):r instanceof ti?(function(n){const s=n.getFilters().map((o=>oS(o)));return s.length===1?s[0]:{compositeFilter:{op:qD(n.op),filters:s}}})(r):ye(54877,{filter:r})}function HD(r){const e=[];return r.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function lS(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}function uS(r){return!!r&&typeof r._toProto=="function"&&r._protoValueType==="ProtoValue"}class Kr{constructor(e,n,s,o,u=ve.min(),f=ve.min(),m=Yt.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=g}withSequenceNumber(e){return new Kr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Kr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Kr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Kr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class FD{constructor(e){this.yt=e}}function GD(r){const e=kD({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Pm(e,e.limit,"L"):e}class KD{constructor(){this.Sn=new YD}addToCollectionParentIndex(e,n){return this.Sn.add(n),Z.resolve()}getCollectionParents(e,n){return Z.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return Z.resolve()}deleteFieldIndex(e,n){return Z.resolve()}deleteAllFieldIndexes(e){return Z.resolve()}createTargetIndexes(e,n){return Z.resolve()}getDocumentsMatchingTarget(e,n){return Z.resolve(null)}getIndexType(e,n){return Z.resolve(0)}getFieldIndexes(e,n){return Z.resolve([])}getNextCollectionGroupToUpdate(e){return Z.resolve(null)}getMinOffset(e,n){return Z.resolve(Wr.min())}getMinOffsetFromCollectionGroup(e,n){return Z.resolve(Wr.min())}updateCollectionGroup(e,n,s){return Z.resolve()}updateIndexEntries(e,n){return Z.resolve()}}class YD{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new xt(et.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new xt(et.comparator)).toArray()}}const IE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},cS=41943040;class hn{static withCacheSize(e){return new hn(e,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}hn.DEFAULT_COLLECTION_PERCENTILE=10,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,hn.DEFAULT=new hn(cS,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),hn.DISABLED=new hn(-1,0,0);class oo{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new oo(0)}static ar(){return new oo(-1)}}const DE="LruGarbageCollector",QD=1048576;function NE([r,e],[n,s]){const o=xe(r,n);return o===0?xe(e,s):o}class XD{constructor(e){this.Pr=e,this.buffer=new xt(NE),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();NE(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class $D{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){le(DE,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){_o(n)?le(DE,"Ignoring IndexedDB error during garbage collection: ",n):await yo(n)}await this.Ar(3e5)}))}}class JD{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return Z.resolve(kh.ce);const s=new XD(n);return this.Vr.forEachTarget(e,(o=>s.Er(o.sequenceNumber))).next((()=>this.Vr.mr(e,(o=>s.Er(o))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.Vr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(le("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(IE)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(le("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),IE):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let s,o,u,f,m,g,y;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(le("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,f=Date.now(),this.nthSequenceNumber(e,o)))).next((S=>(s=S,m=Date.now(),this.removeTargets(e,s,n)))).next((S=>(u=S,g=Date.now(),this.removeOrphanedDocuments(e,s)))).next((S=>(y=Date.now(),Fa()<=Me.DEBUG&&le("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(g-m)+`ms
	Removed ${S} documents in `+(y-g)+`ms
Total Duration: ${y-E}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:S}))))}}function WD(r,e){return new JD(r,e)}class ZD{constructor(){this.changes=new $s((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Jt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?Z.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class eN{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class tN{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(s!==null&&Bl(s.mutation,o,Jn.empty(),tt.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,Le()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=Le()){const o=zs();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,s).next((u=>{let f=Vl();return u.forEach(((m,g)=>{f=f.insert(m,g.overlayedDocument)})),f}))))}getOverlayedDocuments(e,n){const s=zs();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,Le())))}populateOverlays(e,n,s){const o=[];return s.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((f,m)=>{n.set(f,m)}))}))}computeViews(e,n,s,o){let u=ar();const f=zl(),m=(function(){return zl()})();return n.forEach(((g,y)=>{const E=s.get(y.key);o.has(y.key)&&(E===void 0||E.mutation instanceof Js)?u=u.insert(y.key,y):E!==void 0?(f.set(y.key,E.mutation.getFieldMask()),Bl(E.mutation,y,E.mutation.getFieldMask(),tt.now())):f.set(y.key,Jn.empty())})),this.recalculateAndSaveOverlays(e,u).next((g=>(g.forEach(((y,E)=>f.set(y,E))),n.forEach(((y,E)=>m.set(y,new eN(E,f.get(y)??null)))),m)))}recalculateAndSaveOverlays(e,n){const s=zl();let o=new ut(((f,m)=>f-m)),u=Le();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((f=>{for(const m of f)m.keys().forEach((g=>{const y=n.get(g);if(y===null)return;let E=s.get(g)||Jn.empty();E=m.applyToLocalView(y,E),s.set(g,E);const S=(o.get(m.batchId)||Le()).add(g);o=o.insert(m.batchId,S)}))})).next((()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const g=m.getNext(),y=g.key,E=g.value,S=G0();E.forEach((w=>{if(!u.has(w)){const U=J0(n.get(w),s.get(w));U!==null&&S.set(w,U),u=u.add(w)}})),f.push(this.documentOverlayCache.saveOverlays(e,y,S))}return Z.waitFor(f)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,o){return nD(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):B0(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next((u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):Z.resolve(zs());let m=Gl,g=u;return f.next((y=>Z.forEach(y,((E,S)=>(m<S.largestBatchId&&(m=S.largestBatchId),u.get(E)?Z.resolve():this.remoteDocumentCache.getEntry(e,E).next((w=>{g=g.insert(E,w)}))))).next((()=>this.populateOverlays(e,y,u))).next((()=>this.computeViews(e,g,y,Le()))).next((E=>({batchId:m,changes:F0(E)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new de(n)).next((s=>{let o=Vl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let f=Vl();return this.indexManager.getCollectionParents(e,u).next((m=>Z.forEach(m,(g=>{const y=(function(S,w){return new vo(w,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(n,g.child(u));return this.getDocumentsMatchingCollectionQuery(e,y,s,o).next((E=>{E.forEach(((S,w)=>{f=f.insert(S,w)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o)))).next((f=>{u.forEach(((g,y)=>{const E=y.getKey();f.get(E)===null&&(f=f.insert(E,Jt.newInvalidDocument(E)))}));let m=Vl();return f.forEach(((g,y)=>{const E=u.get(g);E!==void 0&&Bl(E.mutation,y,Jn.empty(),tt.now()),qh(n,y)&&(m=m.insert(g,y))})),m}))}}class nN{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return Z.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Di(o.createTime)}})(n)),Z.resolve()}getNamedQuery(e,n){return Z.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(o){return{name:o.name,query:GD(o.bundledQuery),readTime:Di(o.readTime)}})(n)),Z.resolve()}}class iN{constructor(){this.overlays=new ut(de.comparator),this.Lr=new Map}getOverlay(e,n){return Z.resolve(this.overlays.get(n))}getOverlays(e,n){const s=zs();return Z.forEach(n,(o=>this.getOverlay(e,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((o,u)=>{this.bt(e,n,u)})),Z.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.Lr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.Lr.delete(s)),Z.resolve()}getOverlaysForCollection(e,n,s){const o=zs(),u=n.length+1,f=new de(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const g=m.getNext().value,y=g.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===u&&g.largestBatchId>s&&o.set(g.getKey(),g)}return Z.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new ut(((y,E)=>y-E));const f=this.overlays.getIterator();for(;f.hasNext();){const y=f.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>s){let E=u.get(y.largestBatchId);E===null&&(E=zs(),u=u.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const m=zs(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((y,E)=>m.set(y,E))),!(m.size()>=o)););return Z.resolve(m)}bt(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.Lr.get(o.largestBatchId).delete(s.key);this.Lr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new TD(n,s));let u=this.Lr.get(n);u===void 0&&(u=Le(),this.Lr.set(n,u)),this.Lr.set(n,u.add(s.key))}}class rN{constructor(){this.sessionToken=Yt.EMPTY_BYTE_STRING}getSessionToken(e){return Z.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Z.resolve()}}class bp{constructor(){this.kr=new xt(kt.Kr),this.qr=new xt(kt.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const s=new kt(e,n);this.kr=this.kr.add(s),this.qr=this.qr.add(s)}$r(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Wr(new kt(e,n))}Qr(e,n){e.forEach((s=>this.removeReference(s,n)))}Gr(e){const n=new de(new et([])),s=new kt(n,e),o=new kt(n,e+1),u=[];return this.qr.forEachInRange([s,o],(f=>{this.Wr(f),u.push(f.key)})),u}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new de(new et([])),s=new kt(n,e),o=new kt(n,e+1);let u=Le();return this.qr.forEachInRange([s,o],(f=>{u=u.add(f.key)})),u}containsKey(e){const n=new kt(e,0),s=this.kr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class kt{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return de.comparator(e.key,n.key)||xe(e.Hr,n.Hr)}static Ur(e,n){return xe(e.Hr,n.Hr)||de.comparator(e.key,n.key)}}class sN{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new xt(kt.Kr)}checkEmpty(e){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new ED(u,n,s,o);this.mutationQueue.push(f);for(const m of o)this.Jr=this.Jr.add(new kt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return Z.resolve(f)}lookupMutationBatch(e,n){return Z.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.Xr(s),u=o<0?0:o;return Z.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?dp:this.Yn-1)}getAllMutationBatches(e){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new kt(n,0),o=new kt(n,Number.POSITIVE_INFINITY),u=[];return this.Jr.forEachInRange([s,o],(f=>{const m=this.Zr(f.Hr);u.push(m)})),Z.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new xt(xe);return n.forEach((o=>{const u=new kt(o,0),f=new kt(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([u,f],(m=>{s=s.add(m.Hr)}))})),Z.resolve(this.Yr(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;de.isDocumentKey(u)||(u=u.child(""));const f=new kt(new de(u),0);let m=new xt(xe);return this.Jr.forEachWhile((g=>{const y=g.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(m=m.add(g.Hr)),!0)}),f),Z.resolve(this.Yr(m))}Yr(e){const n=[];return e.forEach((s=>{const o=this.Zr(s);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){Fe(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Jr;return Z.forEach(n.mutations,(o=>{const u=new kt(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Jr=s}))}nr(e){}containsKey(e,n){const s=new kt(n,0),o=this.Jr.firstAfterOrEqual(s);return Z.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,Z.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class aN{constructor(e){this.ti=e,this.docs=(function(){return new ut(de.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.ti(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return Z.resolve(s?s.document.mutableCopy():Jt.newInvalidDocument(n))}getEntries(e,n){let s=ar();return n.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Jt.newInvalidDocument(o))})),Z.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=ar();const f=n.path,m=new de(f.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(m);for(;g.hasNext();){const{key:y,value:{document:E}}=g.getNext();if(!f.isPrefixOf(y.path))break;y.path.length>f.length+1||V2(O2(E),s)<=0||(o.has(E.key)||qh(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return Z.resolve(u)}getAllFromCollectionGroup(e,n,s,o){ye(9500)}ni(e,n){return Z.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new oN(this)}getSize(e){return Z.resolve(this.size)}}class oN extends ZD{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Mr.addEntry(e,o)):this.Mr.removeEntry(s)})),Z.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}class lN{constructor(e){this.persistence=e,this.ri=new $s((n=>gp(n)),yp),this.lastRemoteSnapshotVersion=ve.min(),this.highestTargetId=0,this.ii=0,this.si=new bp,this.targetCount=0,this.oi=oo._r()}forEachTarget(e,n){return this.ri.forEach(((s,o)=>n(o))),Z.resolve()}getLastRemoteSnapshotVersion(e){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Z.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.ii&&(this.ii=n),Z.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new oo(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,Z.resolve()}updateTargetData(e,n){return this.lr(n),Z.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,Z.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.ri.forEach(((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.ri.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),Z.waitFor(u).next((()=>o))}getTargetCount(e){return Z.resolve(this.targetCount)}getTargetData(e,n){const s=this.ri.get(n)||null;return Z.resolve(s)}addMatchingKeys(e,n,s){return this.si.$r(n,s),Z.resolve()}removeMatchingKeys(e,n,s){this.si.Qr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((f=>{u.push(o.markPotentiallyOrphaned(e,f))})),Z.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),Z.resolve()}getMatchingKeysForTargetId(e,n){const s=this.si.jr(n);return Z.resolve(s)}containsKey(e,n){return Z.resolve(this.si.containsKey(n))}}class hS{constructor(e,n){this._i={},this.overlays={},this.ai=new kh(0),this.ui=!1,this.ui=!0,this.ci=new rN,this.referenceDelegate=e(this),this.li=new lN(this),this.indexManager=new KD,this.remoteDocumentCache=(function(o){return new aN(o)})((s=>this.referenceDelegate.hi(s))),this.serializer=new FD(n),this.Pi=new nN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new iN,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this._i[e.toKey()];return s||(s=new sN(n,this.referenceDelegate),this._i[e.toKey()]=s),s}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,s){le("MemoryPersistence","Starting transaction:",e);const o=new uN(this.ai.next());return this.referenceDelegate.Ti(),s(o).next((u=>this.referenceDelegate.Ii(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ei(e,n){return Z.or(Object.values(this._i).map((s=>()=>s.containsKey(e,n))))}}class uN extends x2{constructor(e){super(),this.currentSequenceNumber=e}}class wp{constructor(e){this.persistence=e,this.Ri=new bp,this.Ai=null}static Vi(e){return new wp(e)}get di(){if(this.Ai)return this.Ai;throw ye(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.di.delete(s.toString()),Z.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.di.add(s.toString()),Z.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),Z.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((o=>this.di.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((u=>this.di.add(u.toString())))})).next((()=>s.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.di,(s=>{const o=de.fromPath(s);return this.mi(e,o).next((u=>{u||n.removeEntry(o,ve.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((s=>{s?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return Z.or([()=>Z.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class Rh{constructor(e,n){this.persistence=e,this.fi=new $s((s=>U2(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=WD(this,n)}static Vi(e,n){return new Rh(e,n)}Ti(){}Ii(e){return Z.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((o=>s+o))))}pr(e){let n=0;return this.mr(e,(s=>{n++})).next((()=>n))}mr(e,n){return Z.forEach(this.fi,((s,o)=>this.wr(e,s,o).next((u=>u?Z.resolve():n(o)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ni(e,(f=>this.wr(e,f,n).next((m=>{m||(s++,u.removeEntry(f,ve.min()))})))).next((()=>u.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),Z.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.fi.set(s,e.currentSequenceNumber),Z.resolve()}removeReference(e,n,s){return this.fi.set(s,e.currentSequenceNumber),Z.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),Z.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=sh(e.data.value)),n}wr(e,n,s){return Z.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.fi.get(n);return Z.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Rp{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Ts=s,this.Is=o}static Es(e,n){let s=Le(),o=Le();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Rp(e,n.fromCache,s,o)}}class cN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class hN{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return Uw()?8:L2(Wt())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.gs(e,n).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ps(e,n,o,s).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new cN;return this.ys(e,n,f).next((m=>{if(u.result=m,this.As)return this.ws(e,n,f,m.size)}))})).next((()=>u.result))}ws(e,n,s,o){return s.documentReadCount<this.Vs?(Fa()<=Me.DEBUG&&le("QueryEngine","SDK will not create cache indexes for query:",Ga(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),Z.resolve()):(Fa()<=Me.DEBUG&&le("QueryEngine","Query:",Ga(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ds*o?(Fa()<=Me.DEBUG&&le("QueryEngine","The SDK decides to create cache indexes for query:",Ga(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ci(n))):Z.resolve())}gs(e,n){if(_E(n))return Z.resolve(null);let s=Ci(n);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=Pm(n,null,"F"),s=Ci(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((u=>{const f=Le(...u);return this.fs.getDocuments(e,f).next((m=>this.indexManager.getMinOffset(e,s).next((g=>{const y=this.bs(n,m);return this.Ss(n,y,f,g.readTime)?this.gs(e,Pm(n,null,"F")):this.Ds(e,y,n,g)}))))})))))}ps(e,n,s,o){return _E(n)||o.isEqual(ve.min())?Z.resolve(null):this.fs.getDocuments(e,s).next((u=>{const f=this.bs(n,u);return this.Ss(n,f,s,o)?Z.resolve(null):(Fa()<=Me.DEBUG&&le("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Ga(n)),this.Ds(e,f,n,N2(o,Gl)).next((m=>m)))}))}bs(e,n){let s=new xt(q0(e));return n.forEach(((o,u)=>{qh(e,u)&&(s=s.add(u))})),s}Ss(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}ys(e,n,s){return Fa()<=Me.DEBUG&&le("QueryEngine","Using full collection scan to execute query:",Ga(n)),this.fs.getDocumentsMatchingQuery(e,n,Wr.min(),s)}Ds(e,n,s,o){return this.fs.getDocumentsMatchingQuery(e,s,o).next((u=>(n.forEach((f=>{u=u.insert(f.key,f)})),u)))}}const Cp="LocalStore",fN=3e8;class dN{constructor(e,n,s,o){this.persistence=e,this.Cs=n,this.serializer=o,this.vs=new ut(xe),this.Fs=new $s((u=>gp(u)),yp),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(s)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new tN(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function mN(r,e,n,s){return new dN(r,e,n,s)}async function fS(r,e){const n=Te(r);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,n.Os(e),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const f=[],m=[];let g=Le();for(const y of o){f.push(y.batchId);for(const E of y.mutations)g=g.add(E.key)}for(const y of u){m.push(y.batchId);for(const E of y.mutations)g=g.add(E.key)}return n.localDocuments.getDocuments(s,g).next((y=>({Ns:y,removedBatchIds:f,addedBatchIds:m})))}))}))}function pN(r,e){const n=Te(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),u=n.xs.newChangeBuffer({trackRemovals:!0});return(function(m,g,y,E){const S=y.batch,w=S.keys();let U=Z.resolve();return w.forEach((J=>{U=U.next((()=>E.getEntry(g,J))).next((X=>{const K=y.docVersions.get(J);Fe(K!==null,48541),X.version.compareTo(K)<0&&(S.applyToRemoteDocument(X,y),X.isValidDocument()&&(X.setReadTime(y.commitVersion),E.addEntry(X)))}))})),U.next((()=>m.mutationQueue.removeMutationBatch(g,S)))})(n,s,e,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let g=Le();for(let y=0;y<m.mutationResults.length;++y)m.mutationResults[y].transformResults.length>0&&(g=g.add(m.batch.mutations[y].key));return g})(e)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function dS(r){const e=Te(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function gN(r,e){const n=Te(r),s=e.snapshotVersion;let o=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=n.xs.newChangeBuffer({trackRemovals:!0});o=n.vs;const m=[];e.targetChanges.forEach(((E,S)=>{const w=o.get(S);if(!w)return;m.push(n.li.removeMatchingKeys(u,E.removedDocuments,S).next((()=>n.li.addMatchingKeys(u,E.addedDocuments,S))));let U=w.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(S)!==null?U=U.withResumeToken(Yt.EMPTY_BYTE_STRING,ve.min()).withLastLimboFreeSnapshotVersion(ve.min()):E.resumeToken.approximateByteSize()>0&&(U=U.withResumeToken(E.resumeToken,s)),o=o.insert(S,U),(function(X,K,ne){return X.resumeToken.approximateByteSize()===0||K.snapshotVersion.toMicroseconds()-X.snapshotVersion.toMicroseconds()>=fN?!0:ne.addedDocuments.size+ne.modifiedDocuments.size+ne.removedDocuments.size>0})(w,U,E)&&m.push(n.li.updateTargetData(u,U))}));let g=ar(),y=Le();if(e.documentUpdates.forEach((E=>{e.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))})),m.push(yN(u,f,e.documentUpdates).next((E=>{g=E.Bs,y=E.Ls}))),!s.isEqual(ve.min())){const E=n.li.getLastRemoteSnapshotVersion(u).next((S=>n.li.setTargetsMetadata(u,u.currentSequenceNumber,s)));m.push(E)}return Z.waitFor(m).next((()=>f.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,g,y))).next((()=>g))})).then((u=>(n.vs=o,u)))}function yN(r,e,n){let s=Le(),o=Le();return n.forEach((u=>s=s.add(u))),e.getEntries(r,s).next((u=>{let f=ar();return n.forEach(((m,g)=>{const y=u.get(m);g.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(m)),g.isNoDocument()&&g.version.isEqual(ve.min())?(e.removeEntry(m,g.readTime),f=f.insert(m,g)):!y.isValidDocument()||g.version.compareTo(y.version)>0||g.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(g),f=f.insert(m,g)):le(Cp,"Ignoring outdated watch update for ",m,". Current version:",y.version," Watch version:",g.version)})),{Bs:f,Ls:o}}))}function _N(r,e){const n=Te(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=dp),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function vN(r,e){const n=Te(r);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.li.getTargetData(s,e).next((u=>u?(o=u,Z.resolve(o)):n.li.allocateTargetId(s).next((f=>(o=new Kr(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.li.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.vs.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.vs=n.vs.insert(s.targetId,s),n.Fs.set(e,s.targetId)),s}))}async function jm(r,e,n){const s=Te(r),o=s.vs.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(f=>s.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!_o(f))throw f;le(Cp,`Failed to update sequence numbers for target ${e}: ${f}`)}s.vs=s.vs.remove(e),s.Fs.delete(o.target)}function OE(r,e,n){const s=Te(r);let o=ve.min(),u=Le();return s.persistence.runTransaction("Execute query","readwrite",(f=>(function(g,y,E){const S=Te(g),w=S.Fs.get(E);return w!==void 0?Z.resolve(S.vs.get(w)):S.li.getTargetData(y,E)})(s,f,Ci(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.li.getMatchingKeysForTargetId(f,m.targetId).next((g=>{u=g}))})).next((()=>s.Cs.getDocumentsMatchingQuery(f,e,n?o:ve.min(),n?u:Le()))).next((m=>(EN(s,sD(e),m),{documents:m,ks:u})))))}function EN(r,e,n){let s=r.Ms.get(e)||ve.min();n.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),r.Ms.set(e,s)}class VE{constructor(){this.activeTargetIds=hD()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class TN{constructor(){this.vo=new VE,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,s){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new VE,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class SN{Mo(e){}shutdown(){}}const ME="ConnectivityMonitor";class xE{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){le(ME,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){le(ME,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Xc=null;function qm(){return Xc===null?Xc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Xc++,"0x"+Xc.toString(16)}const pm="RestConnection",AN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class bN{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${s}/databases/${o}`,this.$o=this.databaseId.database===Eh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Wo(e,n,s,o,u){const f=qm(),m=this.Qo(e,n.toUriEncodedString());le(pm,`Sending RPC '${e}' ${f}:`,m,s);const g={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(g,o,u);const{host:y}=new URL(m),E=fo(y);return this.zo(e,m,g,s,E).then((S=>(le(pm,`Received RPC '${e}' ${f}: `,S),S)),(S=>{throw io(pm,`RPC '${e}' ${f} failed with error: `,S,"url: ",m,"request:",s),S}))}jo(e,n,s,o,u,f){return this.Wo(e,n,s,o,u)}Go(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+go})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>e[u]=o)),s&&s.headers.forEach(((o,u)=>e[u]=o))}Qo(e,n){const s=AN[e];let o=`${this.qo}/v1/${n}:${s}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}class wN{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const Xt="WebChannelConnection",Il=(r,e,n)=>{r.listen(e,(s=>{try{n(s)}catch(o){setTimeout((()=>{throw o}),0)}}))};class Za extends bN{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!Za.c_){const e=_0();Il(e,y0.STAT_EVENT,(n=>{n.stat===Dm.PROXY?le(Xt,"STAT_EVENT: detected buffering proxy"):n.stat===Dm.NOPROXY&&le(Xt,"STAT_EVENT: detected no buffering proxy")})),Za.c_=!0}}zo(e,n,s,o,u){const f=qm();return new Promise(((m,g)=>{const y=new p0;y.setWithCredentials(!0),y.listenOnce(g0.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case rh.NO_ERROR:const S=y.getResponseJson();le(Xt,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(S)),m(S);break;case rh.TIMEOUT:le(Xt,`RPC '${e}' ${f} timed out`),g(new oe(W.DEADLINE_EXCEEDED,"Request time out"));break;case rh.HTTP_ERROR:const w=y.getStatus();if(le(Xt,`RPC '${e}' ${f} failed with status:`,w,"response text:",y.getResponseText()),w>0){let U=y.getResponseJson();Array.isArray(U)&&(U=U[0]);const J=U?.error;if(J&&J.status&&J.message){const X=(function(ne){const ee=ne.toLowerCase().replace(/_/g,"-");return Object.values(W).indexOf(ee)>=0?ee:W.UNKNOWN})(J.status);g(new oe(X,J.message))}else g(new oe(W.UNKNOWN,"Server responded with status "+y.getStatus()))}else g(new oe(W.UNAVAILABLE,"Connection failed."));break;default:ye(9055,{l_:e,streamId:f,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{le(Xt,`RPC '${e}' ${f} completed.`)}}));const E=JSON.stringify(o);le(Xt,`RPC '${e}' ${f} sending request:`,o),y.send(n,"POST",E,s,15)}))}T_(e,n,s){const o=qm(),u=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=this.createWebChannelTransport(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(m.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(m.useFetchStreams=!0),this.Go(m.initMessageHeaders,n,s),m.encodeInitMessageHeaders=!0;const y=u.join("");le(Xt,`Creating RPC '${e}' stream ${o}: ${y}`,m);const E=f.createWebChannel(y,m);this.I_(E);let S=!1,w=!1;const U=new wN({Ho:J=>{w?le(Xt,`Not sending because RPC '${e}' stream ${o} is closed:`,J):(S||(le(Xt,`Opening RPC '${e}' stream ${o} transport.`),E.open(),S=!0),le(Xt,`RPC '${e}' stream ${o} sending:`,J),E.send(J))},Jo:()=>E.close()});return Il(E,Ol.EventType.OPEN,(()=>{w||(le(Xt,`RPC '${e}' stream ${o} transport opened.`),U.i_())})),Il(E,Ol.EventType.CLOSE,(()=>{w||(w=!0,le(Xt,`RPC '${e}' stream ${o} transport closed`),U.o_(),this.E_(E))})),Il(E,Ol.EventType.ERROR,(J=>{w||(w=!0,io(Xt,`RPC '${e}' stream ${o} transport errored. Name:`,J.name,"Message:",J.message),U.o_(new oe(W.UNAVAILABLE,"The operation could not be completed")))})),Il(E,Ol.EventType.MESSAGE,(J=>{if(!w){const X=J.data[0];Fe(!!X,16349);const K=X,ne=K?.error||K[0]?.error;if(ne){le(Xt,`RPC '${e}' stream ${o} received error:`,ne);const ee=ne.status;let re=(function(Re){const D=Rt[Re];if(D!==void 0)return Z0(D)})(ee),Ce=ne.message;re===void 0&&(re=W.INTERNAL,Ce="Unknown error status: "+ee+" with message "+ne.message),w=!0,U.o_(new oe(re,Ce)),E.close()}else le(Xt,`RPC '${e}' stream ${o} received:`,X),U.__(X)}})),Za.u_(),setTimeout((()=>{U.s_()}),0),U}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,s){super.Go(e,n,s),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return v0()}}function RN(r){return new Za(r)}function gm(){return typeof document<"u"?document:null}function Kh(r){return new ND(r,!0)}Za.c_=!1;class mS{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Ci=e,this.timerId=n,this.R_=s,this.A_=o,this.V_=u,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&le("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const LE="PersistentStream";class pS{constructor(e,n,s,o,u,f,m,g){this.Ci=e,this.b_=s,this.S_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new mS(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===W.RESOURCE_EXHAUSTED?(sr(n.toString()),sr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===W.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{e((()=>{const o=new oe(W.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,n){const s=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{s((()=>this.listener.Zo()))})),this.stream.Yo((()=>{s((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return le(LE,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(le(LE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class CN extends pS{constructor(e,n,s,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=MD(this.serializer,e),s=(function(u){if(!("targetChange"in u))return ve.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?ve.min():f.readTime?Di(f.readTime):ve.min()})(e);return this.listener.J_(n,s)}Z_(e){const n={};n.database=Bm(this.serializer),n.addTarget=(function(u,f){let m;const g=f.target;if(m=xm(g)?{documents:PD(u,g)}:{query:UD(u,g).ft},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=nS(u,f.resumeToken);const y=Um(u,f.expectedCount);y!==null&&(m.expectedCount=y)}else if(f.snapshotVersion.compareTo(ve.min())>0){m.readTime=wh(u,f.snapshotVersion.toTimestamp());const y=Um(u,f.expectedCount);y!==null&&(m.expectedCount=y)}return m})(this.serializer,e);const s=zD(this.serializer,e);s&&(n.labels=s),this.K_(n)}X_(e){const n={};n.database=Bm(this.serializer),n.removeTarget=e,this.K_(n)}}class IN extends pS{constructor(e,n,s,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return Fe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Fe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Fe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=LD(e.writeResults,e.commitTime),s=Di(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=Bm(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>xD(this.serializer,s)))};this.K_(n)}}class DN{}class NN extends DN{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new oe(W.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Wo(e,km(n,s),o,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new oe(W.UNKNOWN,u.toString())}))}jo(e,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,m])=>this.connection.jo(e,km(n,s),o,f,m,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new oe(W.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function ON(r,e,n,s){return new NN(r,e,n,s)}class VN{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(sr(n),this.aa=!1):le("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Ys="RemoteStore";class MN{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=u,this.Aa.Mo((f=>{s.enqueueAndForget((async()=>{Ws(this)&&(le(Ys,"Restarting streams for network reachability change."),await(async function(g){const y=Te(g);y.Ea.add(4),await hu(y),y.Va.set("Unknown"),y.Ea.delete(4),await Yh(y)})(this))}))})),this.Va=new VN(s,o)}}async function Yh(r){if(Ws(r))for(const e of r.Ra)await e(!0)}async function hu(r){for(const e of r.Ra)await e(!1)}function gS(r,e){const n=Te(r);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Op(n)?Np(n):Eo(n).O_()&&Dp(n,e))}function Ip(r,e){const n=Te(r),s=Eo(n);n.Ia.delete(e),s.O_()&&yS(n,e),n.Ia.size===0&&(s.O_()?s.L_():Ws(n)&&n.Va.set("Unknown"))}function Dp(r,e){if(r.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ve.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Eo(r).Z_(e)}function yS(r,e){r.da.$e(e),Eo(r).X_(e)}function Np(r){r.da=new RD({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),Eo(r).start(),r.Va.ua()}function Op(r){return Ws(r)&&!Eo(r).x_()&&r.Ia.size>0}function Ws(r){return Te(r).Ea.size===0}function _S(r){r.da=void 0}async function xN(r){r.Va.set("Online")}async function LN(r){r.Ia.forEach(((e,n)=>{Dp(r,e)}))}async function PN(r,e){_S(r),Op(r)?(r.Va.ha(e),Np(r)):r.Va.set("Unknown")}async function UN(r,e,n){if(r.Va.set("Online"),e instanceof tS&&e.state===2&&e.cause)try{await(async function(o,u){const f=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Ia.delete(m),o.da.removeTarget(m))})(r,e)}catch(s){le(Ys,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Ch(r,s)}else if(e instanceof lh?r.da.Xe(e):e instanceof eS?r.da.st(e):r.da.tt(e),!n.isEqual(ve.min()))try{const s=await dS(r.localStore);n.compareTo(s)>=0&&await(function(u,f){const m=u.da.Tt(f);return m.targetChanges.forEach(((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const E=u.Ia.get(y);E&&u.Ia.set(y,E.withResumeToken(g.resumeToken,f))}})),m.targetMismatches.forEach(((g,y)=>{const E=u.Ia.get(g);if(!E)return;u.Ia.set(g,E.withResumeToken(Yt.EMPTY_BYTE_STRING,E.snapshotVersion)),yS(u,g);const S=new Kr(E.target,g,y,E.sequenceNumber);Dp(u,S)})),u.remoteSyncer.applyRemoteEvent(m)})(r,n)}catch(s){le(Ys,"Failed to raise snapshot:",s),await Ch(r,s)}}async function Ch(r,e,n){if(!_o(e))throw e;r.Ea.add(1),await hu(r),r.Va.set("Offline"),n||(n=()=>dS(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{le(Ys,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await Yh(r)}))}function vS(r,e){return e().catch((n=>Ch(r,n,e)))}async function Qh(r){const e=Te(r),n=ns(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:dp;for(;kN(e);)try{const o=await _N(e.localStore,s);if(o===null){e.Ta.length===0&&n.L_();break}s=o.batchId,zN(e,o)}catch(o){await Ch(e,o)}ES(e)&&TS(e)}function kN(r){return Ws(r)&&r.Ta.length<10}function zN(r,e){r.Ta.push(e);const n=ns(r);n.O_()&&n.Y_&&n.ea(e.mutations)}function ES(r){return Ws(r)&&!ns(r).x_()&&r.Ta.length>0}function TS(r){ns(r).start()}async function BN(r){ns(r).ra()}async function jN(r){const e=ns(r);for(const n of r.Ta)e.ea(n.mutations)}async function qN(r,e,n){const s=r.Ta.shift(),o=Tp.from(s,e,n);await vS(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await Qh(r)}async function HN(r,e){e&&ns(r).Y_&&await(async function(s,o){if((function(f){return AD(f)&&f!==W.ABORTED})(o.code)){const u=s.Ta.shift();ns(s).B_(),await vS(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await Qh(s)}})(r,e),ES(r)&&TS(r)}async function PE(r,e){const n=Te(r);n.asyncQueue.verifyOperationInProgress(),le(Ys,"RemoteStore received new credentials");const s=Ws(n);n.Ea.add(3),await hu(n),s&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Yh(n)}async function FN(r,e){const n=Te(r);e?(n.Ea.delete(2),await Yh(n)):e||(n.Ea.add(2),await hu(n),n.Va.set("Unknown"))}function Eo(r){return r.ma||(r.ma=(function(n,s,o){const u=Te(n);return u.sa(),new CN(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Zo:xN.bind(null,r),Yo:LN.bind(null,r),t_:PN.bind(null,r),J_:UN.bind(null,r)}),r.Ra.push((async e=>{e?(r.ma.B_(),Op(r)?Np(r):r.Va.set("Unknown")):(await r.ma.stop(),_S(r))}))),r.ma}function ns(r){return r.fa||(r.fa=(function(n,s,o){const u=Te(n);return u.sa(),new IN(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Zo:()=>Promise.resolve(),Yo:BN.bind(null,r),t_:HN.bind(null,r),ta:jN.bind(null,r),na:qN.bind(null,r)}),r.Ra.push((async e=>{e?(r.fa.B_(),await Qh(r)):(await r.fa.stop(),r.Ta.length>0&&(le(Ys,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class Vp{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new Bs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const f=Date.now()+s,m=new Vp(e,n,f,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new oe(W.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Mp(r,e){if(sr("AsyncQueue",`${e}: ${r}`),_o(r))return new oe(W.UNAVAILABLE,`${e}: ${r}`);throw r}class eo{static emptySet(e){return new eo(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||de.comparator(n.key,s.key):(n,s)=>de.comparator(n.key,s.key),this.keyedMap=Vl(),this.sortedSet=new ut(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof eo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new eo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}class UE{constructor(){this.ga=new ut(de.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):ye(63341,{Vt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class lo{constructor(e,n,s,o,u,f,m,g,y){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=g,this.hasCachedResults=y}static fromInitialDocuments(e,n,s,o,u){const f=[];return n.forEach((m=>{f.push({type:0,doc:m})})),new lo(e,n,eo.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&jh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}class GN{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class KN{constructor(){this.queries=kE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=Te(n),u=o.queries;o.queries=kE(),u.forEach(((f,m)=>{for(const g of m.ba)g.onError(s)}))})(this,new oe(W.ABORTED,"Firestore shutting down"))}}function kE(){return new $s((r=>j0(r)),jh)}async function YN(r,e){const n=Te(r);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.Sa()&&e.Da()&&(s=2):(u=new GN,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=Mp(f,`Initialization of query '${Ga(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.ba.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&xp(n)}async function QN(r,e){const n=Te(r),s=e.query;let o=3;const u=n.queries.get(s);if(u){const f=u.ba.indexOf(e);f>=0&&(u.ba.splice(f,1),u.ba.length===0?o=e.Da()?0:1:!u.Sa()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function XN(r,e){const n=Te(r);let s=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.ba)m.Fa(o)&&(s=!0);f.wa=o}}s&&xp(n)}function $N(r,e,n){const s=Te(r),o=s.queries.get(e);if(o)for(const u of o.ba)u.onError(n);s.queries.delete(e)}function xp(r){r.Ca.forEach((e=>{e.next()}))}var Hm,zE;(zE=Hm||(Hm={})).Ma="default",zE.Cache="cache";class JN{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new lo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.Ka||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=lo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Hm.Cache}}class SS{constructor(e){this.key=e}}class AS{constructor(e){this.key=e}}class WN{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Le(),this.mutatedKeys=Le(),this.eu=q0(e),this.tu=new eo(this.eu)}get nu(){return this.Za}ru(e,n){const s=n?n.iu:new UE,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((E,S)=>{const w=o.get(E),U=qh(this.query,S)?S:null,J=!!w&&this.mutatedKeys.has(w.key),X=!!U&&(U.hasLocalMutations||this.mutatedKeys.has(U.key)&&U.hasCommittedMutations);let K=!1;w&&U?w.data.isEqual(U.data)?J!==X&&(s.track({type:3,doc:U}),K=!0):this.su(w,U)||(s.track({type:2,doc:U}),K=!0,(g&&this.eu(U,g)>0||y&&this.eu(U,y)<0)&&(m=!0)):!w&&U?(s.track({type:0,doc:U}),K=!0):w&&!U&&(s.track({type:1,doc:w}),K=!0,(g||y)&&(m=!0)),K&&(U?(f=f.add(U),u=X?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{tu:f,iu:s,Ss:m,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const f=e.iu.ya();f.sort(((E,S)=>(function(U,J){const X=K=>{switch(K){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ye(20277,{Vt:K})}};return X(U)-X(J)})(E.type,S.type)||this.eu(E.doc,S.doc))),this.ou(s),o=o??!1;const m=n&&!o?this._u():[],g=this.Ya.size===0&&this.current&&!o?1:0,y=g!==this.Xa;return this.Xa=g,f.length!==0||y?{snapshot:new lo(this.query,e.tu,u,f,e.mutatedKeys,g===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new UE,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Le(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Ya=this.Ya.add(s.key))}));const n=[];return e.forEach((s=>{this.Ya.has(s)||n.push(new AS(s))})),this.Ya.forEach((s=>{e.has(s)||n.push(new SS(s))})),n}cu(e){this.Za=e.ks,this.Ya=Le();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return lo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Lp="SyncEngine";class ZN{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class eO{constructor(e){this.key=e,this.hu=!1}}class tO{constructor(e,n,s,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new $s((m=>j0(m)),jh),this.Iu=new Map,this.Eu=new Set,this.Ru=new ut(de.comparator),this.Au=new Map,this.Vu=new bp,this.du={},this.mu=new Map,this.fu=oo.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function nO(r,e,n=!0){const s=DS(r);let o;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await bS(s,e,n,!0),o}async function iO(r,e){const n=DS(r);await bS(n,e,!0,!1)}async function bS(r,e,n,s){const o=await vN(r.localStore,Ci(e)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await rO(r,e,u,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&gS(r.remoteStore,o),m}async function rO(r,e,n,s,o){r.pu=(S,w,U)=>(async function(X,K,ne,ee){let re=K.view.ru(ne);re.Ss&&(re=await OE(X.localStore,K.query,!1).then((({documents:D})=>K.view.ru(D,re))));const Ce=ee&&ee.targetChanges.get(K.targetId),Ie=ee&&ee.targetMismatches.get(K.targetId)!=null,Re=K.view.applyChanges(re,X.isPrimaryClient,Ce,Ie);return jE(X,K.targetId,Re.au),Re.snapshot})(r,S,w,U);const u=await OE(r.localStore,e,!0),f=new WN(e,u.ks),m=f.ru(u.documents),g=cu.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),y=f.applyChanges(m,r.isPrimaryClient,g);jE(r,n,y.au);const E=new ZN(e,n,f);return r.Tu.set(e,E),r.Iu.has(n)?r.Iu.get(n).push(e):r.Iu.set(n,[e]),y.snapshot}async function sO(r,e,n){const s=Te(r),o=s.Tu.get(e),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((f=>!jh(f,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await jm(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&Ip(s.remoteStore,o.targetId),Fm(s,o.targetId)})).catch(yo)):(Fm(s,o.targetId),await jm(s.localStore,o.targetId,!0))}async function aO(r,e){const n=Te(r),s=n.Tu.get(e),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Ip(n.remoteStore,s.targetId))}async function oO(r,e,n){const s=mO(r);try{const o=await(function(f,m){const g=Te(f),y=tt.now(),E=m.reduce(((U,J)=>U.add(J.key)),Le());let S,w;return g.persistence.runTransaction("Locally write mutations","readwrite",(U=>{let J=ar(),X=Le();return g.xs.getEntries(U,E).next((K=>{J=K,J.forEach(((ne,ee)=>{ee.isValidDocument()||(X=X.add(ne))}))})).next((()=>g.localDocuments.getOverlayedDocuments(U,J))).next((K=>{S=K;const ne=[];for(const ee of m){const re=_D(ee,S.get(ee.key).overlayedDocument);re!=null&&ne.push(new Js(ee.key,re,M0(re.value.mapValue),Ii.exists(!0)))}return g.mutationQueue.addMutationBatch(U,y,ne,m)})).next((K=>{w=K;const ne=K.applyToLocalDocumentSet(S,X);return g.documentOverlayCache.saveOverlays(U,K.batchId,ne)}))})).then((()=>({batchId:w.batchId,changes:F0(S)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(f,m,g){let y=f.du[f.currentUser.toKey()];y||(y=new ut(xe)),y=y.insert(m,g),f.du[f.currentUser.toKey()]=y})(s,o.batchId,n),await fu(s,o.changes),await Qh(s.remoteStore)}catch(o){const u=Mp(o,"Failed to persist write");n.reject(u)}}async function wS(r,e){const n=Te(r);try{const s=await gN(n.localStore,e);e.targetChanges.forEach(((o,u)=>{const f=n.Au.get(u);f&&(Fe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?Fe(f.hu,14607):o.removedDocuments.size>0&&(Fe(f.hu,42227),f.hu=!1))})),await fu(n,s,e)}catch(s){await yo(s)}}function BE(r,e,n){const s=Te(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((u,f)=>{const m=f.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(f,m){const g=Te(f);g.onlineState=m;let y=!1;g.queries.forEach(((E,S)=>{for(const w of S.ba)w.va(m)&&(y=!0)})),y&&xp(g)})(s.eventManager,e),o.length&&s.Pu.J_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function lO(r,e,n){const s=Te(r);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Au.get(e),u=o&&o.key;if(u){let f=new ut(de.comparator);f=f.insert(u,Jt.newNoDocument(u,ve.min()));const m=Le().add(u),g=new Gh(ve.min(),new Map,new ut(xe),f,m);await wS(s,g),s.Ru=s.Ru.remove(u),s.Au.delete(e),Pp(s)}else await jm(s.localStore,e,!1).then((()=>Fm(s,e,n))).catch(yo)}async function uO(r,e){const n=Te(r),s=e.batch.batchId;try{const o=await pN(n.localStore,e);CS(n,s,null),RS(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await fu(n,o)}catch(o){await yo(o)}}async function cO(r,e,n){const s=Te(r);try{const o=await(function(f,m){const g=Te(f);return g.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let E;return g.mutationQueue.lookupMutationBatch(y,m).next((S=>(Fe(S!==null,37113),E=S.keys(),g.mutationQueue.removeMutationBatch(y,S)))).next((()=>g.mutationQueue.performConsistencyCheck(y))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(y,E,m))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E))).next((()=>g.localDocuments.getDocuments(y,E)))}))})(s.localStore,e);CS(s,e,n),RS(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await fu(s,o)}catch(o){await yo(o)}}function RS(r,e){(r.mu.get(e)||[]).forEach((n=>{n.resolve()})),r.mu.delete(e)}function CS(r,e,n){const s=Te(r);let o=s.du[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.du[s.currentUser.toKey()]=o}}function Fm(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),n&&r.Pu.yu(s,n);r.Iu.delete(e),r.isPrimaryClient&&r.Vu.Gr(e).forEach((s=>{r.Vu.containsKey(s)||IS(r,s)}))}function IS(r,e){r.Eu.delete(e.path.canonicalString());const n=r.Ru.get(e);n!==null&&(Ip(r.remoteStore,n),r.Ru=r.Ru.remove(e),r.Au.delete(n),Pp(r))}function jE(r,e,n){for(const s of n)s instanceof SS?(r.Vu.addReference(s.key,e),hO(r,s)):s instanceof AS?(le(Lp,"Document no longer in limbo: "+s.key),r.Vu.removeReference(s.key,e),r.Vu.containsKey(s.key)||IS(r,s.key)):ye(19791,{wu:s})}function hO(r,e){const n=e.key,s=n.path.canonicalString();r.Ru.get(n)||r.Eu.has(s)||(le(Lp,"New document in limbo: "+n),r.Eu.add(s),Pp(r))}function Pp(r){for(;r.Eu.size>0&&r.Ru.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const n=new de(et.fromString(e)),s=r.fu.next();r.Au.set(s,new eO(n)),r.Ru=r.Ru.insert(n,s),gS(r.remoteStore,new Kr(Ci(_p(n.path)),s,"TargetPurposeLimboResolution",kh.ce))}}async function fu(r,e,n){const s=Te(r),o=[],u=[],f=[];s.Tu.isEmpty()||(s.Tu.forEach(((m,g)=>{f.push(s.pu(g,e,n).then((y=>{if((y||n)&&s.isPrimaryClient){const E=y?!y.fromCache:n?.targetChanges.get(g.targetId)?.current;s.sharedClientState.updateQueryState(g.targetId,E?"current":"not-current")}if(y){o.push(y);const E=Rp.Es(g.targetId,y);u.push(E)}})))})),await Promise.all(f),s.Pu.J_(o),await(async function(g,y){const E=Te(g);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>Z.forEach(y,(w=>Z.forEach(w.Ts,(U=>E.persistence.referenceDelegate.addReference(S,w.targetId,U))).next((()=>Z.forEach(w.Is,(U=>E.persistence.referenceDelegate.removeReference(S,w.targetId,U)))))))))}catch(S){if(!_o(S))throw S;le(Cp,"Failed to update sequence numbers: "+S)}for(const S of y){const w=S.targetId;if(!S.fromCache){const U=E.vs.get(w),J=U.snapshotVersion,X=U.withLastLimboFreeSnapshotVersion(J);E.vs=E.vs.insert(w,X)}}})(s.localStore,u))}async function fO(r,e){const n=Te(r);if(!n.currentUser.isEqual(e)){le(Lp,"User change. New user:",e.toKey());const s=await fS(n.localStore,e);n.currentUser=e,(function(u,f){u.mu.forEach((m=>{m.forEach((g=>{g.reject(new oe(W.CANCELLED,f))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await fu(n,s.Ns)}}function dO(r,e){const n=Te(r),s=n.Au.get(e);if(s&&s.hu)return Le().add(s.key);{let o=Le();const u=n.Iu.get(e);if(!u)return o;for(const f of u){const m=n.Tu.get(f);o=o.unionWith(m.view.nu)}return o}}function DS(r){const e=Te(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=wS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=dO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=lO.bind(null,e),e.Pu.J_=XN.bind(null,e.eventManager),e.Pu.yu=$N.bind(null,e.eventManager),e}function mO(r){const e=Te(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=uO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=cO.bind(null,e),e}class Ih{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Kh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return mN(this.persistence,new hN,e.initialUser,this.serializer)}Cu(e){return new hS(wp.Vi,this.serializer)}Du(e){return new TN}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ih.provider={build:()=>new Ih};class pO extends Ih{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Fe(this.persistence.referenceDelegate instanceof Rh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new $D(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?hn.withCacheSize(this.cacheSizeBytes):hn.DEFAULT;return new hS((s=>Rh.Vi(s,n)),this.serializer)}}class Gm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>BE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=fO.bind(null,this.syncEngine),await FN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new KN})()}createDatastore(e){const n=Kh(e.databaseInfo.databaseId),s=RN(e.databaseInfo);return ON(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,o,u,f,m){return new MN(s,o,u,f,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>BE(this.syncEngine,n,0)),(function(){return xE.v()?new xE:new SN})())}createSyncEngine(e,n){return(function(o,u,f,m,g,y,E){const S=new tO(o,u,f,m,g,y);return E&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=Te(n);le(Ys,"RemoteStore shutting down."),s.Ea.add(5),await hu(s),s.Aa.shutdown(),s.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Gm.provider={build:()=>new Gm};class gO{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):sr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const is="FirestoreClient";class yO{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this._databaseInfo=o,this.user=$t.UNAUTHENTICATED,this.clientId=fp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async f=>{le(is,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(s,(f=>(le(is,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Bs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Mp(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function ym(r,e){r.asyncQueue.verifyOperationInProgress(),le(is,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener((async o=>{s.isEqual(o)||(await fS(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function qE(r,e){r.asyncQueue.verifyOperationInProgress();const n=await _O(r);le(is,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener((s=>PE(e.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,o)=>PE(e.remoteStore,o))),r._onlineComponents=e}async function _O(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){le(is,"Using user provided OfflineComponentProvider");try{await ym(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===W.FAILED_PRECONDITION||o.code===W.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;io("Error using user provided cache. Falling back to memory cache: "+n),await ym(r,new Ih)}}else le(is,"Using default OfflineComponentProvider"),await ym(r,new pO(void 0));return r._offlineComponents}async function NS(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(le(is,"Using user provided OnlineComponentProvider"),await qE(r,r._uninitializedComponentsProvider._online)):(le(is,"Using default OnlineComponentProvider"),await qE(r,new Gm))),r._onlineComponents}function vO(r){return NS(r).then((e=>e.syncEngine))}async function HE(r){const e=await NS(r),n=e.eventManager;return n.onListen=nO.bind(null,e.syncEngine),n.onUnlisten=sO.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=iO.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=aO.bind(null,e.syncEngine),n}function EO(r,e,n,s){const o=new gO(s),u=new JN(e,o,n);return r.asyncQueue.enqueueAndForget((async()=>YN(await HE(r),u))),()=>{o.Nu(),r.asyncQueue.enqueueAndForget((async()=>QN(await HE(r),u)))}}function TO(r,e){const n=new Bs;return r.asyncQueue.enqueueAndForget((async()=>oO(await vO(r),e,n))),n.promise}function OS(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}const SO="ComponentProvider",FE=new Map;function AO(r,e,n,s,o){return new B2(r,e,n,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,OS(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,s)}const VS="firestore.googleapis.com",GE=!0;class KE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new oe(W.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=VS,this.ssl=GE}else this.host=e.host,this.ssl=e.ssl??GE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=cS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<QD)throw new oe(W.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}D2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=OS(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new oe(W.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new oe(W.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new oe(W.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Xh{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new KE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new oe(W.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new oe(W.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new KE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new v2;switch(s.type){case"firstParty":return new A2(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new oe(W.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=FE.get(n);s&&(le(SO,"Removing Datastore"),FE.delete(n),s.terminate())})(this),Promise.resolve()}}function bO(r,e,n,s={}){r=Wa(r,Xh);const o=fo(e),u=r._getSettings(),f={...u,emulatorOptions:r._getEmulatorOptions()},m=`${e}:${n}`;o&&(RT(`https://${m}`),CT("Firestore",!0)),u.host!==VS&&u.host!==m&&io("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...u,host:m,ssl:o,emulatorOptions:s};if(!qs(g,f)&&(r._setSettings(g),s.mockUserToken)){let y,E;if(typeof s.mockUserToken=="string")y=s.mockUserToken,E=$t.MOCK_USER;else{y=Iw(s.mockUserToken,r._app?.options.projectId);const S=s.mockUserToken.sub||s.mockUserToken.user_id;if(!S)throw new oe(W.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new $t(S)}r._authCredentials=new E2(new T0(y,E))}}class Zs{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Zs(this.firestore,e,this._query)}}class Mt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Jr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Mt(this.firestore,e,this._key)}toJSON(){return{type:Mt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(lu(n,Mt._jsonSchema))return new Mt(e,s||null,new de(et.fromString(n.referencePath)))}}Mt._jsonSchemaVersion="firestore/documentReference/1.0",Mt._jsonSchema={type:It("string",Mt._jsonSchemaVersion),referencePath:It("string")};class Jr extends Zs{constructor(e,n,s){super(e,n,_p(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Mt(this.firestore,null,new de(e))}withConverter(e){return new Jr(this.firestore,e,this._path)}}function MS(r,e,...n){if(r=Zt(r),S0("collection","path",e),r instanceof Xh){const s=et.fromString(e,...n);return rE(s),new Jr(r,null,s)}{if(!(r instanceof Mt||r instanceof Jr))throw new oe(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(et.fromString(e,...n));return rE(s),new Jr(r.firestore,null,s)}}function xS(r,e,...n){if(r=Zt(r),arguments.length===1&&(e=fp.newId()),S0("doc","path",e),r instanceof Xh){const s=et.fromString(e,...n);return iE(s),new Mt(r,null,new de(s))}{if(!(r instanceof Mt||r instanceof Jr))throw new oe(W.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(et.fromString(e,...n));return iE(s),new Mt(r.firestore,r instanceof Jr?r.converter:null,new de(s))}}const YE="AsyncQueue";class QE{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new mS(this,"async_queue_retry"),this._c=()=>{const s=gm();s&&le(YE,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=gm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=gm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Bs;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!_o(e))throw e;le(YE,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,sr("INTERNAL UNHANDLED ERROR: ",XE(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=Vp.createAndSchedule(this,e,n,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&ye(47125,{Pc:XE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function XE(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class Wl extends Xh{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new QE,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new QE(e),this._firestoreClient=void 0,await e}}}function wO(r,e){const n=typeof r=="object"?r:OT(),s=typeof r=="string"?r:Eh,o=np(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=Rw("firestore");u&&bO(o,...u)}return o}function LS(r){if(r._terminated)throw new oe(W.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||RO(r),r._firestoreClient}function RO(r){const e=r._freezeSettings(),n=AO(r._databaseId,r._app?.options.appId||"",r._persistenceKey,r._app?.options.apiKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new yO(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(r._componentsProvider))}class Un{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Un(Yt.fromBase64String(e))}catch(n){throw new oe(W.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Un(Yt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Un._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(lu(e,Un._jsonSchema))return Un.fromBase64String(e.bytes)}}Un._jsonSchemaVersion="firestore/bytes/1.0",Un._jsonSchema={type:It("string",Un._jsonSchemaVersion),bytes:It("string")};class PS{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new oe(W.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Kt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class US{constructor(e){this._methodName=e}}class Ni{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new oe(W.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new oe(W.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return xe(this._lat,e._lat)||xe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ni._jsonSchemaVersion}}static fromJSON(e){if(lu(e,Ni._jsonSchema))return new Ni(e.latitude,e.longitude)}}Ni._jsonSchemaVersion="firestore/geoPoint/1.0",Ni._jsonSchema={type:It("string",Ni._jsonSchemaVersion),latitude:It("number"),longitude:It("number")};class Wn{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Wn._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(lu(e,Wn._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Wn(e.vectorValues);throw new oe(W.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Wn._jsonSchemaVersion="firestore/vectorValue/1.0",Wn._jsonSchema={type:It("string",Wn._jsonSchemaVersion),vectorValues:It("object")};const CO=/^__.*__$/;class IO{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new Js(e,this.data,this.fieldMask,n,this.fieldTransforms):new uu(e,this.data,n,this.fieldTransforms)}}function kS(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ye(40011,{dataSource:r})}}class Up{constructor(e,n,s,o,u,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.validatePath(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new Up({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const n=this.path?.child(e),s=this.contextWith({path:n,arrayElement:!1});return s.validatePathSegment(e),s}childContextForFieldPath(e){const n=this.path?.child(e),s=this.contextWith({path:n,arrayElement:!1});return s.validatePath(),s}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return Dh(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(kS(this.dataSource)&&CO.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class DO{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Kh(e)}createContext(e,n,s,o=!1){return new Up({dataSource:e,methodName:n,targetDoc:s,path:Kt.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function zS(r){const e=r._freezeSettings(),n=Kh(r._databaseId);return new DO(r._databaseId,!!e.ignoreUndefinedProperties,n)}function NO(r,e,n,s,o,u={}){const f=r.createContext(u.merge||u.mergeFields?2:0,e,n,o);qS("Data must be an object, but it was:",f,s);const m=BS(s,f);let g,y;if(u.merge)g=new Jn(f.fieldMask),y=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const S of u.mergeFields){const w=du(e,S,n);if(!f.contains(w))throw new oe(W.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);xO(E,w)||E.push(w)}g=new Jn(E),y=f.fieldTransforms.filter((S=>g.covers(S.field)))}else g=null,y=f.fieldTransforms;return new IO(new Pn(m),g,y)}function OO(r,e,n,s=!1){return kp(n,r.createContext(s?4:3,e))}function kp(r,e){if(jS(r=Zt(r)))return qS("Unsupported field value:",e,r),BS(r,e);if(r instanceof US)return(function(s,o){if(!kS(o.dataSource))throw o.createError(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(s,o){const u=[];let f=0;for(const m of s){let g=kp(m,o.childContextForArray(f));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),f++}return{arrayValue:{values:u}}})(r,e)}return(function(s,o){if((s=Zt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return fD(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=tt.fromDate(s);return{timestampValue:wh(o.serializer,u)}}if(s instanceof tt){const u=new tt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:wh(o.serializer,u)}}if(s instanceof Ni)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Un)return{bytesValue:nS(o.serializer,s._byteString)};if(s instanceof Mt){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.createError(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Ap(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Wn)return(function(f,m){const g=f instanceof Wn?f.toArray():f;return{mapValue:{fields:{[O0]:{stringValue:V0},[Th]:{arrayValue:{values:g.map((E=>{if(typeof E!="number")throw m.createError("VectorValues must only contain numeric values.");return vp(m.serializer,E)}))}}}}}})(s,o);if(uS(s))return s._toProto(o.serializer);throw o.createError(`Unsupported field value: ${Uh(s)}`)})(r,e)}function BS(r,e){const n={};return w0(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Xs(r,((s,o)=>{const u=kp(o,e.childContextForField(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function jS(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof tt||r instanceof Ni||r instanceof Un||r instanceof Mt||r instanceof US||r instanceof Wn||uS(r))}function qS(r,e,n){if(!jS(n)||!A0(n)){const s=Uh(n);throw s==="an object"?e.createError(r+" a custom object"):e.createError(r+" "+s)}}function du(r,e,n){if((e=Zt(e))instanceof PS)return e._internalPath;if(typeof e=="string")return MO(r,e);throw Dh("Field path arguments must be of type string or ",r,!1,void 0,n)}const VO=new RegExp("[~\\*/\\[\\]]");function MO(r,e,n){if(e.search(VO)>=0)throw Dh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new PS(...e.split("."))._internalPath}catch{throw Dh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function Dh(r,e,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let g="";return(u||f)&&(g+=" (found",u&&(g+=` in field ${s}`),f&&(g+=` in document ${o}`),g+=")"),new oe(W.INVALID_ARGUMENT,m+r+g)}function xO(r,e){return r.some((n=>n.isEqual(e)))}class LO{convertValue(e,n="none"){switch(ts(e)){case 0:return null;case 1:return e.booleanValue;case 2:return gt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(es(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ye(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Xs(e,((o,u)=>{s[o]=this.convertValue(u,n)})),s}convertVectorValue(e){const n=e.fields?.[Th].arrayValue?.values?.map((s=>gt(s.doubleValue)));return new Wn(n)}convertGeoPoint(e){return new Ni(gt(e.latitude),gt(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Bh(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Kl(e));default:return null}}convertTimestamp(e){const n=Zr(e);return new tt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=et.fromString(e);Fe(lS(s),9688,{name:e});const o=new Yl(s.get(1),s.get(3)),u=new de(s.popFirst(5));return o.isEqual(n)||sr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}class HS extends LO{constructor(e){super(),this.firestore=e}convertBytes(e){return new Un(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Mt(this.firestore,null,n)}}const $E="@firebase/firestore",JE="4.10.0";function WE(r){return(function(n,s){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1})(r,["next","error","complete"])}class FS{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Mt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new PO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const n=this._document.data.field(du("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class PO extends FS{data(){return super.data()}}function UO(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new oe(W.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class zp{}class GS extends zp{}function ZE(r,e,...n){let s=[];e instanceof zp&&s.push(e),s=s.concat(n),(function(u){const f=u.filter((g=>g instanceof Bp)).length,m=u.filter((g=>g instanceof $h)).length;if(f>1||f>0&&m>0)throw new oe(W.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)r=o._apply(r);return r}class $h extends GS{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new $h(e,n,s)}_apply(e){const n=this._parse(e);return KS(e._query,n),new Zs(e.firestore,e.converter,Lm(e._query,n))}_parse(e){const n=zS(e.firestore);return(function(u,f,m,g,y,E,S){let w;if(y.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new oe(W.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){tT(S,E);const J=[];for(const X of S)J.push(eT(g,u,X));w={arrayValue:{values:J}}}else w=eT(g,u,S)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||tT(S,E),w=OO(m,f,S,E==="in"||E==="not-in");return Ct.create(y,E,w)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function kO(r,e,n){const s=e,o=du("where",r);return $h._create(o,s,n)}class Bp extends zp{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Bp(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:ti.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,u){let f=o;const m=u.getFlattenedFilters();for(const g of m)KS(f,g),f=Lm(f,g)})(e._query,n),new Zs(e.firestore,e.converter,Lm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class jp extends GS{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new jp(e,n)}_apply(e){const n=(function(o,u,f){if(o.startAt!==null)throw new oe(W.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new oe(W.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Xl(u,f)})(e._query,this._field,this._direction);return new Zs(e.firestore,e.converter,rD(e._query,n))}}function zO(r,e="asc"){const n=e,s=du("orderBy",r);return jp._create(s,n)}function eT(r,e,n){if(typeof(n=Zt(n))=="string"){if(n==="")throw new oe(W.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!B0(e)&&n.indexOf("/")!==-1)throw new oe(W.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(et.fromString(n));if(!de.isDocumentKey(s))throw new oe(W.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return fE(r,new de(s))}if(n instanceof Mt)return fE(r,n._key);throw new oe(W.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Uh(n)}.`)}function tT(r,e){if(!Array.isArray(r)||r.length===0)throw new oe(W.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function KS(r,e){const n=(function(o,u){for(const f of o)for(const m of f.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null})(r.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new oe(W.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new oe(W.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function BO(r,e,n){let s;return s=r?r.toFirestore(e):e,s}class xl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class js extends FS{constructor(e,n,s,o,u,f){super(e,n,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new uh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(du("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new oe(W.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=js._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}js._jsonSchemaVersion="firestore/documentSnapshot/1.0",js._jsonSchema={type:It("string",js._jsonSchemaVersion),bundleSource:It("string","DocumentSnapshot"),bundleName:It("string"),bundle:It("string")};class uh extends js{data(e={}){return super.data(e)}}class to{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new xl(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new uh(this._firestore,this._userDataWriter,s.key,s,new xl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new oe(W.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((m=>{const g=new uh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new xl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:g,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const g=new uh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new xl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,E=-1;return m.type!==0&&(y=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:jO(m.type),doc:g,oldIndex:y,newIndex:E}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new oe(W.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=to._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=fp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function jO(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ye(61501,{type:r})}}to._jsonSchemaVersion="firestore/querySnapshot/1.0",to._jsonSchema={type:It("string",to._jsonSchemaVersion),bundleSource:It("string","QuerySnapshot"),bundleName:It("string"),bundle:It("string")};function qO(r){return YS(Wa(r.firestore,Wl),[new Ep(r._key,Ii.none())])}function HO(r,e){const n=Wa(r.firestore,Wl),s=xS(r),o=BO(r.converter,e),u=zS(r.firestore);return YS(n,[NO(u,"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,Ii.exists(!1))]).then((()=>s))}function FO(r,...e){r=Zt(r);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||WE(e[s])||(n=e[s++]);const o={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(WE(e[s])){const y=e[s];e[s]=y.next?.bind(y),e[s+1]=y.error?.bind(y),e[s+2]=y.complete?.bind(y)}let u,f,m;if(r instanceof Mt)f=Wa(r.firestore,Wl),m=_p(r._key.path),u={next:y=>{e[s]&&e[s](GO(f,r,y))},error:e[s+1],complete:e[s+2]};else{const y=Wa(r,Zs);f=Wa(y.firestore,Wl),m=y._query;const E=new HS(f);u={next:S=>{e[s]&&e[s](new to(f,E,y,S))},error:e[s+1],complete:e[s+2]},UO(r._query)}const g=LS(f);return EO(g,m,o,u)}function YS(r,e){const n=LS(r);return TO(n,e)}function GO(r,e,n){const s=n.docs.get(e._key),o=new HS(r);return new js(r,o,e._key,s,new xl(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){_2(mo),no(new Hs("firestore",((s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new Wl(new T2(s.getProvider("auth-internal")),new b2(f,s.getProvider("app-check-internal")),j2(f,o),f);return u={useFetchStreams:n,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),Xr($E,JE,e),Xr($E,JE,"esm2020")})();const QS={apiKey:"AIzaSyByzpbbYlFPoRkPdu8huJCxDUcuy0w5Dhc",authDomain:"mykakeibo-fb41d.firebaseapp.com",projectId:"mykakeibo-fb41d",storageBucket:"mykakeibo-fb41d.firebasestorage.app",messagingSenderId:"438779128714",appId:"1:438779128714:web:dd0b81b79a2c9e0e08f673"};QS.apiKey||console.error("Firebase API Key is missing! Check your environment variables.");const XS=NT(QS),$c=m2(XS),$S=wO(XS),JS=q.createContext();function Jh(){return q.useContext(JS)}function KO({children:r}){const[e,n]=q.useState(null),[s,o]=q.useState(!0);function u(y,E){return WC($c,y,E)}function f(y,E){return ZC($c,y,E)}function m(){return iI($c)}q.useEffect(()=>nI($c,E=>{n(E),o(!1)}),[]);const g={currentUser:e,signup:u,login:f,logout:m};return te.jsx(JS.Provider,{value:g,children:s?te.jsx("div",{children:"Loading..."}):r})}function YO(){const[r,e]=q.useState(""),[n,s]=q.useState(""),[o,u]=q.useState(""),[f,m]=q.useState(!1),{login:g}=Jh(),y=eu();async function E(S){S.preventDefault();try{u(""),m(!0),await g(r,n),y("/")}catch{u("Failed to log in. Please check your email and password.")}m(!1)}return te.jsx("div",{className:"auth-container",children:te.jsxs("div",{className:"auth-card",children:[te.jsx("h2",{children:"Log In"}),o&&te.jsx("div",{className:"alert error",children:o}),te.jsxs("form",{onSubmit:E,children:[te.jsxs("div",{className:"form-group",children:[te.jsx("label",{htmlFor:"email",children:"Email"}),te.jsx("input",{type:"email",id:"email",value:r,onChange:S=>e(S.target.value),required:!0})]}),te.jsxs("div",{className:"form-group",children:[te.jsx("label",{htmlFor:"password",children:"Password"}),te.jsx("input",{type:"password",id:"password",value:n,onChange:S=>s(S.target.value),required:!0})]}),te.jsx("button",{disabled:f,type:"submit",className:"btn-primary",children:"Log In"})]}),te.jsxs("div",{className:"auth-footer",children:["Need an account? ",te.jsx(Vh,{to:"/signup",children:"Sign Up"})]})]})})}function QO(){const[r,e]=q.useState(""),[n,s]=q.useState(""),[o,u]=q.useState(""),[f,m]=q.useState(""),[g,y]=q.useState(!1),{signup:E}=Jh(),S=eu();async function w(U){if(U.preventDefault(),n!==o)return m("Passwords do not match");try{m(""),y(!0),await E(r,n),S("/")}catch(J){console.error(J),m("Failed to create an account.")}y(!1)}return te.jsx("div",{className:"auth-container",children:te.jsxs("div",{className:"auth-card",children:[te.jsx("h2",{children:"Sign Up"}),f&&te.jsx("div",{className:"alert error",children:f}),te.jsxs("form",{onSubmit:w,children:[te.jsxs("div",{className:"form-group",children:[te.jsx("label",{htmlFor:"email",children:"Email"}),te.jsx("input",{type:"email",id:"email",value:r,onChange:U=>e(U.target.value),required:!0})]}),te.jsxs("div",{className:"form-group",children:[te.jsx("label",{htmlFor:"password",children:"Password"}),te.jsx("input",{type:"password",id:"password",value:n,onChange:U=>s(U.target.value),required:!0})]}),te.jsxs("div",{className:"form-group",children:[te.jsx("label",{htmlFor:"password-confirm",children:"Password Confirmation"}),te.jsx("input",{type:"password",id:"password-confirm",value:o,onChange:U=>u(U.target.value),required:!0})]}),te.jsx("button",{disabled:g,type:"submit",className:"btn-primary",children:"Sign Up"})]}),te.jsxs("div",{className:"auth-footer",children:["Already have an account? ",te.jsx(Vh,{to:"/login",children:"Log In"})]})]})})}function XO(r,e,n){const[s,o]=q.useState(null),[u,f]=q.useState(null);return q.useEffect(()=>{let m=MS($S,r);e&&(m=ZE(m,kO(...e))),n&&(m=ZE(m,zO(...n)));const g=FO(m,y=>{let E=[];y.docs.forEach(S=>{E.push({...S.data(),id:S.id})}),o(E),f(null)},y=>{console.error(y),f("Could not fetch the data")});return()=>g()},[r,e,n]),{documents:s,error:u}}function WS(r){const[e,n]=q.useState(!1),[s,o]=q.useState(null),u=MS($S,r);return{addDocument:async g=>{n(!0);try{const y=tt.fromDate(new Date),E=await HO(u,{...g,createdAt:y});return n(!1),E}catch(y){return console.error(y),o(y.message),n(!1),null}},deleteDocument:async g=>{n(!0);try{await qO(xS(u,g)),n(!1)}catch(y){console.error(y),o(y.message),n(!1)}},loading:e,error:s}}function $O({uid:r}){const[e,n]=q.useState(""),[s,o]=q.useState(""),[u,f]=q.useState("expense"),{addDocument:m,loading:g}=WS("transactions"),y=async E=>{E.preventDefault(),!(!e||!s)&&(await m({uid:r,name:e,amount:parseInt(s,10),type:u,date:new Date().toISOString()}),n(""),o(""))};return te.jsxs("div",{className:"transaction-form-container",children:[te.jsx("h3",{children:"Add Transaction"}),te.jsxs("form",{onSubmit:y,className:"transaction-form",children:[te.jsxs("div",{className:"form-row",children:[te.jsxs("label",{children:[te.jsx("span",{children:"Description"}),te.jsx("input",{type:"text",required:!0,onChange:E=>n(E.target.value),value:e,placeholder:"Rent, Groceries..."})]}),te.jsxs("label",{children:[te.jsx("span",{children:"Amount ()"}),te.jsx("input",{type:"number",required:!0,onChange:E=>o(E.target.value),value:s,placeholder:"0"})]})]}),te.jsxs("div",{className:"form-row",children:[te.jsxs("div",{className:"type-selector",children:[te.jsx("button",{type:"button",className:u==="expense"?"active expense":"",onClick:()=>f("expense"),children:"Expense"}),te.jsx("button",{type:"button",className:u==="income"?"active income":"",onClick:()=>f("income"),children:"Income"})]}),te.jsx("button",{type:"submit",className:"btn-primary",disabled:g,children:g?"Adding...":"Add Transaction"})]})]})]})}function JO({transactions:r}){const{deleteDocument:e}=WS("transactions");return te.jsx("ul",{className:"transaction-list",children:r.map(n=>te.jsxs("li",{className:`transaction-item ${n.type}`,children:[te.jsxs("div",{className:"transaction-info",children:[te.jsx("p",{className:"name",children:n.name}),te.jsx("p",{className:"date",children:n.date?new Date(n.date).toLocaleDateString():""})]}),te.jsxs("div",{className:"transaction-amount",children:[te.jsxs("span",{children:[n.type==="income"?"+":"-","",n.amount]}),te.jsx("button",{className:"btn-delete",onClick:()=>e(n.id),"aria-label":"delete transaction",children:"x"})]})]},n.id))})}function WO(){const{currentUser:r,logout:e}=Jh(),n=eu(),s=q.useMemo(()=>["uid","==",r?.uid],[r?.uid]),o=q.useMemo(()=>["createdAt","desc"],[]),{documents:u,error:f}=XO("transactions",s,o),m=u?u.filter(S=>S.type==="income").reduce((S,w)=>S+w.amount,0):0,g=u?u.filter(S=>S.type==="expense").reduce((S,w)=>S+w.amount,0):0,y=m-g;async function E(){try{await e(),n("/login")}catch{console.error("Failed to log out")}}return te.jsxs("div",{className:"dashboard-container",children:[te.jsxs("header",{className:"dashboard-header",children:[te.jsx("h1",{children:"My Kakeibo"}),te.jsxs("div",{className:"user-info",children:[te.jsx("span",{children:r.email}),te.jsx("button",{onClick:E,className:"btn-secondary",children:"Log Out"})]})]}),te.jsxs("main",{className:"dashboard-content",children:[te.jsxs("div",{className:"summary-cards",children:[te.jsxs("div",{className:"card income",children:[te.jsx("h3",{children:"Income"}),te.jsxs("p",{className:"amount",children:["",m.toLocaleString()]})]}),te.jsxs("div",{className:"card expense",children:[te.jsx("h3",{children:"Expense"}),te.jsxs("p",{className:"amount",children:["",g.toLocaleString()]})]}),te.jsxs("div",{className:"card balance",children:[te.jsx("h3",{children:"Balance"}),te.jsxs("p",{className:"amount",children:["",y.toLocaleString()]})]})]}),te.jsxs("div",{className:"layout-grid",children:[te.jsx("div",{className:"main-content",children:te.jsx($O,{uid:r.uid})}),te.jsxs("div",{className:"sidebar-content",children:[te.jsx("h2",{children:"Recent Transactions"}),f&&te.jsx("p",{className:"error",children:f}),u&&te.jsx(JO,{transactions:u})]})]})]})]})}function ZO({children:r}){const{currentUser:e}=Jh();return e?r:te.jsx(P1,{to:"/login"})}function eV(){return te.jsx("div",{className:"app",children:te.jsx(KO,{children:te.jsxs(k1,{children:[te.jsx(Jc,{path:"/",element:te.jsx(ZO,{children:te.jsx(WO,{})})}),te.jsx(Jc,{path:"/login",element:te.jsx(YO,{})}),te.jsx(Jc,{path:"/signup",element:te.jsx(QO,{})})]})})})}Bb.createRoot(document.getElementById("root")).render(te.jsx(Vb.StrictMode,{children:te.jsx(lw,{basename:"/mykakeibo/",children:te.jsx(eV,{})})}));
